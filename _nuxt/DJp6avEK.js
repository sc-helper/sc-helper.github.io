import{_ as k}from"./BjmdbhPa.js";import{_ as x}from"./BWkho9K1.js";import{u as I}from"./wZtjfFTg.js";import{u as F}from"./DnFF2Im6.js";import{V as M}from"./DurCOGmw.js";import{d as P,c as R,a as b,o as w,b4 as S,b5 as B,h as v,G as c,w as g,u as T,f as K,e as z,m as E,_ as G,v as H,b6 as L,K as A,b7 as y}from"./6PxpDJDA.js";import{V as N}from"./6sMmJrEW.js";const O=["innerHTML"],W=P({__name:"WarTooltip",props:{description:{},descriptionClass:{},disabled:{type:Boolean},src:{},coords:{},padding:{}},setup(t){const d=I("tooltipsDisabled","false"),l=F(),s=R(()=>{const o=t.disabled||d.value==="true";return l.value?!o:o});return(o,n)=>{const a=k,r=x;return w(),b("div",S(B(o.$attrs)),[v(a,null,{default:g(()=>[v(M,{location:"bottom center",activator:"parent","max-width":"350","close-on-content-click":"",transition:{component:T(N)},disabled:T(s),class:"tooltip-opacity"},{default:g(()=>[c(o.$slots,"tooltip:body",{},()=>[c(o.$slots,"tooltip",{},void 0,!0),t.description?(w(),b("div",{key:0,class:z([t.descriptionClass,"war-tooltip"]),innerHTML:t.description},null,10,O)):K("",!0),c(o.$slots,"postfix",{},void 0,!0)],!0)]),_:3},8,["transition","disabled"])]),_:3}),v(r,E({src:t.src,coords:t.coords,padding:t.padding,width:"100%"},o.$attrs),null,16,["src","coords","padding"]),c(o.$slots,"default",{},void 0,!0)],16)}}}),Z=G(W,[["__scopeId","data-v-9e81cf30"]]),oo=async(t,d,l)=>{const s=H().currentRoute.value,o=d??s.params.versionType??"og";let n=l??(s.params.version||"latest");n==="latest"&&(n=L[o]);const a=A[o];if(!a)throw y("unknown version type");const r=a[n];if(!r)throw y("unknown version");const e=await r();if(!(t in e.racesData))throw y("No race found");const i=await e.racesData[t](),$=(_,p)=>{if(!p||p===1){const[h,u,m,f]=i.icons[_]??[0,0,1,1];return{x:h,y:u,width:m,height:f}}return Array.from({length:p},(h,u)=>{const m=`${_}-${u+1}`,[f,C,V,D]=i.icons[m]??[0,0,1,1];return{x:f,y:C,width:V,height:D}})};return{raceData:i.data,raceIconsCoords:i.icons,iconProps:$,iconsSrc:e.racesIcons[t],version:e.version,versionType:e.versionType}};export{Z as _,oo as u};
