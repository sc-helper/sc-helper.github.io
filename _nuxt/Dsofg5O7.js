import{_ as Oe}from"./BrshMhtu.js";import{u as L,_ as ie}from"./BDUuBRzI.js";import{g as Z,p as X,i as V,b as s,w as ke,v as Fe,c as w,au as Ae,ai as ge,N as Q,ad as Ge,af as ze,t as D,ah as We,av as qe,e as I,a0 as B,h as $,j as b,aw as xe,z as o,F as R,l as A,k as n,E as P,y as v,q as j,C as H,D as C,_ as W,r as U,A as G,Q as K,x as T,M as ee,ax as Qe,ay as Ke,f as we,m as re,O as Pe,az as Ye,P as q,aA as Ze,aB as Je,aC as Ce,aD as $e,aE as Xe,n as Te,G as et,at as tt}from"./D_cMduBQ.js";import{u as Se}from"./gQOZfpqU.js";import{b as st,c as nt,a as ot}from"./CIXavxrM.js";import{c as Ve,d as Ie,e as at,f as lt,V as z}from"./BYF1fKhy.js";import{_ as ce}from"./BIVI8hgj.js";import{a as te}from"./BhZd9UFP.js";import{_ as E}from"./CpIzcMX5.js";import{u as ue}from"./CxPw4D9v.js";import{a as N,V as he}from"./d1NfHLZj.js";import{a as it,V as rt}from"./B9ldzabT.js";import{u as se,i as de,R as ct,l as De,p as ut,q as je,V as Me,r as dt,s as mt,t as pt,d as He,f as ft,g as vt,b as _t,v as bt}from"./DdBaHQoC.js";import{u as yt,m as gt,_ as Ee,V as me}from"./COmDKOui.js";import{_ as O,a as pe}from"./CGntMU1d.js";import{h as Re}from"./Dd2277SN.js";import{u as xt}from"./DAa-Wzeo.js";import{V as ht}from"./gJS6JbWX.js";import{a as fe,_ as kt}from"./Cgj5PGVC.js";import{_ as ne}from"./BDQKGacR.js";import{I as wt,D as Pt}from"./DYmvtetA.js";import"./DXvi2s_b.js";import"./DbYZnSlv.js";/* empty css        */import"./BfrCd2Sl.js";const Y=Symbol.for("vuetify:v-expansion-panel"),Ne=X({...de(),...gt()},"VExpansionPanelText"),S=Z()({name:"VExpansionPanelText",props:Ne(),setup(e,l){let{slots:u}=l;const r=V(Y);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:m,onAfterLeave:t}=yt(e,r.isSelected);return se(()=>s(it,{onAfterLeave:t},{default:()=>{var a;return[ke(s("div",{class:["v-expansion-panel-text",e.class],style:e.style},[u.default&&m.value&&s("div",{class:"v-expansion-panel-text__wrapper"},[(a=u.default)==null?void 0:a.call(u)])]),[[Fe,r.isSelected.value]])]}})),{}}}),Ue=X({color:String,expandIcon:{type:ge,default:"$expand"},collapseIcon:{type:ge,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...de(),...dt()},"VExpansionPanelTitle"),le=Z()({name:"VExpansionPanelTitle",directives:{Ripple:ct},props:Ue(),setup(e,l){let{slots:u}=l;const r=V(Y);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:m,backgroundColorStyles:t}=De(e,"color"),{dimensionStyles:a}=ut(e),d=w(()=>({collapseIcon:e.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),g=w(()=>r.isSelected.value?e.collapseIcon:e.expandIcon);return se(()=>{var k;return ke(s("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},m.value,e.class],style:[t.value,a.value,e.style],type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:e.readonly?void 0:r.toggle},[s("span",{class:"v-expansion-panel-title__overlay"},null),(k=u.default)==null?void 0:k.call(u,d.value),!e.hideActions&&s(je,{defaults:{VIcon:{icon:g.value}}},{default:()=>{var _;return[s("span",{class:"v-expansion-panel-title__icon"},[((_=u.actions)==null?void 0:_.call(u,d.value))??s(Me,null,null)])]}})]),[[Ae("ripple"),e.ripple]])}),{}}}),Le=X({title:String,text:String,bgColor:String,...vt(),...Ie(),...ft(),...He(),...Ue(),...Ne()},"VExpansionPanel"),M=Z()({name:"VExpansionPanel",props:Le(),emits:{"group:selected":e=>!0},setup(e,l){let{slots:u}=l;const r=Ve(e,Y),{backgroundColorClasses:m,backgroundColorStyles:t}=De(e,"bgColor"),{elevationClasses:a}=mt(e),{roundedClasses:d}=pt(e),g=w(()=>(r==null?void 0:r.disabled.value)||e.disabled),k=w(()=>r.group.items.value.reduce((c,p,f)=>(r.group.selected.value.includes(p.id)&&c.push(f),c),[])),_=w(()=>{const c=r.group.items.value.findIndex(p=>p.id===r.id);return!r.isSelected.value&&k.value.some(p=>p-c===1)}),i=w(()=>{const c=r.group.items.value.findIndex(p=>p.id===r.id);return!r.isSelected.value&&k.value.some(p=>p-c===-1)});return Q(Y,r),se(()=>{const c=!!(u.text||e.text),p=!!(u.title||e.title),f=le.filterProps(e),h=S.filterProps(e);return s(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":_.value,"v-expansion-panel--after-active":i.value,"v-expansion-panel--disabled":g.value},d.value,m.value,e.class],style:[t.value,e.style]},{default:()=>[s("div",{class:["v-expansion-panel__shadow",...a.value]},null),s(je,{defaults:{VExpansionPanelTitle:{...f},VExpansionPanelText:{...h}}},{default:()=>{var y;return[p&&s(le,{key:"title"},{default:()=>[u.title?u.title():e.title]}),c&&s(S,{key:"text"},{default:()=>[u.text?u.text():e.text]}),(y=u.default)==null?void 0:y.call(u)]}})]})}),{groupItem:r}}}),Ct=["default","accordion","inset","popout"],$t=X({flat:Boolean,...lt(),...qe(Le(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...We(),...de(),...He(),variant:{type:String,default:"default",validator:e=>Ct.includes(e)}},"VExpansionPanels"),ve=Z()({name:"VExpansionPanels",props:$t(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:u}=l;const{next:r,prev:m}=at(e,Y),{themeClasses:t}=Ge(e),a=w(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return ze({VExpansionPanel:{bgColor:D(e,"bgColor"),collapseIcon:D(e,"collapseIcon"),color:D(e,"color"),eager:D(e,"eager"),elevation:D(e,"elevation"),expandIcon:D(e,"expandIcon"),focusable:D(e,"focusable"),hideActions:D(e,"hideActions"),readonly:D(e,"readonly"),ripple:D(e,"ripple"),rounded:D(e,"rounded"),static:D(e,"static")}}),se(()=>s(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},t.value,a.value,e.class],style:e.style},{default:()=>{var d;return[(d=u.default)==null?void 0:d.call(u,{prev:m,next:r})]}})),{next:r,prev:m}}}),Tt=Z()({name:"VSlideGroupItem",props:Ie(),emits:{"group:selected":e=>!0},setup(e,l){let{slots:u}=l;const r=Ve(e,st);return()=>{var m;return(m=u.default)==null?void 0:m.call(u,{isSelected:r.isSelected.value,select:r.select,toggle:r.toggle,selectedClass:r.selectedClass.value})}}}),St=["innerHTML"],Vt=I({__name:"RaceSelectRibbon",async setup(e){let l,u;const r=Se("iconSize"),{raceData:m,iconProps:t,iconsSrc:a}=([l,u]=B(()=>L("races")),l=await l,u(),l),d=w(()=>Object.values(m).flat());return(g,k)=>{const _=Oe,i=ie;return b(),$("div",null,[s(nt,{"model-value":(g._.provides[xe]||g.$route).params.race,"center-active":"","show-arrows":""},{default:o(()=>[(b(!0),$(R,null,A(n(d),c=>(b(),P(Tt,{value:c.key,key:c.key},{default:o(({isSelected:p})=>[v("div",{class:j(["race-wrapper",{selected:p}])},[s(i,{coords:n(t)(c.id),src:n(a),description:"",width:n(r)},{tooltip:o(()=>[v("div",{innerHTML:c.name},null,8,St)]),default:o(()=>[s(_,{to:{name:"RaceIndex",params:{...(g._.provides[xe]||g.$route).params,race:c.key}}},{default:o(()=>[H(C(c.name),1)]),_:2},1032,["to"])]),_:2},1032,["coords","src","width"])],2)]),_:2},1032,["value"]))),128))]),_:1},8,["model-value"])])}}}),It=W(Vt,[["__scopeId","data-v-f1152851"]]),Dt={key:0,class:"d-flex row-warp align-center my-1"},jt={class:"ml-2 mt-n1"},Mt={class:"ml-2 mt-n1"},Ht=["innerHTML"],Et={class:"text-white bg-red mx-2 rounded-lg"},Rt={class:"text-white bg-blue mx-2 rounded-lg"},Nt={class:"d-flex align-center"},Ut={class:"ml-2 mt-n1"},Lt={class:"d-flex align-center"},Bt={class:"ml-2 mt-n1"},Ot={class:"upgrades-wrapper"},Ft=I({__name:"DetailsUnit",props:{item:{}},async setup(e){let l,u;const r=U(["characteristics","upgrades","items"]),[m,{gold:t,bounty:a,range:d,attackSpeed:g}]=ue(),k=V("raceName"),{iconProps:_,iconsSrc:i}=([l,u]=B(()=>L(k)),l=await l,u(),l),c=V("objFinder"),p=w(()=>!isNaN(Number(e.item.hpReg))),f=w(()=>!isNaN(Number(e.item.mpReg))),h=w(()=>{var y;return(y=e.item.upgrades)==null?void 0:y.map(x=>c("upgrade",x)).filter(G)});return(y,x)=>{var ye;const J=ie,be=te,Be=E;return b(),$(R,null,[K(y.$slots,"fullname",{},void 0,!0),(ye=y.item.tags)!=null&&ye.length?(b(),$("div",Dt,[x[1]||(x[1]=v("div",{class:"text-subtitle-2"},"Tags:",-1)),(b(!0),$(R,null,A(y.item.tags,F=>(b(),P(ot,{class:"ma-1 mr-0",density:"compact",size:"small"},{default:o(()=>[H(C(F),1)]),_:2},1024))),256))])):T("",!0),s(he,{class:"my-1"},{default:o(()=>[s(N,{cols:"6",class:"d-flex align-center py-0"},{default:o(()=>[s(J,{src:n(m),coords:n(t),width:"32",description:"Cost"},null,8,["src","coords"]),v("span",jt,C(y.item.cost),1)]),_:1}),s(N,{cols:"6",class:"d-flex align-center py-0"},{default:o(()=>[s(J,{src:n(m),coords:n(a),width:"32",description:"Kill bounty"},null,8,["src","coords"]),v("span",Mt,C(y.item.bounty),1)]),_:1})]),_:1}),s(ve,{elevation:"0",static:"",tile:"",multiple:"",modelValue:n(r),"onUpdate:modelValue":x[0]||(x[0]=F=>ee(r)?r.value=F:null)},{default:o(()=>{var F;return[y.item.description?(b(),P(M,{key:0,title:"Description",value:"description"},{default:o(()=>[s(S,null,{default:o(()=>[v("div",{class:"text-body-2",innerHTML:y.item.description},null,8,Ht)]),_:1})]),_:1})):T("",!0),K(y.$slots,"heroItems",{},void 0,!0),s(M,{title:"Characteristics",value:"characteristics"},{default:o(()=>[s(S,null,{default:o(()=>[s(he,{class:"my-1"},{default:o(()=>[s(N,{cols:"6",class:"text-center pt-0"},{default:o(()=>[v("div",Et,[v("b",null,C(y.item.hp),1),n(p)?(b(),$(R,{key:0},[H(" +"+C(y.item.hpReg)+"/sec",1)],64)):T("",!0)])]),_:1}),s(N,{cols:"6",class:"text-center pt-0"},{default:o(()=>[v("div",Rt,[v("b",null,C(y.item.mp),1),n(f)?(b(),$(R,{key:0},[H(" +"+C(y.item.mpReg)+"/sec",1)],64)):T("",!0)])]),_:1}),s(N,{cols:"6",class:"py-0"},{default:o(()=>[s(be,{type:y.item.atkType,value:y.item.atk},null,8,["type","value"]),v("div",Nt,[s(J,{src:n(m),coords:n(d),width:"32",description:"Attack range"},null,8,["src","coords"]),v("span",Ut,C(y.item.atkRange)+C(y.item.weaponType==="normal"?" (melee)":""),1)]),v("div",Lt,[s(J,{src:n(m),coords:n(g),width:"32",description:"Attack speed"},null,8,["src","coords"]),v("span",Bt,C(y.item.atkSpeed),1)])]),_:1}),s(N,{cols:"6",class:"py-0"},{default:o(()=>[s(be,{type:y.item.defType,value:y.item.def,"is-defend":""},null,8,["type","value"])]),_:1}),K(y.$slots,"attributes",{},void 0,!0)]),_:3})]),_:3})]),_:3}),(F=n(h))!=null&&F.length?(b(),P(M,{key:1,title:"Upgrades used",value:"upgrades"},{default:o(()=>[s(S,null,{default:o(()=>[v("div",Ot,[(b(!0),$(R,null,A(n(h),ae=>(b(),P(Be,{item:ae,src:n(i),coords:n(_)(ae.id,ae.iconsCount)},null,8,["item","src","coords"]))),256))])]),_:1})]),_:1})):T("",!0)]}),_:3},8,["modelValue"])],64)}}}),oe=W(Ft,[["__scopeId","data-v-f314cd24"]]),At=["innerHTML"],Gt={class:"d-flex justify-center"},zt=I({__name:"DetailsHero",props:{item:{}},async setup(e){let l,u;const r=V("raceName"),{iconProps:m,iconsSrc:t}=([l,u]=B(()=>L(r)),l=await l,u(),l),[a,{str:d,int:g,agi:k}]=ue(),_=w(()=>{if(!e.item.items)return[];const i=e.item.items.map(({level:p})=>p);if(!(i!=null&&i.length))return[];const c=i.filter(Qe).sort((p,f)=>p-f).reduce((p,f,h)=>(p[f]=Re[h],p),{});return e.item.items.map(p=>({...p,hotkey:c[p.level]}))});return(i,c)=>{const p=ce,f=E,h=O,y=oe;return b(),P(y,{item:i.item},{fullname:o(()=>[v("div",{innerHTML:i.item.fullName,class:"text-center text-subtitle-1"},null,8,At)]),attributes:o(()=>[s(N,{cols:"4",class:"text-center pb-0"},{default:o(()=>[s(p,{width:"32",src:n(a),coords:n(d),padding:[0,8,8,0]},null,8,["src","coords"]),v("div",{class:j({"text-yellow":i.item.stat==="str","font-bold":i.item.stat==="str"})},C(i.item.str)+"+"+C(i.item.strLvl),3)]),_:1}),s(N,{cols:"4",class:"text-center pb-0"},{default:o(()=>[s(p,{width:"32",src:n(a),coords:n(k),padding:[0,8,8,0]},null,8,["src","coords"]),v("div",{class:j({"text-yellow":i.item.stat==="agi","font-bold":i.item.stat==="agi"})},C(i.item.agi)+"+"+C(i.item.agiLvl),3)]),_:1}),s(N,{cols:"4",class:"text-center pb-0"},{default:o(()=>[s(p,{width:"32",src:n(a),coords:n(g),padding:[0,8,8,0]},null,8,["src","coords"]),v("div",{class:j({"text-yellow":i.item.stat==="int","font-bold":i.item.stat==="int"})},C(i.item.int)+"+"+C(i.item.intLvl),3)]),_:1})]),heroItems:o(()=>[n(_).length?(b(),P(M,{key:0,title:"Hero items",value:"items"},{default:o(()=>[s(S,null,{default:o(()=>[v("div",Gt,[s(h,{items:n(_),size:.75},{default:o(({item:x})=>[s(f,{src:n(t),coords:n(m)(x.id),item:x},null,8,["src","coords","item"])]),_:1},8,["items"])])]),_:1})]),_:1})):T("",!0)]),_:1},8,["item"])}}}),Wt=W(zt,[["__scopeId","data-v-dc1de915"]]),qt=["innerHTML"],Qt={class:"d-flex justify-center"},Kt={class:"d-flex justify-center"},Yt=I({__name:"DetailsUpgrade",props:{item:{}},async setup(e){let l,u;const r=U(["spells","summons","affects"]),m=V("raceName"),{raceData:t,iconProps:a,iconsSrc:d}=([l,u]=B(()=>L(m)),l=await l,u(),l),g=w(()=>{var i;return((i=e.item.spells)==null?void 0:i.map(c=>c.summonUnit).flat().filter(G).filter(Ke))??[]}),k=w(()=>e.item.spells),_=w(()=>{const i=Object.values(t.units).filter(({upgrades:p})=>p==null?void 0:p.includes(e.item.id)),c=t.bonuses.map(({units:p})=>p??[]).flat().filter(({upgrades:p})=>p==null?void 0:p.includes(e.item.id)).map(p=>{var h;const f=((h=t.bonuses.find(({units:y})=>y==null?void 0:y.some(({id:x})=>x===p.id)))==null?void 0:h.id)??"";return{...p,id:f}});return[...i,...c]});return(i,c)=>{const p=E,f=O,h=oe;return b(),P(ve,{elevation:"0",static:"",tile:"",multiple:"",modelValue:n(r),"onUpdate:modelValue":c[0]||(c[0]=y=>ee(r)?r.value=y:null)},{default:o(()=>{var y;return[i.item.description?(b(),P(M,{key:0,title:"Description",value:"description"},{default:o(()=>[s(S,null,{default:o(()=>[v("div",{class:"text-body-2",innerHTML:i.item.description},null,8,qt)]),_:1})]),_:1})):T("",!0),(y=n(k))!=null&&y.length?(b(),P(M,{key:1,title:"Spells",value:"spells"},{default:o(()=>[s(S,null,{default:o(()=>[v("div",Qt,[s(f,{items:n(k),"disable-details":"","skip-hotkey":""},{default:o(({item:x})=>[s(p,{item:x,src:n(d),coords:n(a)(x.id,x.iconsCount)},null,8,["item","src","coords"])]),_:1},8,["items"])])]),_:1})]),_:1})):T("",!0),(b(!0),$(R,null,A(n(g),x=>(b(),P(M,{title:`Summon: ${x.name}`,value:`summon-${x.id}`},{default:o(()=>[s(S,null,{default:o(()=>[s(h,{item:x},null,8,["item"])]),_:2},1024)]),_:2},1032,["title","value"]))),256)),n(_).length?(b(),P(M,{key:2,title:"Affects",value:"affects"},{default:o(()=>[s(S,null,{default:o(()=>[v("div",Kt,[s(f,{items:n(_),"disable-details":"","skip-hotkey":""},{default:o(({item:x})=>[s(p,{item:x,src:n(d),coords:n(a)(x.id,x.iconsCount)},null,8,["item","src","coords"])]),_:1},8,["items"])])]),_:1})]),_:1})):T("",!0)]}),_:1},8,["modelValue"])}}}),Zt=I({__name:"DetailsSpell",props:{item:{}},setup(e){return(l,u)=>(b(),$("div"))}}),Jt={class:"cost"},Xt=I({__name:"CombineCost",props:{items:{},count:{}},setup(e){const[l,{gold:u}]=ue(),r=w(()=>we(e.items).reduce((m,{cost:t})=>{var a;return m+((a=t??[])==null?void 0:a.slice(0,e.count).reduce((d,g)=>d+(g??0),0))},0));return(m,t)=>{const a=ce,d=Ee;return b(),P(d,null,{default:o(()=>[s(me,{location:"top"},{activator:o(({props:g})=>[v("div",re({class:"d-flex align-center"},g),[s(a,{src:n(l),coords:n(u),width:"16"},null,8,["src","coords"]),v("span",Jt,C(n(r)),1)],16)]),default:o(()=>[K(m.$slots,"default",{},()=>[t[0]||(t[0]=H("Total cost"))],!0)]),_:3})]),_:3})}}}),_e=W(Xt,[["__scopeId","data-v-1bade672"]]),es=["innerHTML"],ts={class:"d-flex justify-center"},ss={class:"d-flex justify-center"},ns=I({__name:"DetailsBonus",props:{item:{}},async setup(e){let l,u;const r=V("objFinder"),m=V("raceName"),{iconProps:t,iconsSrc:a}=([l,u]=B(()=>L(m)),l=await l,u(),l),d=U(["grid","opens"]);Pe(()=>e.item,i=>{var c;d.value=["grid"].concat(((c=i.units)==null?void 0:c.map(({id:p})=>`unit-${p}`))??[])});const g=w(()=>{var i;return(((i=e.item.spells)==null?void 0:i.length)??0)>1?!0:[e.item.units,e.item.upgrades].some(c=>!!(c!=null&&c.length))}),k=w(()=>[...(e.item.spells??[]).filter(({name:i})=>!!i),...e.item.upgrades??[]]),_=w(()=>e.item.relatedID.map(i=>r("upgrade",i)).filter(G));return(i,c)=>{const p=_e,f=E,h=O,y=oe;return b(),P(ve,{elevation:"0",static:"",tile:"",multiple:"",modelValue:n(d),"onUpdate:modelValue":c[0]||(c[0]=x=>ee(d)?d.value=x:null)},{default:o(()=>[i.item.description?(b(),P(M,{key:0,title:"Description",value:"description"},{default:o(()=>[s(S,null,{default:o(()=>[v("div",{class:"text-body-2",innerHTML:i.item.description},null,8,es)]),_:1})]),_:1})):T("",!0),n(g)&&n(k).length?(b(),P(M,{key:1,value:"grid"},{default:o(()=>[s(le,{width:"100%",class:"d-flex"},{default:o(()=>[c[2]||(c[2]=v("span",{class:"mr-auto"},"Bonus spells/upgrades",-1)),s(p,{items:i.item.upgrades??[]},{default:o(()=>c[1]||(c[1]=[H(" Total cost ")])),_:1},8,["items"])]),_:1}),s(S,null,{default:o(()=>[v("div",ts,[n(g)&&n(k).length?(b(),P(h,{key:0,items:n(k),"disable-details":"","show-empty":""},{default:o(({item:x})=>[s(f,{src:n(a),coords:n(t)(x.id,x.iconsCount),item:x},null,8,["src","coords","item"])]),_:1},8,["items"])):T("",!0)])]),_:1})]),_:1})):T("",!0),(b(!0),$(R,null,A(i.item.units,x=>(b(),P(M,{title:`Unit: ${x.name}`,value:`unit-${x.id}`},{default:o(()=>[s(S,null,{default:o(()=>[s(y,{item:x},null,8,["item"])]),_:2},1024)]),_:2},1032,["title","value"]))),256)),n(_).length?(b(),P(M,{key:2,title:"Unlocked upgrades",value:"opens"},{default:o(()=>[s(S,null,{default:o(()=>[v("div",ss,[s(h,{items:n(_),"disable-details":"","skip-hotkey":""},{default:o(({item:x})=>[s(f,{src:n(a),coords:n(t)(x.id,x.iconsCount),item:x},null,8,["src","coords","item"])]),_:1},8,["items"])])]),_:1})]),_:1})):T("",!0)]),_:1},8,["modelValue"])}}}),os=({item:e})=>{const l=we(e);if(l){if(Ye(l))return q(oe,{item:l});if(Ze(l))return q(Wt,{item:l});if(Je(l))return q(Yt,{item:l});if(Ce(l))return q(Zt,{item:l});if($e(l))return q(ns,{item:l})}},as={key:0,class:"d-flex align-center justify-space-between panel-header pb-2 elevation-1 mb-2"},ls=["innerHTML"],is={class:"panel-details"},rs=I({__name:"DetailsProvider",props:{objFinder:{type:Function},raceName:{}},async setup(e){let l,u;const{iconProps:r,iconsSrc:m}=([l,u]=B(()=>L(e.raceName)),l=await l,u(),l),t=U(null),a=xt(),d=w({get:()=>!!t.value,set:_=>{_||(t.value=null)}});Xe(()=>{a.value&&["bonus","spell","unit","hero","upgrade"].forEach(_=>{var c;if(!a.value||((c=t.value)==null?void 0:c.id)===a.value)return;const i=e.objFinder(_,a.value);i&&(t.value=i)})}),Pe(()=>t.value,_=>a.value=_==null?void 0:_.id);const g=_=>{t.value=_},k=()=>{var _;navigator.clipboard.writeText(((_=t.value)==null?void 0:_.id)||"")};return Q("detailsSet",g),Q("objFinder",e.objFinder),Q("raceName",e.raceName),(_,i)=>{const c=ce,p=os,f=Ee;return b(),$(R,null,[s(f,null,{default:o(()=>[s(ht,{modelValue:n(d),"onUpdate:modelValue":i[1]||(i[1]=h=>ee(d)?d.value=h:null),location:"left",temporary:"","disable-resize-watcher":"",elevation:"4",class:"pa-2",width:"400","disable-route-watcher":""},{default:o(()=>[n(t)?(b(),$("div",as,[s(me,{color:"transparent"},{activator:o(({props:h})=>[s(c,re({src:n(m),coords:n(r)(n(t).id),width:"32"},h,{onClick:k}),null,16,["src","coords"])]),default:o(()=>[H(" ID: "+C(n(t).id),1)]),_:1}),v("span",{innerHTML:n(t).name,class:"text-h6 mx-2"},null,8,ls),s(z,{density:"comfortable",icon:"",flat:"",onClick:i[0]||(i[0]=h=>g(null))},{default:o(()=>[s(Me,{icon:"$close"})]),_:1})])):T("",!0),v("div",is,[s(p,{item:n(t)},null,8,["item"])])]),_:1},8,["modelValue"])]),_:1}),K(_.$slots,"default",{},void 0,!0)],64)}}}),cs=W(rs,[["__scopeId","data-v-e1fba027"]]),us={class:"text-h6"},ds=["innerHTML"],ms={key:0,class:"text-subtitle-1"},ps={class:"text-yellow"},fs={key:1,class:"text-subtitle-1"},vs={key:0,class:"text-green"},_s=I({__name:"RaceFortress",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=V("hover",U()),u=w(()=>{const t=e.race.ultiData??(G(e.race.ultimateId)?{type:"ultimate",id:e.race.ultimateId,hotkey:"V",name:""}:void 0);return[e.race.t1spell,e.race.t2spell,t].filter(G)}),r=w(()=>e.race.magic.map((t,a)=>({...t,hotkey:Re[a]})).concat(...Object.values(e.race.baseUpgrades))),m=t=>{const a=Object.values(e.race.units).filter(({upgrades:d})=>d==null?void 0:d.includes(t.id)).map(({id:d})=>d);l.value=[t.id,...a]};return(t,a)=>{const d=pe,g=te,k=_e,_=fe,i=O,c=ie,p=ne;return b(),P(p,{title:"Fortress",class:"d-flex flex-column justify-start","full-height":!1,id:"fortress"},{title:o(()=>[s(d,{"hide-dot":"",item:t.race.buildings.fort},{default:o(()=>[s(z,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:o(()=>a[1]||(a[1]=[v("b",null,"Fortress",-1)])),_:1})]),_:1},8,["item"])]),prependHead:o(()=>[s(g,{key:"fort-attack",class:"ml-1",type:t.race.buildings.fort.atkType},null,8,["type"])]),appendHead:o(()=>[s(k,{key:"fort-cost",class:"mr-1",items:n(r)},null,8,["items"])]),default:o(()=>[s(_,{class:"mb-2 mt-n6"},{default:o(()=>a[2]||(a[2]=[v("span",{class:"mx-2 text-caption text-grey"},"Auras",-1)])),_:1}),s(i,{class:"mx-auto",items:t.race.auras},{default:o(({item:f})=>[s(n(E),{item:f,src:t.icons,coords:t.iconProps(f.id),class:j(["selectable-item",{depressed:n(l)&&!n(l).includes(f.id)}])},null,8,["item","src","coords","class"])]),_:1},8,["items"]),s(_,{class:"mb-1"},{default:o(()=>a[3]||(a[3]=[v("span",{class:"mx-2 text-caption text-grey"},"Upgrades",-1)])),_:1}),s(i,{class:"mx-auto",items:n(r)},{default:o(({item:f})=>[s(n(E),{item:f,src:t.icons,coords:!("level"in f)||(f.iconsCount??0)<=1?t.iconProps(f.id,f.iconsCount):t.iconProps(`${f.id}-${f.level}`),class:j(["selectable-item",{depressed:n(l)&&!n(l).includes(f.id)}]),onMouseenter:()=>m(f),onMouseout:a[0]||(a[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),s(_,{class:"mb-1"},{default:o(()=>a[4]||(a[4]=[v("span",{class:"mx-2 text-caption text-grey"},"Skills",-1)])),_:1}),s(i,{class:"mx-auto",items:n(u)},{default:o(({item:f})=>[("isSpellObject"in t?t.isSpellObject:n(Ce))(f)?(b(),P(n(E),{key:0,item:f,src:t.icons,coords:t.iconProps(f.id),class:j(["selectable-item",{depressed:n(l)&&!n(l).includes(f.id)}])},null,8,["item","src","coords","class"])):(b(),P(c,{key:1,src:t.icons,coords:t.iconProps(f.id)},{tooltip:o(()=>[v("div",us,[a[5]||(a[5]=H(" Precision UW: ")),v("span",{innerHTML:f.name.replace(/\[.+\]/g,"")},null,8,ds)]),a[8]||(a[8]=v("br",null,null,-1)),"damageTime"in f?(b(),$("div",ms,[a[6]||(a[6]=H(" Time to full damage: ")),v("span",ps,C(f.damageTime==0?"Instant":f.damageTime+"s"),1)])):T("",!0),"stealInterrupt"in f?(b(),$("div",fs,[a[7]||(a[7]=H(" Interrupts mana steal: ")),v("span",{class:j(f.stealInterrupt?"text-green":"text-red")},C(f.stealInterrupt?"Yes":"No"),3),f.fakeStealInterrupt?(b(),$("span",vs," (+ Decoy UW) ")):T("",!0)])):T("",!0)]),_:2},1032,["src","coords"]))]),_:1},8,["items"])]),_:1})}}}),bs=I({__name:"RaceTowers",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=V("hover",U());w(()=>Object.fromEntries(e.race.towerUpgrades.map(m=>[m.id,m])));const u=w(()=>Object.values(e.race.bonuses).reduce((m,{id:t,relatedID:a})=>(a.forEach(d=>{m[d]=t}),m),{})),r=m=>{const t=Object.values(e.race.units).filter(({upgrades:a})=>a==null?void 0:a.includes(m.id)).map(({id:a})=>a);l.value=[m.id,u.value[m.id],...t]};return(m,t)=>{const a=pe,d=te,g=_e,k=E,_=O,i=ne;return b(),P(i,{title:"Towers","full-height":!1,class:"d-flex flex-column",id:"upgrades"},{title:o(()=>[s(a,{"hide-dot":"",item:m.race.buildings.tower},{default:o(()=>[s(z,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:o(()=>t[1]||(t[1]=[v("b",null,"Towers",-1)])),_:1})]),_:1},8,["item"])]),prependHead:o(()=>[s(d,{key:"tower-attack",class:"ml-1",type:m.race.buildings.tower.atkType},null,8,["type"])]),appendHead:o(()=>[s(g,{key:"tower-cost",items:m.race.towerUpgrades,count:3},{default:o(()=>t[2]||(t[2]=[H(" Total cost (Lv3) ")])),_:1},8,["items"])]),default:o(()=>[s(_,{class:"mx-auto",items:m.race.towerUpgrades,restrictedSlots:["Q","W"]},{default:o(({item:c})=>[s(k,{item:c,src:m.icons,coords:m.iconProps(c.id,c.iconsCount),class:j(["selectable-item",{depressed:n(l)&&!n(l).includes(c.id)}]),onMouseenter:()=>r(c),onMouseout:t[0]||(t[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"])]),_:1})}}}),ys={class:"d-flex flex-wrap"},gs=["innerHTML"],xs=I({__name:"RaceBonuses",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=V("hover",U()),u=new Intl.Collator("en").compare,r=w(()=>Object.values(e.race.bonusBuildings).sort(({name:t},{name:a})=>u(t,a))),m=t=>{if(!$e(t)){l.value=[t.id,...e.race.bonuses.filter(({buildingId:d})=>d===t.id).map(({id:d})=>d)].filter(G);return}const a=Object.values(e.race.units).filter(({hotkey:d})=>{var g;return(g=t.units)==null?void 0:g.some(k=>k.hotkey===d)}).map(({id:d})=>d);l.value=[t.id,t.buildingId,...t.relatedID,...a]};return(t,a)=>{const d=E,g=O,k=fe,_=ne;return b(),$("div",{style:Te({gridRow:`span ${1+Math.floor(n(r).length/5)}`})},[s(_,{title:"Bonuses","full-height":!1,class:"d-flex flex-column align-center justify-start",id:"bonuses"},{title:o(()=>[s(me,{"open-on-click":"","open-on-hover":!1,offset:[-4,0],"close-on-back":"",location:"top",transition:{component:n(rt)}},{activator:o(({props:i})=>[s(z,re({size:"large",class:"mx-auto",variant:"text",color:"yellow"},i),{default:o(()=>a[2]||(a[2]=[v("b",null,"Bonuses",-1)])),_:2},1040)]),default:o(()=>[a[3]||(a[3]=v("span",null,"There is no easter eggs",-1))]),_:1},8,["transition"])]),default:o(()=>[s(g,{items:t.race.bonuses},{default:o(({item:i})=>[s(d,{item:i,src:t.icons,coords:t.iconProps(i.id),class:j(["selectable-item",{depressed:n(l)&&!n(l).includes(i.id)}]),onMouseenter:()=>m(i),onMouseout:a[0]||(a[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),s(k,{class:"my-1"},{default:o(()=>a[4]||(a[4]=[v("span",{class:"mx-2 text-caption text-grey text-no-wrap"},"Bonus buildings",-1)])),_:1}),v("div",ys,[(b(!0),$(R,null,A(n(r),i=>(b(),P(z,{class:"my-1 mx-2 cursor-default",variant:"text",size:"x-small",active:n(l)&&n(l).includes(i.id),onMouseover:()=>m(i),onMouseout:a[1]||(a[1]=()=>l.value=void 0)},{default:o(()=>[v("span",{innerHTML:i.name},null,8,gs)]),_:2},1032,["active","onMouseover"]))),256))])]),_:1})],4)}}}),hs=I({__name:"RaceBarracks",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=V("hover",U());V("objFinder");const u={melee:"A",range:"S",mage:"D",siege:"F",air:"E",catapult:"R"},r=w(()=>Object.entries(e.race.units).map(([t,a])=>({...a,hotkey:u[t]}))),m=t=>{l.value=[t.id,...t.upgrades??[]]};return(t,a)=>{const d=pe,g=te,k=fe,_=O,i=ne;return b(),P(i,{title:"Barracks","full-height":!1,class:"d-flex flex-column",id:"units"},{title:o(()=>[s(d,{"hide-dot":"",item:t.race.buildings.barrack},{default:o(()=>[s(z,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:o(()=>a[1]||(a[1]=[v("b",null,"Barracks",-1)])),_:1})]),_:1},8,["item"])]),prependHead:o(()=>[s(g,{key:"barrack-attack",class:"ml-1",type:t.race.buildings.barrack.atkType},null,8,["type"])]),default:o(()=>[s(k,{class:"mb-2 mt-n6"},{default:o(()=>a[2]||(a[2]=[v("span",{class:"mx-2 text-caption text-grey"},"Units",-1)])),_:1}),s(_,{class:"mx-auto",items:n(r)},{default:o(({item:c})=>[s(n(E),{item:c,src:t.icons,coords:t.iconProps(c.id),class:j(["selectable-item",{depressed:n(l)&&!n(l).includes(c.id)}]),onMouseenter:()=>m(c),onMouseout:a[0]||(a[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),s(k,{class:"mb-1"},{default:o(()=>a[3]||(a[3]=[v("span",{class:"mx-2 text-caption text-grey"},"Heroes",-1)])),_:1}),s(_,{class:"mx-auto",items:t.race.heroes},{default:o(({item:c})=>[s(n(E),{item:c,src:t.icons,coords:t.iconProps(c.id),class:j(["selectable-item",{depressed:n(l)&&!n(l).includes(c.id)}])},null,8,["item","src","coords","class"])]),_:1},8,["items"])]),_:1})}}}),ks=I({__name:"racePage",async setup(e){let l,u;const r=et(),[m]=[tt().params.race].flat(),{raceData:t,iconProps:a,iconsSrc:d,version:g}=([l,u]=B(()=>L(m)),l=await l,u(),l),k=(p,f)=>{switch(p){case"upgrade":return Object.values(t.baseUpgrades).concat(t.magic).concat(t.towerUpgrades).find(h=>h.id===f);case"unit":return Object.values(t.units).find(h=>h.id===f);case"bonus":return Object.values(t.bonuses).find(h=>h.id===f);case"hero":return t.heroes.find(h=>h.id===f);case"spell":return[t.t1spell,t.t2spell].find(h=>h.id===f);default:return}},_=Se("iconSize",Pt),i=w(()=>({gridTemplateColumns:`repeat(auto-fill, minmax(${+_.value*5}px, 1fr))`})),c=wt?w(()=>{}):U();return Q("hover",c),r.runWithContext(()=>{_t({title:`${t.name} v${g}`,description:`${t.name} of Survival Chaos v${g}: race info, bonuses, upgrades, units and heroes`,ogDescription:`${t.name} of Survival Chaos v${g}: race info, bonuses, upgrades, units and heroes`}),bt({link:[{rel:"preload",as:"image",href:d}]})}),(p,f)=>{const h=It,y=cs;return b(),$("div",null,[s(h,{class:"mb-2"}),s(y,{"obj-finder":k,"race-name":n(m)},{default:o(()=>[v("div",{class:"race-container",style:Te(n(i))},[s(kt,{race:n(t),style:{"flex-basis":"300px"}},null,8,["race"]),s(_s,{race:n(t),icons:n(d),"icon-props":n(a)},null,8,["race","icons","icon-props"]),s(bs,{race:n(t),icons:n(d),"icon-props":n(a)},null,8,["race","icons","icon-props"]),s(xs,{race:n(t),icons:n(d),"icon-props":n(a)},null,8,["race","icons","icon-props"]),s(hs,{race:n(t),icons:n(d),"icon-props":n(a)},null,8,["race","icons","icon-props"])],4)]),_:1},8,["race-name"])])}}}),Qs=W(ks,[["__scopeId","data-v-7ec59a90"]]);export{Qs as default};
