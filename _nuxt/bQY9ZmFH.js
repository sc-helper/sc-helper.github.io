import{_ as Oe}from"./DhdKDPHW.js";import{u as B,_ as re}from"./SERD1SvY.js";import{g as J,p as X,i as I,b as s,w as ke,v as Fe,c as k,au as Ae,ai as ge,N as K,ad as Ge,af as ze,t as j,ah as We,av as qe,e as D,a0 as O,h as T,j as b,aw as xe,z as o,F as U,l as G,k as n,E as P,y as v,q as M,C as E,D as C,_ as q,r as L,A as z,Q as Y,x as S,M as ee,ax as Qe,ay as Ke,f as we,m as ce,O as Pe,az as Ye,P as Q,aA as Ze,aB as Je,aC as Ce,aD as $e,aE as Xe,n as Te,G as et,at as tt}from"./zqCX0O_1.js";import{u as Se}from"./DMs9IL5z.js";import{b as st,c as nt,a as ot}from"./Bx9WYAV6.js";import{c as Ve,d as Ie,e as at,f as lt,V as W}from"./hwy6OV-2.js";import{_ as te}from"./Dc-pmlR0.js";import{a as se}from"./CsMaR2bC.js";import{_ as R}from"./B-Bg_Bss.js";import{u as ue}from"./rLnwmFaF.js";import{a as N,V as he}from"./BEeQo_QK.js";import{a as it,V as rt}from"./41rIODng.js";import{u as ne,i as de,R as ct,l as De,p as ut,q as je,V as Me,r as dt,s as mt,t as pt,d as He,f as ft,g as vt,b as _t,v as bt}from"./DFXbXM-r.js";import{u as yt,m as gt,_ as Ee,V as me}from"./Bq0_YjBt.js";import{_ as F,a as pe}from"./CoA4J5mP.js";import{h as Re}from"./Dd2277SN.js";import{u as xt}from"./D07ucoww.js";import{V as ht}from"./DjarLytz.js";import{a as fe,_ as kt}from"./D3omdwTs.js";import{_ as oe}from"./BBgHPwIu.js";import{I as wt,D as Pt}from"./DYmvtetA.js";import"./DUwiQdBN.js";import"./DbYZnSlv.js";/* empty css        */import"./CL1tATtZ.js";const Z=Symbol.for("vuetify:v-expansion-panel"),Ue=X({...de(),...gt()},"VExpansionPanelText"),V=J()({name:"VExpansionPanelText",props:Ue(),setup(t,l){let{slots:u}=l;const r=I(Z);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:m,onAfterLeave:e}=yt(t,r.isSelected);return ne(()=>s(it,{onAfterLeave:e},{default:()=>{var a;return[ke(s("div",{class:["v-expansion-panel-text",t.class],style:t.style},[u.default&&m.value&&s("div",{class:"v-expansion-panel-text__wrapper"},[(a=u.default)==null?void 0:a.call(u)])]),[[Fe,r.isSelected.value]])]}})),{}}}),Ne=X({color:String,expandIcon:{type:ge,default:"$expand"},collapseIcon:{type:ge,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...de(),...dt()},"VExpansionPanelTitle"),ie=J()({name:"VExpansionPanelTitle",directives:{Ripple:ct},props:Ne(),setup(t,l){let{slots:u}=l;const r=I(Z);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:m,backgroundColorStyles:e}=De(t,"color"),{dimensionStyles:a}=ut(t),d=k(()=>({collapseIcon:t.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:t.expandIcon,readonly:t.readonly})),g=k(()=>r.isSelected.value?t.collapseIcon:t.expandIcon);return ne(()=>{var h;return ke(s("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value,"v-expansion-panel-title--focusable":t.focusable,"v-expansion-panel-title--static":t.static},m.value,t.class],style:[e.value,a.value,t.style],type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:t.readonly?void 0:r.toggle},[s("span",{class:"v-expansion-panel-title__overlay"},null),(h=u.default)==null?void 0:h.call(u,d.value),!t.hideActions&&s(je,{defaults:{VIcon:{icon:g.value}}},{default:()=>{var _;return[s("span",{class:"v-expansion-panel-title__icon"},[((_=u.actions)==null?void 0:_.call(u,d.value))??s(Me,null,null)])]}})]),[[Ae("ripple"),t.ripple]])}),{}}}),Le=X({title:String,text:String,bgColor:String,...vt(),...Ie(),...ft(),...He(),...Ne(),...Ue()},"VExpansionPanel"),H=J()({name:"VExpansionPanel",props:Le(),emits:{"group:selected":t=>!0},setup(t,l){let{slots:u}=l;const r=Ve(t,Z),{backgroundColorClasses:m,backgroundColorStyles:e}=De(t,"bgColor"),{elevationClasses:a}=mt(t),{roundedClasses:d}=pt(t),g=k(()=>(r==null?void 0:r.disabled.value)||t.disabled),h=k(()=>r.group.items.value.reduce((c,p,f)=>(r.group.selected.value.includes(p.id)&&c.push(f),c),[])),_=k(()=>{const c=r.group.items.value.findIndex(p=>p.id===r.id);return!r.isSelected.value&&h.value.some(p=>p-c===1)}),i=k(()=>{const c=r.group.items.value.findIndex(p=>p.id===r.id);return!r.isSelected.value&&h.value.some(p=>p-c===-1)});return K(Z,r),ne(()=>{const c=!!(u.text||t.text),p=!!(u.title||t.title),f=ie.filterProps(t),x=V.filterProps(t);return s(t.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":_.value,"v-expansion-panel--after-active":i.value,"v-expansion-panel--disabled":g.value},d.value,m.value,t.class],style:[e.value,t.style]},{default:()=>[s("div",{class:["v-expansion-panel__shadow",...a.value]},null),s(je,{defaults:{VExpansionPanelTitle:{...f},VExpansionPanelText:{...x}}},{default:()=>{var y;return[p&&s(ie,{key:"title"},{default:()=>[u.title?u.title():t.title]}),c&&s(V,{key:"text"},{default:()=>[u.text?u.text():t.text]}),(y=u.default)==null?void 0:y.call(u)]}})]})}),{groupItem:r}}}),Ct=["default","accordion","inset","popout"],$t=X({flat:Boolean,...lt(),...qe(Le(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...We(),...de(),...He(),variant:{type:String,default:"default",validator:t=>Ct.includes(t)}},"VExpansionPanels"),ve=J()({name:"VExpansionPanels",props:$t(),emits:{"update:modelValue":t=>!0},setup(t,l){let{slots:u}=l;const{next:r,prev:m}=at(t,Z),{themeClasses:e}=Ge(t),a=k(()=>t.variant&&`v-expansion-panels--variant-${t.variant}`);return ze({VExpansionPanel:{bgColor:j(t,"bgColor"),collapseIcon:j(t,"collapseIcon"),color:j(t,"color"),eager:j(t,"eager"),elevation:j(t,"elevation"),expandIcon:j(t,"expandIcon"),focusable:j(t,"focusable"),hideActions:j(t,"hideActions"),readonly:j(t,"readonly"),ripple:j(t,"ripple"),rounded:j(t,"rounded"),static:j(t,"static")}}),ne(()=>s(t.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":t.flat,"v-expansion-panels--tile":t.tile},e.value,a.value,t.class],style:t.style},{default:()=>{var d;return[(d=u.default)==null?void 0:d.call(u,{prev:m,next:r})]}})),{next:r,prev:m}}}),Tt=J()({name:"VSlideGroupItem",props:Ie(),emits:{"group:selected":t=>!0},setup(t,l){let{slots:u}=l;const r=Ve(t,st);return()=>{var m;return(m=u.default)==null?void 0:m.call(u,{isSelected:r.isSelected.value,select:r.select,toggle:r.toggle,selectedClass:r.selectedClass.value})}}}),St=["innerHTML"],Vt=D({__name:"RaceSelectRibbon",async setup(t){let l,u;const r=Se("iconSize"),{raceData:m,iconProps:e,iconsSrc:a}=([l,u]=O(()=>B("races")),l=await l,u(),l),d=k(()=>Object.values(m).flat());return(g,h)=>{const _=Oe,i=re;return b(),T("div",null,[s(nt,{"model-value":(g._.provides[xe]||g.$route).params.race,"center-active":"","show-arrows":""},{default:o(()=>[(b(!0),T(U,null,G(n(d),c=>(b(),P(Tt,{value:c.key,key:c.key},{default:o(({isSelected:p})=>[v("div",{class:M(["race-wrapper",{selected:p}])},[s(i,{coords:n(e)(c.id),src:n(a),description:"",width:n(r)},{tooltip:o(()=>[v("div",{innerHTML:c.name},null,8,St)]),default:o(()=>[s(_,{to:{name:"RaceIndex",params:{...(g._.provides[xe]||g.$route).params,race:c.key}}},{default:o(()=>[E(C(c.name),1)]),_:2},1032,["to"])]),_:2},1032,["coords","src","width"])],2)]),_:2},1032,["value"]))),128))]),_:1},8,["model-value"])])}}}),It=q(Vt,[["__scopeId","data-v-f1152851"]]),Dt={key:0,class:"d-flex row-warp align-center my-1"},jt={class:"ml-2 mt-n1"},Mt={class:"ml-2 mt-n1"},Ht=["innerHTML"],Et={class:"text-white bg-red mx-2 rounded-lg"},Rt={class:"text-white bg-blue mx-2 rounded-lg"},Ut={class:"d-flex align-center"},Nt={class:"ml-2 mt-n1"},Lt={class:"d-flex align-center"},Bt={class:"ml-2 mt-n1"},Ot={class:"upgrades-wrapper"},Ft=D({__name:"DetailsUnit",props:{item:{}},async setup(t){let l,u;const r=L(["characteristics","upgrades","items"]),[m,{gold:e,bounty:a,range:d,attackSpeed:g}]=ue(),h=I("raceName"),{iconProps:_,iconsSrc:i}=([l,u]=O(()=>B(h)),l=await l,u(),l),c=I("objFinder"),p=k(()=>!isNaN(Number(t.item.hpReg))),f=k(()=>!isNaN(Number(t.item.mpReg))),x=k(()=>{var y;return(y=t.item.upgrades)==null?void 0:y.map(w=>c("upgrade",w)).filter(z)});return(y,w)=>{var ye;const $=re,be=se,Be=R;return b(),T(U,null,[Y(y.$slots,"fullname",{},void 0,!0),(ye=y.item.tags)!=null&&ye.length?(b(),T("div",Dt,[w[1]||(w[1]=v("div",{class:"text-subtitle-2"},"Tags:",-1)),(b(!0),T(U,null,G(y.item.tags,A=>(b(),P(ot,{class:"ma-1 mr-0",density:"compact",size:"small"},{default:o(()=>[E(C(A),1)]),_:2},1024))),256))])):S("",!0),s(he,{class:"my-1"},{default:o(()=>[s(N,{cols:"6",class:"d-flex align-center py-0"},{default:o(()=>[s($,{src:n(m),coords:n(e),width:"32",description:"Cost"},null,8,["src","coords"]),v("span",jt,C(y.item.cost),1)]),_:1}),s(N,{cols:"6",class:"d-flex align-center py-0"},{default:o(()=>[s($,{src:n(m),coords:n(a),width:"32",description:"Kill bounty"},null,8,["src","coords"]),v("span",Mt,C(y.item.bounty),1)]),_:1})]),_:1}),s(ve,{elevation:"0",static:"",tile:"",multiple:"",modelValue:n(r),"onUpdate:modelValue":w[0]||(w[0]=A=>ee(r)?r.value=A:null)},{default:o(()=>{var A;return[y.item.description?(b(),P(H,{key:0,title:"Description",value:"description"},{default:o(()=>[s(V,null,{default:o(()=>[v("div",{class:"text-body-2",innerHTML:y.item.description},null,8,Ht)]),_:1})]),_:1})):S("",!0),Y(y.$slots,"heroItems",{},void 0,!0),s(H,{title:"Characteristics",value:"characteristics"},{default:o(()=>[s(V,null,{default:o(()=>[s(he,{class:"my-1"},{default:o(()=>[s(N,{cols:"6",class:"text-center pt-0"},{default:o(()=>[v("div",Et,[v("b",null,C(y.item.hp),1),n(p)?(b(),T(U,{key:0},[E(" +"+C(y.item.hpReg)+"/sec",1)],64)):S("",!0)])]),_:1}),s(N,{cols:"6",class:"text-center pt-0"},{default:o(()=>[v("div",Rt,[v("b",null,C(y.item.mp),1),n(f)?(b(),T(U,{key:0},[E(" +"+C(y.item.mpReg)+"/sec",1)],64)):S("",!0)])]),_:1}),s(N,{cols:"6",class:"py-0"},{default:o(()=>[s(be,{type:y.item.atkType,value:y.item.atk},null,8,["type","value"]),v("div",Ut,[s($,{src:n(m),coords:n(d),width:"32",description:"Attack range"},null,8,["src","coords"]),v("span",Nt,C(y.item.atkRange)+C(y.item.weaponType==="normal"?" (melee)":""),1)]),v("div",Lt,[s($,{src:n(m),coords:n(g),width:"32",description:"Attack speed"},null,8,["src","coords"]),v("span",Bt,C(y.item.atkSpeed),1)])]),_:1}),s(N,{cols:"6",class:"py-0"},{default:o(()=>[s(be,{type:y.item.defType,value:y.item.def,"is-defend":""},null,8,["type","value"])]),_:1}),Y(y.$slots,"attributes",{},void 0,!0)]),_:3})]),_:3})]),_:3}),(A=n(x))!=null&&A.length?(b(),P(H,{key:1,title:"Upgrades used",value:"upgrades"},{default:o(()=>[s(V,null,{default:o(()=>[v("div",Ot,[(b(!0),T(U,null,G(n(x),le=>(b(),P(Be,{item:le,src:n(i),coords:n(_)(le.id,le.iconsCount)},null,8,["item","src","coords"]))),256))])]),_:1})]),_:1})):S("",!0)]}),_:3},8,["modelValue"])],64)}}}),ae=q(Ft,[["__scopeId","data-v-f314cd24"]]),At=["innerHTML"],Gt={class:"d-flex justify-center"},zt=D({__name:"DetailsHero",props:{item:{}},async setup(t){let l,u;const r=I("raceName"),{iconProps:m,iconsSrc:e}=([l,u]=O(()=>B(r)),l=await l,u(),l),[a,{str:d,int:g,agi:h}]=ue(),_=k(()=>{if(!t.item.items)return[];const i=t.item.items.map(({level:p})=>p);if(!(i!=null&&i.length))return[];const c=i.filter(Qe).sort((p,f)=>p-f).reduce((p,f,x)=>(p[f]=Re[x],p),{});return t.item.items.map(p=>({...p,hotkey:c[p.level]}))});return(i,c)=>{const p=te,f=R,x=F,y=ae;return b(),P(y,{item:i.item},{fullname:o(()=>[v("div",{innerHTML:i.item.fullName,class:"text-center text-subtitle-1"},null,8,At)]),attributes:o(()=>[s(N,{cols:"4",class:"text-center pb-0"},{default:o(()=>[s(p,{width:"32",src:n(a),coords:n(d),padding:[0,8,8,0]},null,8,["src","coords"]),v("div",{class:M({"text-yellow":i.item.stat==="str","font-bold":i.item.stat==="str"})},C(i.item.str)+"+"+C(i.item.strLvl),3)]),_:1}),s(N,{cols:"4",class:"text-center pb-0"},{default:o(()=>[s(p,{width:"32",src:n(a),coords:n(h),padding:[0,8,8,0]},null,8,["src","coords"]),v("div",{class:M({"text-yellow":i.item.stat==="agi","font-bold":i.item.stat==="agi"})},C(i.item.agi)+"+"+C(i.item.agiLvl),3)]),_:1}),s(N,{cols:"4",class:"text-center pb-0"},{default:o(()=>[s(p,{width:"32",src:n(a),coords:n(g),padding:[0,8,8,0]},null,8,["src","coords"]),v("div",{class:M({"text-yellow":i.item.stat==="int","font-bold":i.item.stat==="int"})},C(i.item.int)+"+"+C(i.item.intLvl),3)]),_:1})]),heroItems:o(()=>[n(_).length?(b(),P(H,{key:0,title:"Hero items",value:"items"},{default:o(()=>[s(V,null,{default:o(()=>[v("div",Gt,[s(x,{items:n(_),size:.75},{default:o(({item:w})=>[s(f,{src:n(e),coords:n(m)(w.id),item:w},null,8,["src","coords","item"])]),_:1},8,["items"])])]),_:1})]),_:1})):S("",!0)]),_:1},8,["item"])}}}),Wt=q(zt,[["__scopeId","data-v-dc1de915"]]),qt=["innerHTML"],Qt={class:"d-flex justify-center"},Kt={class:"d-flex justify-center"},Yt=D({__name:"DetailsUpgrade",props:{item:{}},async setup(t){let l,u;const r=L(["spells","summons","affects"]),m=I("raceName"),{raceData:e,iconProps:a,iconsSrc:d}=([l,u]=O(()=>B(m)),l=await l,u(),l),g=k(()=>{var i;return((i=t.item.spells)==null?void 0:i.map(c=>c.summonUnit).flat().filter(z).filter(Ke))??[]}),h=k(()=>t.item.spells),_=k(()=>{const i=Object.values(e.units).filter(({upgrades:p})=>p==null?void 0:p.includes(t.item.id)),c=e.bonuses.map(({units:p})=>p??[]).flat().filter(({upgrades:p})=>p==null?void 0:p.includes(t.item.id)).map(p=>{var x;const f=((x=e.bonuses.find(({units:y})=>y==null?void 0:y.some(({id:w})=>w===p.id)))==null?void 0:x.id)??"";return{...p,id:f}});return[...i,...c]});return(i,c)=>{const p=R,f=F,x=ae;return b(),P(ve,{elevation:"0",static:"",tile:"",multiple:"",modelValue:n(r),"onUpdate:modelValue":c[0]||(c[0]=y=>ee(r)?r.value=y:null)},{default:o(()=>{var y;return[i.item.description?(b(),P(H,{key:0,title:"Description",value:"description"},{default:o(()=>[s(V,null,{default:o(()=>[v("div",{class:"text-body-2",innerHTML:i.item.description},null,8,qt)]),_:1})]),_:1})):S("",!0),(y=n(h))!=null&&y.length?(b(),P(H,{key:1,title:"Spells",value:"spells"},{default:o(()=>[s(V,null,{default:o(()=>[v("div",Qt,[s(f,{items:n(h),"disable-details":"","skip-hotkey":""},{default:o(({item:w})=>[s(p,{item:w,src:n(d),coords:n(a)(w.id,w.iconsCount)},null,8,["item","src","coords"])]),_:1},8,["items"])])]),_:1})]),_:1})):S("",!0),(b(!0),T(U,null,G(n(g),w=>(b(),P(H,{title:`Summon: ${w.name}`,value:`summon-${w.id}`},{default:o(()=>[s(V,null,{default:o(()=>[s(x,{item:w},null,8,["item"])]),_:2},1024)]),_:2},1032,["title","value"]))),256)),n(_).length?(b(),P(H,{key:2,title:"Affects",value:"affects"},{default:o(()=>[s(V,null,{default:o(()=>[v("div",Kt,[s(f,{items:n(_),"disable-details":"","skip-hotkey":""},{default:o(({item:w})=>[s(p,{item:w,src:n(d),coords:n(a)(w.id,w.iconsCount)},null,8,["item","src","coords"])]),_:1},8,["items"])])]),_:1})]),_:1})):S("",!0)]}),_:1},8,["modelValue"])}}}),Zt=D({__name:"DetailsSpell",props:{item:{}},setup(t){return(l,u)=>(b(),T("div"))}}),Jt={class:"cost"},Xt=D({__name:"CombineCost",props:{items:{},count:{}},setup(t){const[l,{gold:u}]=ue(),r=k(()=>we(t.items).reduce((m,{cost:e})=>{var a;return m+((a=e??[])==null?void 0:a.slice(0,t.count).reduce((d,g)=>d+(g??0),0))},0));return(m,e)=>{const a=te,d=Ee;return b(),P(d,null,{default:o(()=>[s(me,{location:"top"},{activator:o(({props:g})=>[v("div",ce({class:"d-flex align-center"},g),[s(a,{src:n(l),coords:n(u),width:"16"},null,8,["src","coords"]),v("span",Jt,C(n(r)),1)],16)]),default:o(()=>[Y(m.$slots,"default",{},()=>[e[0]||(e[0]=E("Total cost"))],!0)]),_:3})]),_:3})}}}),_e=q(Xt,[["__scopeId","data-v-1bade672"]]),es=["innerHTML"],ts={class:"d-flex justify-center"},ss={class:"d-flex justify-center"},ns=D({__name:"DetailsBonus",props:{item:{}},async setup(t){let l,u;const r=I("objFinder"),m=I("raceName"),{iconProps:e,iconsSrc:a}=([l,u]=O(()=>B(m)),l=await l,u(),l),d=L(["grid","opens"]);Pe(()=>t.item,i=>{var c;d.value=["grid"].concat(((c=i.units)==null?void 0:c.map(({id:p})=>`unit-${p}`))??[])});const g=k(()=>{var i;return(((i=t.item.spells)==null?void 0:i.length)??0)>1?!0:[t.item.units,t.item.upgrades].some(c=>!!(c!=null&&c.length))}),h=k(()=>[...(t.item.spells??[]).filter(({name:i})=>!!i),...t.item.upgrades??[]]),_=k(()=>t.item.relatedID.map(i=>r("upgrade",i)).filter(z));return(i,c)=>{const p=_e,f=R,x=F,y=te,w=ae;return b(),P(ve,{elevation:"0",static:"",tile:"",multiple:"",modelValue:n(d),"onUpdate:modelValue":c[0]||(c[0]=$=>ee(d)?d.value=$:null)},{default:o(()=>[i.item.description?(b(),P(H,{key:0,title:"Description",value:"description"},{default:o(()=>[s(V,null,{default:o(()=>[v("div",{class:"text-body-2",innerHTML:i.item.description},null,8,es)]),_:1})]),_:1})):S("",!0),n(g)&&n(h).length?(b(),P(H,{key:1,value:"grid"},{default:o(()=>[s(ie,{width:"100%",class:"d-flex"},{default:o(()=>[c[2]||(c[2]=v("span",{class:"mr-auto"},"Bonus spells/upgrades",-1)),s(p,{items:i.item.upgrades??[]},{default:o(()=>c[1]||(c[1]=[E(" Total cost ")])),_:1},8,["items"])]),_:1}),s(V,null,{default:o(()=>[v("div",ts,[n(g)&&n(h).length?(b(),P(x,{key:0,items:n(h),"disable-details":"","show-empty":""},{default:o(({item:$})=>[s(f,{src:n(a),coords:n(e)($.id,$.iconsCount),item:$},null,8,["src","coords","item"])]),_:1},8,["items"])):S("",!0)])]),_:1})]),_:1})):S("",!0),(b(!0),T(U,null,G(i.item.units,$=>(b(),P(H,{title:`Unit: ${$.name}`,value:`unit-${$.id}`},{title:o(()=>[s(y,{src:n(a),coords:n(e)($.id),width:"32",class:"mr-2"},null,8,["src","coords"]),v("span",null,"Unit: "+C($.name),1)]),default:o(()=>[s(V,null,{default:o(()=>[s(w,{item:$},null,8,["item"])]),_:2},1024)]),_:2},1032,["title","value"]))),256)),n(_).length?(b(),P(H,{key:2,title:"Unlocked upgrades",value:"opens"},{default:o(()=>[s(V,null,{default:o(()=>[v("div",ss,[s(x,{items:n(_),"disable-details":"","skip-hotkey":""},{default:o(({item:$})=>[s(f,{src:n(a),coords:n(e)($.id,$.iconsCount),item:$},null,8,["src","coords","item"])]),_:1},8,["items"])])]),_:1})]),_:1})):S("",!0)]),_:1},8,["modelValue"])}}}),os=({item:t})=>{const l=we(t);if(l){if(Ye(l))return Q(ae,{item:l});if(Ze(l))return Q(Wt,{item:l});if(Je(l))return Q(Yt,{item:l});if(Ce(l))return Q(Zt,{item:l});if($e(l))return Q(ns,{item:l})}},as={key:0,class:"d-flex align-center justify-space-between panel-header pb-2 elevation-1 mb-2"},ls=["innerHTML"],is={class:"panel-details"},rs=D({__name:"DetailsProvider",props:{objFinder:{type:Function},raceName:{}},async setup(t){let l,u;const{iconProps:r,iconsSrc:m}=([l,u]=O(()=>B(t.raceName)),l=await l,u(),l),e=L(null),a=xt(),d=k({get:()=>!!e.value,set:_=>{_||(e.value=null)}});Xe(()=>{a.value&&["bonus","spell","unit","hero","upgrade"].forEach(_=>{var c;if(!a.value||((c=e.value)==null?void 0:c.id)===a.value)return;const i=t.objFinder(_,a.value);i&&(e.value=i)})}),Pe(()=>e.value,_=>a.value=_==null?void 0:_.id);const g=_=>{e.value=_},h=()=>{var _;navigator.clipboard.writeText(((_=e.value)==null?void 0:_.id)||"")};return K("detailsSet",g),K("objFinder",t.objFinder),K("raceName",t.raceName),(_,i)=>{const c=te,p=os,f=Ee;return b(),T(U,null,[s(f,null,{default:o(()=>[s(ht,{modelValue:n(d),"onUpdate:modelValue":i[1]||(i[1]=x=>ee(d)?d.value=x:null),location:"left",temporary:"","disable-resize-watcher":"",elevation:"4",class:"pa-2",width:"400","disable-route-watcher":""},{default:o(()=>[n(e)?(b(),T("div",as,[s(me,{color:"transparent"},{activator:o(({props:x})=>[s(c,ce({src:n(m),coords:n(r)(n(e).id),width:"32"},x,{onClick:h}),null,16,["src","coords"])]),default:o(()=>[E(" ID: "+C(n(e).id),1)]),_:1}),v("span",{innerHTML:n(e).name,class:"text-h6 mx-2"},null,8,ls),s(W,{density:"comfortable",icon:"",flat:"",onClick:i[0]||(i[0]=x=>g(null))},{default:o(()=>[s(Me,{icon:"$close"})]),_:1})])):S("",!0),v("div",is,[s(p,{item:n(e)},null,8,["item"])])]),_:1},8,["modelValue"])]),_:1}),Y(_.$slots,"default",{},void 0,!0)],64)}}}),cs=q(rs,[["__scopeId","data-v-e1fba027"]]),us={class:"text-h6"},ds=["innerHTML"],ms={key:0,class:"text-subtitle-1"},ps={class:"text-yellow"},fs={key:1,class:"text-subtitle-1"},vs={key:0,class:"text-green"},_s=D({__name:"RaceFortress",props:{race:{},icons:{},iconProps:{type:Function}},setup(t){const l=I("hover",L()),u=k(()=>{const e=t.race.ultiData??(z(t.race.ultimateId)?{type:"ultimate",id:t.race.ultimateId,hotkey:"V",name:""}:void 0);return[t.race.t1spell,t.race.t2spell,e].filter(z)}),r=k(()=>t.race.magic.map((e,a)=>({...e,hotkey:Re[a]})).concat(...Object.values(t.race.baseUpgrades))),m=e=>{const a=Object.values(t.race.units).filter(({upgrades:d})=>d==null?void 0:d.includes(e.id)).map(({id:d})=>d);l.value=[e.id,...a]};return(e,a)=>{const d=pe,g=se,h=_e,_=fe,i=F,c=re,p=oe;return b(),P(p,{title:"Fortress",class:"d-flex flex-column justify-start","full-height":!1,id:"fortress"},{title:o(()=>[s(d,{"hide-dot":"",item:e.race.buildings.fort},{default:o(()=>[s(W,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:o(()=>a[1]||(a[1]=[v("b",null,"Fortress",-1)])),_:1})]),_:1},8,["item"])]),prependHead:o(()=>[s(g,{key:"fort-attack",class:"ml-1",type:e.race.buildings.fort.atkType},null,8,["type"])]),appendHead:o(()=>[s(h,{key:"fort-cost",class:"mr-1",items:n(r)},null,8,["items"])]),default:o(()=>[s(_,{class:"mb-2 mt-n6"},{default:o(()=>a[2]||(a[2]=[v("span",{class:"mx-2 text-caption text-grey"},"Auras",-1)])),_:1}),s(i,{class:"mx-auto",items:e.race.auras},{default:o(({item:f})=>[s(n(R),{item:f,src:e.icons,coords:e.iconProps(f.id),class:M(["selectable-item",{depressed:n(l)&&!n(l).includes(f.id)}])},null,8,["item","src","coords","class"])]),_:1},8,["items"]),s(_,{class:"mb-1"},{default:o(()=>a[3]||(a[3]=[v("span",{class:"mx-2 text-caption text-grey"},"Upgrades",-1)])),_:1}),s(i,{class:"mx-auto",items:n(r)},{default:o(({item:f})=>[s(n(R),{item:f,src:e.icons,coords:!("level"in f)||(f.iconsCount??0)<=1?e.iconProps(f.id,f.iconsCount):e.iconProps(`${f.id}-${f.level}`),class:M(["selectable-item",{depressed:n(l)&&!n(l).includes(f.id)}]),onMouseenter:()=>m(f),onMouseout:a[0]||(a[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),s(_,{class:"mb-1"},{default:o(()=>a[4]||(a[4]=[v("span",{class:"mx-2 text-caption text-grey"},"Skills",-1)])),_:1}),s(i,{class:"mx-auto",items:n(u)},{default:o(({item:f})=>[("isSpellObject"in e?e.isSpellObject:n(Ce))(f)?(b(),P(n(R),{key:0,item:f,src:e.icons,coords:e.iconProps(f.id),class:M(["selectable-item",{depressed:n(l)&&!n(l).includes(f.id)}])},null,8,["item","src","coords","class"])):(b(),P(c,{key:1,src:e.icons,coords:e.iconProps(f.id)},{tooltip:o(()=>[v("div",us,[a[5]||(a[5]=E(" Precision UW: ")),v("span",{innerHTML:f.name.replace(/\[.+\]/g,"")},null,8,ds)]),a[8]||(a[8]=v("br",null,null,-1)),"damageTime"in f?(b(),T("div",ms,[a[6]||(a[6]=E(" Time to full damage: ")),v("span",ps,C(f.damageTime==0?"Instant":f.damageTime+"s"),1)])):S("",!0),"stealInterrupt"in f?(b(),T("div",fs,[a[7]||(a[7]=E(" Interrupts mana steal: ")),v("span",{class:M(f.stealInterrupt?"text-green":"text-red")},C(f.stealInterrupt?"Yes":"No"),3),f.fakeStealInterrupt?(b(),T("span",vs," (+ Decoy UW) ")):S("",!0)])):S("",!0)]),_:2},1032,["src","coords"]))]),_:1},8,["items"])]),_:1})}}}),bs=D({__name:"RaceTowers",props:{race:{},icons:{},iconProps:{type:Function}},setup(t){const l=I("hover",L());k(()=>Object.fromEntries(t.race.towerUpgrades.map(m=>[m.id,m])));const u=k(()=>Object.values(t.race.bonuses).reduce((m,{id:e,relatedID:a})=>(a.forEach(d=>{m[d]=e}),m),{})),r=m=>{const e=Object.values(t.race.units).filter(({upgrades:a})=>a==null?void 0:a.includes(m.id)).map(({id:a})=>a);l.value=[m.id,u.value[m.id],...e]};return(m,e)=>{const a=pe,d=se,g=_e,h=R,_=F,i=oe;return b(),P(i,{title:"Towers","full-height":!1,class:"d-flex flex-column",id:"upgrades"},{title:o(()=>[s(a,{"hide-dot":"",item:m.race.buildings.tower},{default:o(()=>[s(W,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:o(()=>e[1]||(e[1]=[v("b",null,"Towers",-1)])),_:1})]),_:1},8,["item"])]),prependHead:o(()=>[s(d,{key:"tower-attack",class:"ml-1",type:m.race.buildings.tower.atkType},null,8,["type"])]),appendHead:o(()=>[s(g,{key:"tower-cost",items:m.race.towerUpgrades,count:3},{default:o(()=>e[2]||(e[2]=[E(" Total cost (Lv3) ")])),_:1},8,["items"])]),default:o(()=>[s(_,{class:"mx-auto",items:m.race.towerUpgrades,restrictedSlots:["Q","W"]},{default:o(({item:c})=>[s(h,{item:c,src:m.icons,coords:m.iconProps(c.id,c.iconsCount),class:M(["selectable-item",{depressed:n(l)&&!n(l).includes(c.id)}]),onMouseenter:()=>r(c),onMouseout:e[0]||(e[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"])]),_:1})}}}),ys={class:"d-flex flex-wrap"},gs=["innerHTML"],xs=D({__name:"RaceBonuses",props:{race:{},icons:{},iconProps:{type:Function}},setup(t){const l=I("hover",L()),u=new Intl.Collator("en").compare,r=k(()=>Object.values(t.race.bonusBuildings).sort(({name:e},{name:a})=>u(e,a))),m=e=>{if(!$e(e)){l.value=[e.id,...t.race.bonuses.filter(({buildingId:d})=>d===e.id).map(({id:d})=>d)].filter(z);return}const a=Object.values(t.race.units).filter(({hotkey:d})=>{var g;return(g=e.units)==null?void 0:g.some(h=>h.hotkey===d)}).map(({id:d})=>d);l.value=[e.id,e.buildingId,...e.relatedID,...a]};return(e,a)=>{const d=R,g=F,h=fe,_=oe;return b(),T("div",{style:Te({gridRow:`span ${1+Math.floor(n(r).length/5)}`})},[s(_,{title:"Bonuses","full-height":!1,class:"d-flex flex-column align-center justify-start",id:"bonuses"},{title:o(()=>[s(me,{"open-on-click":"","open-on-hover":!1,offset:[-4,0],"close-on-back":"",location:"top",transition:{component:n(rt)}},{activator:o(({props:i})=>[s(W,ce({size:"large",class:"mx-auto",variant:"text",color:"yellow"},i),{default:o(()=>a[2]||(a[2]=[v("b",null,"Bonuses",-1)])),_:2},1040)]),default:o(()=>[a[3]||(a[3]=v("span",null,"There is no easter eggs",-1))]),_:1},8,["transition"])]),default:o(()=>[s(g,{items:e.race.bonuses},{default:o(({item:i})=>[s(d,{item:i,src:e.icons,coords:e.iconProps(i.id),class:M(["selectable-item",{depressed:n(l)&&!n(l).includes(i.id)}]),onMouseenter:()=>m(i),onMouseout:a[0]||(a[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),s(h,{class:"my-1"},{default:o(()=>a[4]||(a[4]=[v("span",{class:"mx-2 text-caption text-grey text-no-wrap"},"Bonus buildings",-1)])),_:1}),v("div",ys,[(b(!0),T(U,null,G(n(r),i=>(b(),P(W,{class:"my-1 mx-2 cursor-default",variant:"text",size:"x-small",active:n(l)&&n(l).includes(i.id),onMouseover:()=>m(i),onMouseout:a[1]||(a[1]=()=>l.value=void 0)},{default:o(()=>[v("span",{innerHTML:i.name},null,8,gs)]),_:2},1032,["active","onMouseover"]))),256))])]),_:1})],4)}}}),hs=D({__name:"RaceBarracks",props:{race:{},icons:{},iconProps:{type:Function}},setup(t){const l=I("hover",L());I("objFinder");const u={melee:"A",range:"S",mage:"D",siege:"F",air:"E",catapult:"R"},r=k(()=>Object.entries(t.race.units).map(([e,a])=>({...a,hotkey:u[e]}))),m=e=>{l.value=[e.id,...e.upgrades??[]]};return(e,a)=>{const d=pe,g=se,h=fe,_=F,i=oe;return b(),P(i,{title:"Barracks","full-height":!1,class:"d-flex flex-column",id:"units"},{title:o(()=>[s(d,{"hide-dot":"",item:e.race.buildings.barrack},{default:o(()=>[s(W,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:o(()=>a[1]||(a[1]=[v("b",null,"Barracks",-1)])),_:1})]),_:1},8,["item"])]),prependHead:o(()=>[s(g,{key:"barrack-attack",class:"ml-1",type:e.race.buildings.barrack.atkType},null,8,["type"])]),default:o(()=>[s(h,{class:"mb-2 mt-n6"},{default:o(()=>a[2]||(a[2]=[v("span",{class:"mx-2 text-caption text-grey"},"Units",-1)])),_:1}),s(_,{class:"mx-auto",items:n(r)},{default:o(({item:c})=>[s(n(R),{item:c,src:e.icons,coords:e.iconProps(c.id),class:M(["selectable-item",{depressed:n(l)&&!n(l).includes(c.id)}]),onMouseenter:()=>m(c),onMouseout:a[0]||(a[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),s(h,{class:"mb-1"},{default:o(()=>a[3]||(a[3]=[v("span",{class:"mx-2 text-caption text-grey"},"Heroes",-1)])),_:1}),s(_,{class:"mx-auto",items:e.race.heroes},{default:o(({item:c})=>[s(n(R),{item:c,src:e.icons,coords:e.iconProps(c.id),class:M(["selectable-item",{depressed:n(l)&&!n(l).includes(c.id)}])},null,8,["item","src","coords","class"])]),_:1},8,["items"])]),_:1})}}}),ks=D({__name:"racePage",async setup(t){let l,u;const r=et(),[m]=[tt().params.race].flat(),{raceData:e,iconProps:a,iconsSrc:d,version:g}=([l,u]=O(()=>B(m)),l=await l,u(),l),h=(p,f)=>{switch(p){case"upgrade":return Object.values(e.baseUpgrades).concat(e.magic).concat(e.towerUpgrades).find(x=>x.id===f);case"unit":return Object.values(e.units).find(x=>x.id===f);case"bonus":return Object.values(e.bonuses).find(x=>x.id===f);case"hero":return e.heroes.find(x=>x.id===f);case"spell":return[e.t1spell,e.t2spell].find(x=>x.id===f);default:return}},_=Se("iconSize",Pt),i=k(()=>({gridTemplateColumns:`repeat(auto-fill, minmax(${+_.value*5}px, 1fr))`})),c=wt?k(()=>{}):L();return K("hover",c),r.runWithContext(()=>{_t({title:`${e.name} v${g}`,description:`${e.name} of Survival Chaos v${g}: race info, bonuses, upgrades, units and heroes`,ogDescription:`${e.name} of Survival Chaos v${g}: race info, bonuses, upgrades, units and heroes`}),bt({link:[{rel:"preload",as:"image",href:d}]})}),(p,f)=>{const x=It,y=cs;return b(),T("div",null,[s(x,{class:"mb-2"}),s(y,{"obj-finder":h,"race-name":n(m)},{default:o(()=>[v("div",{class:"race-container",style:Te(n(i))},[s(kt,{race:n(e),style:{"flex-basis":"300px"}},null,8,["race"]),s(_s,{race:n(e),icons:n(d),"icon-props":n(a)},null,8,["race","icons","icon-props"]),s(bs,{race:n(e),icons:n(d),"icon-props":n(a)},null,8,["race","icons","icon-props"]),s(xs,{race:n(e),icons:n(d),"icon-props":n(a)},null,8,["race","icons","icon-props"]),s(hs,{race:n(e),icons:n(d),"icon-props":n(a)},null,8,["race","icons","icon-props"])],4)]),_:1},8,["race-name"])])}}}),Qs=q(ks,[["__scopeId","data-v-7ec59a90"]]);export{Qs as default};
