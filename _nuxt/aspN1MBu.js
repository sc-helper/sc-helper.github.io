import{_ as Oe}from"./T8M8W_2a.js";import{u as L,_ as de}from"./CLS8O3Qm.js";import{U as te,M as se,i as R,h as s,X as Ce,Y as Ae,g as f,n as q,e as V,c as h,P as I,aC as ke,C as J,ay as Ge,aA as We,aB as ze,aJ as qe,d as j,af as F,a as T,o as x,aM as we,w as n,F as U,b as W,u as t,q as w,l as H,p as P,_ as Q,r as B,j as Z,G as K,f as S,B as ne,aN as Qe,aO as Ye,t as Te,m as me,D as Se,aP as Ve,E as Y,aQ as Je,aR as Ke,aS as Ie,aT as De,a2 as Xe,s as Ze,v as et}from"./DZ9yxPnh.js";import{u as je}from"./DWwXIv0z.js";import{a as tt,b as st}from"./BYqOn-Mv.js";import{V as nt}from"./D_9lULLh.js";import{_ as ae}from"./M7-G4vMa.js";import{a as oe}from"./BnyX7ehW.js";import{_ as E}from"./OEiMIoM9.js";import{c as at}from"./CT7LQitk.js";import{u as fe}from"./BhjrFC0i.js";import{a as N,V as Pe}from"./eL0--pd8.js";import{b as ot,V as lt}from"./CDTfTnvv.js";import{e as le,f as pe,R as $e,d as Me,v as it,h as Re,w as ct,V as He,b as rt,g as ut,n as Ee,a as dt,m as mt,u as ft,x as pt}from"./B2HAxMRl.js";import{u as vt,m as xt,_ as Ue}from"./DVIFHKLm.js";import{u as _t,c as bt,d as yt,e as gt,V as z}from"./CB8ruCxg.js";import{_ as O,a as ve}from"./CXIyi6sR.js";import{h as xe}from"./Dd2277SN.js";import{V as _e}from"./Cvj7lzbk.js";import{u as ht}from"./CEQEIt7s.js";import{V as kt}from"./gJKmPqaO.js";import{a as be,_ as wt}from"./Cfw913Iv.js";import{_ as ie}from"./CboysCEN.js";import{I as Pt,D as $t}from"./DYmvtetA.js";import"./CEFrnuy2.js";import"./YIXB-5nL.js";import"./C-a4l7Gi.js";import"./DbYZnSlv.js";/* empty css        */import"./BdKgT5Bn.js";import"./DUpzrHY6.js";const X=Symbol.for("vuetify:v-expansion-panel"),Ne=se({...pe(),...xt()},"VExpansionPanelText"),D=te()({name:"VExpansionPanelText",props:Ne(),setup(e,l){let{slots:u}=l;const r=R(X);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:b,onAfterLeave:o}=vt(e,r.isSelected);return le(()=>s(ot,{onAfterLeave:o},{default:()=>{var a;return[Ce(f("div",{class:V(["v-expansion-panel-text",e.class]),style:q(e.style)},[u.default&&b.value&&f("div",{class:"v-expansion-panel-text__wrapper"},[(a=u.default)==null?void 0:a.call(u)])]),[[Ae,r.isSelected.value]])]}})),{}}}),Be=se({color:String,expandIcon:{type:ke,default:"$expand"},collapseIcon:{type:ke,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...pe(),...ct()},"VExpansionPanelTitle"),ue=te()({name:"VExpansionPanelTitle",directives:{vRipple:$e},props:Be(),setup(e,l){let{slots:u}=l;const r=R(X);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:b,backgroundColorStyles:o}=Me(()=>e.color),{dimensionStyles:a}=it(e),i=h(()=>({collapseIcon:e.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),_=I(()=>r.isSelected.value?e.collapseIcon:e.expandIcon);return le(()=>{var y;return Ce(f("button",{class:V(["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},b.value,e.class]),style:q([o.value,a.value,e.style]),type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:e.readonly?void 0:r.toggle},[f("span",{class:"v-expansion-panel-title__overlay"},null),(y=u.default)==null?void 0:y.call(u,i.value),!e.hideActions&&s(Re,{defaults:{VIcon:{icon:_.value}}},{default:()=>{var v;return[f("span",{class:"v-expansion-panel-title__icon"},[((v=u.actions)==null?void 0:v.call(u,i.value))??s(He,null,null)])]}})]),[[$e,e.ripple]])}),{}}}),Le=se({title:String,text:String,bgColor:String,...mt(),...bt(),...dt(),...Ee(),...Be(),...Ne()},"VExpansionPanel"),M=te()({name:"VExpansionPanel",props:Le(),emits:{"group:selected":e=>!0},setup(e,l){let{slots:u}=l;const r=_t(e,X),{backgroundColorClasses:b,backgroundColorStyles:o}=Me(()=>e.bgColor),{elevationClasses:a}=rt(e),{roundedClasses:i}=ut(e),_=I(()=>(r==null?void 0:r.disabled.value)||e.disabled),y=h(()=>r.group.items.value.reduce((p,c,m)=>(r.group.selected.value.includes(c.id)&&p.push(m),p),[])),v=h(()=>{const p=r.group.items.value.findIndex(c=>c.id===r.id);return!r.isSelected.value&&y.value.some(c=>c-p===1)}),d=h(()=>{const p=r.group.items.value.findIndex(c=>c.id===r.id);return!r.isSelected.value&&y.value.some(c=>c-p===-1)});return J(X,r),le(()=>{const p=!!(u.text||e.text),c=!!(u.title||e.title),m=ue.filterProps(e),g=D.filterProps(e);return s(e.tag,{class:V(["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":v.value,"v-expansion-panel--after-active":d.value,"v-expansion-panel--disabled":_.value},i.value,b.value,e.class]),style:q([o.value,e.style])},{default:()=>[f("div",{class:V(["v-expansion-panel__shadow",...a.value])},null),s(Re,{defaults:{VExpansionPanelTitle:{...m},VExpansionPanelText:{...g}}},{default:()=>{var C;return[c&&s(ue,{key:"title"},{default:()=>[u.title?u.title():e.title]}),p&&s(D,{key:"text"},{default:()=>[u.text?u.text():e.text]}),(C=u.default)==null?void 0:C.call(u)]}})]})}),{groupItem:r}}}),Ct=["default","accordion","inset","popout"],Tt=se({flat:Boolean,...gt(),...qe(Le(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...ze(),...pe(),...Ee(),variant:{type:String,default:"default",validator:e=>Ct.includes(e)}},"VExpansionPanels"),ye=te()({name:"VExpansionPanels",props:Tt(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:u}=l;const{next:r,prev:b}=yt(e,X),{themeClasses:o}=Ge(e),a=I(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return We({VExpansionPanel:{bgColor:I(()=>e.bgColor),collapseIcon:I(()=>e.collapseIcon),color:I(()=>e.color),eager:I(()=>e.eager),elevation:I(()=>e.elevation),expandIcon:I(()=>e.expandIcon),focusable:I(()=>e.focusable),hideActions:I(()=>e.hideActions),readonly:I(()=>e.readonly),ripple:I(()=>e.ripple),rounded:I(()=>e.rounded),static:I(()=>e.static)}}),le(()=>s(e.tag,{class:V(["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},o.value,a.value,e.class]),style:q(e.style)},{default:()=>{var i;return[(i=u.default)==null?void 0:i.call(u,{prev:b,next:r})]}})),{next:r,prev:b}}}),St=["innerHTML"],Vt=j({__name:"RaceSelectRibbon",async setup(e){let l,u;const r=je("iconSize"),{raceData:b,iconProps:o,iconsSrc:a}=([l,u]=F(()=>L("races")),l=await l,u(),l),i=h(()=>Object.values(b).flat());return(_,y)=>{const v=Oe,d=de;return x(),T("div",null,[s(tt,{"model-value":(_._.provides[we]||_.$route).params.race,"center-active":"","show-arrows":""},{default:n(()=>[(x(!0),T(U,null,W(t(i),p=>(x(),w(nt,{value:p.key,key:p.key},{default:n(({isSelected:c})=>[f("div",{class:V(["race-wrapper",{selected:c}])},[s(d,{coords:t(o)(p.id),src:t(a),description:"",width:t(r)},{tooltip:n(()=>[f("div",{innerHTML:p.name},null,8,St)]),default:n(()=>[s(v,{to:{name:"RaceIndex",params:{...(_._.provides[we]||_.$route).params,race:p.key}}},{default:n(()=>[H(P(p.name),1)]),_:2},1032,["to"])]),_:2},1032,["coords","src","width"])],2)]),_:2},1032,["value"]))),128))]),_:1},8,["model-value"])])}}}),It=Q(Vt,[["__scopeId","data-v-f1152851"]]),Dt={key:0,class:"d-flex row-warp align-center my-1"},jt={class:"ml-2 mt-n1"},Mt={class:"ml-2 mt-n1"},Rt=["innerHTML"],Ht={class:"text-white bg-red mx-2 rounded-lg"},Et={class:"text-white bg-blue mx-2 rounded-lg"},Ut={class:"d-flex align-center"},Nt={class:"ml-2 mt-n1"},Bt={key:0,class:"d-flex align-center"},Lt={class:"ml-2 mt-n1"},Ft={class:"upgrades-wrapper"},Ot=j({__name:"DetailsUnit",props:{item:{}},async setup(e){let l,u;const r={sapper:"strong"},b=B(["characteristics","upgrades","items"]),[o,{gold:a,bounty:i,range:_,attackSpeed:y}]=fe(),v=R("raceName"),{iconProps:d,iconsSrc:p}=([l,u]=F(()=>L(v)),l=await l,u(),l),c=R("objFinder"),m=h(()=>!isNaN(Number(e.item.hpReg))),g=h(()=>!isNaN(Number(e.item.mpReg))),C=h(()=>{var k;return(k=e.item.upgrades)==null?void 0:k.map(A=>c("upgrade",A)).filter(Z)}),$=h(()=>(e.item.tags??[]).map(k=>r[k]??k).map(at));return(k,A)=>{const ee=de,he=oe,Fe=E;return x(),T(U,null,[K(k.$slots,"fullname",{},void 0,!0),t($).length?(x(),T("div",Dt,[A[1]||(A[1]=f("div",{class:"text-subtitle-2"},"Tags:",-1)),(x(!0),T(U,null,W(t($),G=>(x(),w(st,{class:"ma-1 mr-0",density:"compact",size:"small"},{default:n(()=>[H(P(G),1)]),_:2},1024))),256))])):S("",!0),s(Pe,{class:"my-1"},{default:n(()=>[s(N,{cols:"6",class:"d-flex align-center py-0"},{default:n(()=>[s(ee,{src:t(o),coords:t(a),width:"32",description:"Cost"},null,8,["src","coords"]),f("span",jt,P(e.item.cost),1)]),_:1}),s(N,{cols:"6",class:"d-flex align-center py-0"},{default:n(()=>[s(ee,{src:t(o),coords:t(i),width:"32",description:"Kill bounty"},null,8,["src","coords"]),f("span",Mt,P(e.item.bounty),1)]),_:1})]),_:1}),s(ye,{elevation:"0",static:"",tile:"",multiple:"",modelValue:t(b),"onUpdate:modelValue":A[0]||(A[0]=G=>ne(b)?b.value=G:null)},{default:n(()=>{var G;return[e.item.description?(x(),w(M,{key:0,title:"Description",value:"description"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",{class:"text-body-2",innerHTML:e.item.description},null,8,Rt)]),_:1})]),_:1})):S("",!0),K(k.$slots,"heroItems",{},void 0,!0),s(M,{title:"Characteristics",value:"characteristics"},{default:n(()=>[s(D,null,{default:n(()=>[s(Pe,{class:"my-1"},{default:n(()=>[s(N,{cols:"6",class:"text-center pt-0"},{default:n(()=>[f("div",Ht,[f("b",null,P(e.item.hp),1),t(m)?(x(),T(U,{key:0},[H(" +"+P(e.item.hpReg)+"/sec",1)],64)):S("",!0)])]),_:1}),s(N,{cols:"6",class:"text-center pt-0"},{default:n(()=>[f("div",Et,[f("b",null,P(e.item.mp),1),t(g)?(x(),T(U,{key:0},[H(" +"+P(e.item.mpReg)+"/sec",1)],64)):S("",!0)])]),_:1}),s(N,{cols:"6",class:"py-0"},{default:n(()=>[s(he,{type:e.item.atkType,value:e.item.atk},null,8,["type","value"]),f("div",Ut,[s(ee,{src:t(o),coords:t(_),width:"32",description:"Attack range"},null,8,["src","coords"]),f("span",Nt,P(e.item.atkRange)+P(e.item.weaponType==="normal"?" (melee)":""),1)]),e.item.atkSpeed?(x(),T("div",Bt,[s(ee,{src:t(o),coords:t(y),width:"32",description:"Attack speed"},null,8,["src","coords"]),f("span",Lt,P(e.item.atkSpeed.toFixed(2))+" BCD",1)])):S("",!0)]),_:1}),s(N,{cols:"6",class:"py-0"},{default:n(()=>[s(he,{type:e.item.defType,value:e.item.def,"is-defend":""},null,8,["type","value"])]),_:1}),K(k.$slots,"attributes",{},void 0,!0)]),_:3})]),_:3})]),_:3}),(G=t(C))!=null&&G.length?(x(),w(M,{key:1,title:"Upgrades used",value:"upgrades"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",Ft,[(x(!0),T(U,null,W(t(C),re=>(x(),w(Fe,{item:re,src:t(p),coords:t(d)(re.id,re.iconsCount)},null,8,["item","src","coords"]))),256))])]),_:1})]),_:1})):S("",!0)]}),_:3},8,["modelValue"])],64)}}}),ce=Q(Ot,[["__scopeId","data-v-64f875f0"]]),At=["innerHTML"],Gt={class:"d-flex justify-center"},Wt=j({__name:"DetailsHero",props:{item:{}},async setup(e){let l,u;const r=R("raceName"),{iconProps:b,iconsSrc:o}=([l,u]=F(()=>L(r)),l=await l,u(),l),[a,{str:i,int:_,agi:y}]=fe(),v=h(()=>{if(!e.item.items)return[];const d=e.item.items.map(({level:c})=>c);if(!(d!=null&&d.length))return[];const p=d.filter(Qe).sort((c,m)=>c-m).reduce((c,m,g)=>(c[m]=xe[g],c),{});return e.item.items.map(c=>({...c,hotkey:p[c.level]}))});return(d,p)=>{const c=ae,m=E,g=O,C=ce;return x(),w(C,{item:e.item},{fullname:n(()=>[f("div",{innerHTML:e.item.fullName,class:"text-center text-subtitle-1"},null,8,At)]),attributes:n(()=>[s(N,{cols:"4",class:"text-center pb-0"},{default:n(()=>[s(c,{width:"32",src:t(a),coords:t(i),padding:[0,8,8,0]},null,8,["src","coords"]),f("div",{class:V({"text-yellow":e.item.stat==="str","font-bold":e.item.stat==="str"})},P(e.item.str)+"+"+P(e.item.strLvl),3)]),_:1}),s(N,{cols:"4",class:"text-center pb-0"},{default:n(()=>[s(c,{width:"32",src:t(a),coords:t(y),padding:[0,8,8,0]},null,8,["src","coords"]),f("div",{class:V({"text-yellow":e.item.stat==="agi","font-bold":e.item.stat==="agi"})},P(e.item.agi)+"+"+P(e.item.agiLvl),3)]),_:1}),s(N,{cols:"4",class:"text-center pb-0"},{default:n(()=>[s(c,{width:"32",src:t(a),coords:t(_),padding:[0,8,8,0]},null,8,["src","coords"]),f("div",{class:V({"text-yellow":e.item.stat==="int","font-bold":e.item.stat==="int"})},P(e.item.int)+"+"+P(e.item.intLvl),3)]),_:1})]),heroItems:n(()=>[t(v).length?(x(),w(M,{key:0,title:"Hero items",value:"items"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",Gt,[s(g,{items:t(v),size:.75},{default:n(({item:$})=>[s(m,{src:t(o),coords:t(b)($.id),item:$},null,8,["src","coords","item"])]),_:1},8,["items"])])]),_:1})]),_:1})):S("",!0)]),_:1},8,["item"])}}}),zt=Q(Wt,[["__scopeId","data-v-dc1de915"]]),qt=["innerHTML"],Qt={class:"d-flex justify-center"},Yt={class:"d-flex justify-center"},Jt=j({__name:"DetailsUpgrade",props:{item:{}},async setup(e){let l,u;const r=B(["spells","summons","affects"]),b=R("raceName"),{raceData:o,iconProps:a,iconsSrc:i}=([l,u]=F(()=>L(b)),l=await l,u(),l),_=h(()=>{var d;return((d=e.item.spells)==null?void 0:d.map(p=>p.summonUnit).flat().filter(Z).filter(Ye))??[]}),y=h(()=>e.item.spells),v=h(()=>{const d=Object.values(o.units).filter(({upgrades:c})=>c==null?void 0:c.includes(e.item.id)),p=o.bonuses.map(({units:c})=>c??[]).flat().filter(({upgrades:c})=>c==null?void 0:c.includes(e.item.id)).map(c=>{var g;const m=((g=o.bonuses.find(({units:C})=>C==null?void 0:C.some(({id:$})=>$===c.id)))==null?void 0:g.id)??"";return{...c,id:m}});return[...d,...p]});return(d,p)=>{const c=E,m=O,g=ce;return x(),w(ye,{elevation:"0",static:"",tile:"",multiple:"",modelValue:t(r),"onUpdate:modelValue":p[0]||(p[0]=C=>ne(r)?r.value=C:null)},{default:n(()=>{var C;return[e.item.description?(x(),w(M,{key:0,title:"Description",value:"description"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",{class:"text-body-2",innerHTML:e.item.description},null,8,qt)]),_:1})]),_:1})):S("",!0),(C=t(y))!=null&&C.length?(x(),w(M,{key:1,title:"Spells",value:"spells"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",Qt,[s(m,{items:t(y),"disable-details":"","skip-hotkey":""},{default:n(({item:$})=>[s(c,{item:$,src:t(i),coords:t(a)($.id,$.iconsCount)},null,8,["item","src","coords"])]),_:1},8,["items"])])]),_:1})]),_:1})):S("",!0),(x(!0),T(U,null,W(t(_),$=>(x(),w(M,{title:`Summon: ${$.name}`,value:`summon-${$.id}`},{default:n(()=>[s(D,null,{default:n(()=>[s(g,{item:$},null,8,["item"])]),_:2},1024)]),_:2},1032,["title","value"]))),256)),t(v).length?(x(),w(M,{key:2,title:"Affects",value:"affects"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",Yt,[s(m,{items:t(v),"disable-details":"","skip-hotkey":""},{default:n(({item:$})=>[s(c,{item:$,src:t(i),coords:t(a)($.id,$.iconsCount)},null,8,["item","src","coords"])]),_:1},8,["items"])])]),_:1})]),_:1})):S("",!0)]}),_:1},8,["modelValue"])}}}),Kt=j({__name:"DetailsSpell",props:{item:{}},setup(e){return(l,u)=>(x(),T("div"))}}),Xt={class:"cost"},Zt=j({__name:"CombineCost",props:{items:{},count:{}},setup(e){const[l,{gold:u}]=fe(),r=h(()=>Te(e.items).reduce((b,{cost:o})=>{var a;return b+((a=o??[])==null?void 0:a.slice(0,e.count).reduce((i,_)=>i+(_??0),0))},0));return(b,o)=>{const a=ae,i=Ue;return x(),w(i,null,{default:n(()=>[s(_e,{location:"top"},{activator:n(({props:_})=>[f("div",me({class:"d-flex align-center"},_),[s(a,{src:t(l),coords:t(u),width:"16"},null,8,["src","coords"]),f("span",Xt,P(t(r)),1)],16)]),default:n(()=>[K(b.$slots,"default",{},()=>[o[0]||(o[0]=H("Total cost",-1))],!0)]),_:3})]),_:3})}}}),ge=Q(Zt,[["__scopeId","data-v-1bade672"]]),es=["innerHTML"],ts={class:"d-flex justify-center"},ss={class:"d-flex justify-center"},ns=j({__name:"DetailsBonus",props:{item:{}},async setup(e){let l,u;const r=R("objFinder"),b=R("raceName"),{iconProps:o,iconsSrc:a}=([l,u]=F(()=>L(b)),l=await l,u(),l),i=B(["grid","opens"]);Se(()=>e.item,d=>{var p;i.value=["grid"].concat(((p=d.units)==null?void 0:p.map(({id:c})=>`unit-${c}`))??[])});const _=h(()=>{var d;return(((d=e.item.spells)==null?void 0:d.length)??0)>1?!0:[e.item.units,e.item.upgrades].some(p=>!!(p!=null&&p.length))}),y=h(()=>[...(e.item.spells??[]).filter(({name:d})=>!!d),...e.item.upgrades??[]]),v=h(()=>e.item.relatedID.map(d=>r("upgrade",d)).filter(Z));return(d,p)=>{const c=ge,m=E,g=O,C=ae,$=ce;return x(),w(ye,{elevation:"0",static:"",tile:"",multiple:"",modelValue:t(i),"onUpdate:modelValue":p[0]||(p[0]=k=>ne(i)?i.value=k:null)},{default:n(()=>[e.item.description?(x(),w(M,{key:0,title:"Description",value:"description"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",{class:"text-body-2",innerHTML:e.item.description},null,8,es)]),_:1})]),_:1})):S("",!0),t(_)&&t(y).length?(x(),w(M,{key:1,value:"grid"},{default:n(()=>[s(ue,{width:"100%",class:"d-flex"},{default:n(()=>[p[2]||(p[2]=f("span",{class:"mr-auto"},"Bonus spells/upgrades",-1)),s(c,{items:e.item.upgrades??[]},{default:n(()=>[...p[1]||(p[1]=[H(" Total cost ",-1)])]),_:1},8,["items"])]),_:1}),s(D,null,{default:n(()=>[f("div",ts,[t(_)&&t(y).length?(x(),w(g,{key:0,items:t(y),"disable-details":"","show-empty":""},{default:n(({item:k})=>[s(m,{src:t(a),coords:t(o)(k.id,k.iconsCount),item:k},null,8,["src","coords","item"])]),_:1},8,["items"])):S("",!0)])]),_:1})]),_:1})):S("",!0),(x(!0),T(U,null,W(e.item.units,k=>(x(),w(M,{title:`Unit: ${k.name}`,value:`unit-${k.id}`},{title:n(()=>[s(C,{src:t(a),coords:t(o)(k.id),width:"32",class:"mr-2"},null,8,["src","coords"]),f("span",null,"Unit: "+P(k.name),1)]),default:n(()=>[s(D,null,{default:n(()=>[s($,{item:k},null,8,["item"])]),_:2},1024)]),_:2},1032,["title","value"]))),256)),t(v).length?(x(),w(M,{key:2,title:"Unlocked upgrades",value:"opens"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",ss,[s(g,{items:t(v),"disable-details":"","skip-hotkey":""},{default:n(({item:k})=>[s(m,{src:t(a),coords:t(o)(k.id,k.iconsCount),item:k},null,8,["src","coords","item"])]),_:1},8,["items"])])]),_:1})]),_:1})):S("",!0)]),_:1},8,["modelValue"])}}}),as=({item:e})=>{const l=Te(e);if(l){if(Ve(l))return Y(ce,{item:l});if(Je(l))return Y(zt,{item:l});if(Ke(l))return Y(Jt,{item:l});if(Ie(l))return Y(Kt,{item:l});if(De(l))return Y(ns,{item:l})}},os={key:0,class:"d-flex align-center justify-space-between panel-header pb-2 elevation-1 mb-2"},ls=["innerHTML"],is={class:"panel-details"},cs=j({__name:"DetailsProvider",props:{objFinder:{type:Function},raceName:{}},async setup(e){let l,u;const{iconProps:r,iconsSrc:b}=([l,u]=F(()=>L(e.raceName)),l=await l,u(),l),o=B(null),a=ht(),i=h({get:()=>!!o.value,set:v=>{v||(o.value=null)}});Xe(()=>{a.value&&["bonus","spell","unit","hero","upgrade"].forEach(v=>{var p;if(!a.value||((p=o.value)==null?void 0:p.id)===a.value)return;const d=e.objFinder(v,a.value);d&&(o.value=d)})}),Se(()=>o.value,v=>a.value=v==null?void 0:v.id);const _=v=>{o.value=v},y=()=>{var v;navigator.clipboard.writeText(((v=o.value)==null?void 0:v.id)||"")};return J("detailsSet",_),J("objFinder",e.objFinder),J("raceName",e.raceName),(v,d)=>{const p=ae,c=as,m=Ue;return x(),T(U,null,[s(m,null,{default:n(()=>[s(kt,{modelValue:t(i),"onUpdate:modelValue":d[1]||(d[1]=g=>ne(i)?i.value=g:null),location:"left",temporary:"","disable-resize-watcher":"",elevation:"4",class:"pa-2",width:"400","disable-route-watcher":""},{default:n(()=>[t(o)?(x(),T("div",os,[s(_e,{color:"transparent"},{activator:n(({props:g})=>[s(p,me({src:t(b),coords:t(r)(t(o).id),width:"32"},g,{onClick:y}),null,16,["src","coords"])]),default:n(()=>[H(" ID: "+P(t(o).id),1)]),_:1}),f("span",{innerHTML:t(o).name,class:"text-h6 mx-2"},null,8,ls),s(z,{density:"comfortable",icon:"",flat:"",onClick:d[0]||(d[0]=g=>_(null))},{default:n(()=>[s(He,{icon:"$close"})]),_:1})])):S("",!0),f("div",is,[s(c,{item:t(o)},null,8,["item"])])]),_:1},8,["modelValue"])]),_:1}),K(v.$slots,"default",{},void 0,!0)],64)}}}),rs=Q(cs,[["__scopeId","data-v-e1fba027"]]),us={class:"text-h6"},ds=["innerHTML"],ms={key:0,class:"text-subtitle-1"},fs={class:"text-yellow"},ps={key:1,class:"text-subtitle-1"},vs={key:0,class:"text-green"},xs=j({__name:"RaceFortress",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=R("hover",B()),u=h(()=>[e.race.t1spell,e.race.t2spell,e.race.ultiData].filter(Z)),r=h(()=>e.race.magic.map((o,a)=>({...o,hotkey:xe[a]})).concat(...Object.values(e.race.baseUpgrades))),b=o=>{const a=Object.values(e.race.units).filter(({upgrades:i})=>i==null?void 0:i.includes(o.id)).map(({id:i})=>i);l.value=[o.id,...a]};return(o,a)=>{const i=ve,_=oe,y=ge,v=be,d=O,p=de,c=ie;return x(),w(c,{title:"Fortress",class:"d-flex flex-column justify-start","full-height":!1,id:"fortress"},{title:n(()=>[s(i,{"hide-dot":"",item:e.race.buildings.fort[1]},{default:n(()=>[s(z,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:n(()=>[...a[1]||(a[1]=[f("b",null,"Fortress",-1)])]),_:1})]),_:1},8,["item"])]),prependHead:n(()=>[s(_,{key:"fort-attack",class:"ml-1",type:e.race.buildings.fort[1].atkType},null,8,["type"])]),appendHead:n(()=>[s(y,{key:"fort-cost",class:"mr-1",items:t(r)},null,8,["items"])]),default:n(()=>[s(v,{class:"mb-2 mt-n6"},{default:n(()=>[...a[2]||(a[2]=[f("span",{class:"mx-2 text-caption text-grey"},"Auras",-1)])]),_:1}),s(d,{class:"mx-auto",items:e.race.auras},{default:n(({item:m})=>[s(t(E),{item:m,src:e.icons,coords:e.iconProps(m.id),class:V(["selectable-item",{depressed:t(l)&&!t(l).includes(m.id)}])},null,8,["item","src","coords","class"])]),_:1},8,["items"]),s(v,{class:"mb-1"},{default:n(()=>[...a[3]||(a[3]=[f("span",{class:"mx-2 text-caption text-grey"},"Upgrades",-1)])]),_:1}),s(d,{class:"mx-auto",items:t(r)},{default:n(({item:m})=>[s(t(E),{item:m,src:e.icons,coords:!("level"in m)||(m.iconsCount??0)<=1?e.iconProps(m.id,m.iconsCount):e.iconProps(`${m.id}-${m.level}`),class:V(["selectable-item",{depressed:t(l)&&!t(l).includes(m.id)}]),onMouseenter:()=>b(m),onMouseout:a[0]||(a[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),s(v,{class:"mb-1"},{default:n(()=>[...a[4]||(a[4]=[f("span",{class:"mx-2 text-caption text-grey"},"Skills",-1)])]),_:1}),s(d,{class:"mx-auto",items:t(u)},{default:n(({item:m})=>[("isSpellObject"in o?o.isSpellObject:t(Ie))(m)?(x(),w(t(E),{key:0,item:m,src:e.icons,coords:e.iconProps(m.id),class:V(["selectable-item",{depressed:t(l)&&!t(l).includes(m.id)}])},null,8,["item","src","coords","class"])):(x(),w(p,{key:1,src:e.icons,coords:e.iconProps(m.id)},{tooltip:n(()=>[f("div",us,[a[5]||(a[5]=H(" Precision UW: ",-1)),f("span",{innerHTML:m.name.replace(/\[.+\]/g,"")},null,8,ds)]),a[8]||(a[8]=f("br",null,null,-1)),"damageTime"in m?(x(),T("div",ms,[a[6]||(a[6]=H(" Time to full damage: ",-1)),f("span",fs,P(m.damageTime==0?"Instant":m.damageTime+"s"),1)])):S("",!0),"stealInterrupt"in m?(x(),T("div",ps,[a[7]||(a[7]=H(" Interrupts mana steal: ",-1)),f("span",{class:V(m.stealInterrupt?"text-green":"text-red")},P(m.stealInterrupt?"Yes":"No"),3),m.fakeStealInterrupt?(x(),T("span",vs," (+ Decoy UW) ")):S("",!0)])):S("",!0)]),_:2},1032,["src","coords"]))]),_:1},8,["items"])]),_:1})}}}),_s=j({__name:"RaceTowers",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=R("hover",B()),u=h(()=>[...(e.race.buildings.tower.skills??[]).map((o,a)=>({...o,hotkey:o.hotkey||xe[a]})),...e.race.towerUpgrades]),r=h(()=>Object.values(e.race.bonuses).reduce((o,{id:a,relatedID:i})=>(i.forEach(_=>{o[_]=a}),o),{})),b=o=>{const a=Object.values(e.race.units).filter(({upgrades:i})=>i==null?void 0:i.includes(o.id)).map(({id:i})=>i);l.value=[o.id,r.value[o.id],...a]};return(o,a)=>{const i=ve,_=oe,y=ge,v=E,d=O,p=ie;return x(),w(p,{title:"Towers","full-height":!1,class:"d-flex flex-column",id:"upgrades"},{title:n(()=>[s(i,{"hide-dot":"",item:e.race.buildings.tower},{default:n(()=>[s(z,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:n(()=>[...a[1]||(a[1]=[f("b",null,"Towers",-1)])]),_:1})]),_:1},8,["item"])]),prependHead:n(()=>[s(_,{key:"tower-attack",class:"ml-1",type:e.race.buildings.tower.atkType},null,8,["type"])]),appendHead:n(()=>[s(y,{key:"tower-cost",items:e.race.towerUpgrades,count:3},{default:n(()=>[...a[2]||(a[2]=[H(" Total cost (Lv3) ",-1)])]),_:1},8,["items"])]),default:n(()=>[s(d,{class:"mx-auto",items:t(u),"restricted-slots":["Q","W"]},{default:n(({item:c})=>[s(v,{item:c,src:e.icons,coords:e.iconProps(c.id,c.iconsCount),class:V(["selectable-item",{depressed:t(l)&&!t(l).includes(c.id)}]),onMouseenter:()=>b(c),onMouseout:a[0]||(a[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"])]),_:1})}}}),bs={class:"d-flex flex-wrap"},ys=["innerHTML"],gs=j({__name:"RaceBonuses",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=R("hover",B()),u=new Intl.Collator("en").compare,r=h(()=>Object.values(e.race.bonusBuildings).sort(({name:o},{name:a})=>u(o,a))),b=o=>{if(!De(o)){l.value=[o.id,...e.race.bonuses.filter(({buildingId:i})=>i===o.id).map(({id:i})=>i)].filter(Z);return}const a=Object.values(e.race.units).filter(({hotkey:i})=>{var _;return(_=o.units)==null?void 0:_.some(y=>y.hotkey===i)}).map(({id:i})=>i);l.value=[o.id,o.buildingId,...o.relatedID,...a]};return(o,a)=>{const i=E,_=O,y=be,v=ie;return x(),T("div",{style:q({gridRow:`span ${1+Math.floor(t(r).length/5)}`})},[s(v,{title:"Bonuses","full-height":!1,class:"d-flex flex-column align-center justify-start",id:"bonuses"},{title:n(()=>[s(_e,{"open-on-click":"","open-on-hover":!1,offset:[-4,0],"close-on-back":"",location:"top",transition:{component:t(lt)}},{activator:n(({props:d})=>[s(z,me({size:"large",class:"mx-auto",variant:"text",color:"yellow"},d),{default:n(()=>[...a[2]||(a[2]=[f("b",null,"Bonuses",-1)])]),_:1},16)]),default:n(()=>[a[3]||(a[3]=f("span",null,"There is no easter eggs",-1))]),_:1},8,["transition"])]),default:n(()=>[s(_,{items:e.race.bonuses},{default:n(({item:d})=>[s(i,{item:d,src:e.icons,coords:e.iconProps(d.id),class:V(["selectable-item",{depressed:t(l)&&!t(l).includes(d.id)}]),onMouseenter:()=>b(d),onMouseout:a[0]||(a[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),s(y,{class:"my-1"},{default:n(()=>[...a[4]||(a[4]=[f("span",{class:"mx-2 text-caption text-grey text-no-wrap"},"Bonus buildings",-1)])]),_:1}),f("div",bs,[(x(!0),T(U,null,W(t(r),d=>(x(),w(z,{class:"my-1 mx-2 cursor-default",variant:"text",size:"x-small",active:t(l)&&t(l).includes(d.id),onMouseover:()=>b(d),onMouseout:a[1]||(a[1]=()=>l.value=void 0)},{default:n(()=>[f("span",{innerHTML:d.name},null,8,ys)]),_:2},1032,["active","onMouseover"]))),256))])]),_:1})],4)}}}),hs=j({__name:"RaceBarracks",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=R("hover",B()),u={melee:"A",range:"S",mage:"D",siege:"F",air:"E",catapult:"R"},r=h(()=>Object.entries(e.race.units).map(([a,i])=>({...i,hotkey:u[a]}))),b=h(()=>{var i;return[...((i=e.race.buildings.barrack.find(_=>{var y;return(y=_.skills)==null?void 0:y.length}))==null?void 0:i.skills)??[],...r.value]}),o=a=>{Ve(a)&&(l.value=[a.id,...a.upgrades??[]])};return(a,i)=>{const _=ve,y=oe,v=be,d=O,p=ie;return x(),w(p,{title:"Barracks","full-height":!1,class:"d-flex flex-column",id:"units"},{title:n(()=>[s(_,{"hide-dot":"",item:e.race.buildings.barrack[0]},{default:n(()=>[s(z,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:n(()=>[...i[1]||(i[1]=[f("b",null,"Barracks",-1)])]),_:1})]),_:1},8,["item"])]),prependHead:n(()=>[s(y,{key:"barrack-attack",class:"ml-1",type:e.race.buildings.barrack[0].atkType},null,8,["type"])]),default:n(()=>[s(v,{class:"mb-2 mt-n6"},{default:n(()=>[...i[2]||(i[2]=[f("span",{class:"mx-2 text-caption text-grey"},"Units",-1)])]),_:1}),s(d,{class:"mx-auto",items:t(b)},{default:n(({item:c})=>[s(t(E),{item:c,src:e.icons,coords:e.iconProps(c.id),class:V(["selectable-item",{depressed:t(l)&&!t(l).includes(c.id)}]),onMouseenter:()=>o(c),onMouseout:i[0]||(i[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),s(v,{class:"mb-1"},{default:n(()=>[...i[3]||(i[3]=[f("span",{class:"mx-2 text-caption text-grey"},"Heroes",-1)])]),_:1}),s(d,{class:"mx-auto",items:e.race.heroes},{default:n(({item:c})=>[s(t(E),{item:c,src:e.icons,coords:e.iconProps(c.id),class:V(["selectable-item",{depressed:t(l)&&!t(l).includes(c.id)}])},null,8,["item","src","coords","class"])]),_:1},8,["items"])]),_:1})}}}),ks=j({__name:"racePage",async setup(e){let l,u;const r=Ze(),[b]=[et().currentRoute.value.params.race].flat(),{raceData:o,iconProps:a,iconsSrc:i,version:_}=([l,u]=F(()=>L(b)),l=await l,u(),l),y=(c,m)=>{switch(c){case"upgrade":return Object.values(o.baseUpgrades).concat(o.magic).concat(o.towerUpgrades).find(g=>g.id===m);case"unit":return Object.values(o.units).find(g=>g.id===m);case"bonus":return Object.values(o.bonuses).find(g=>g.id===m);case"hero":return o.heroes.find(g=>g.id===m);case"spell":return[o.t1spell,o.t2spell].find(g=>g.id===m);default:return}},v=je("iconSize",$t),d=h(()=>({gridTemplateColumns:`repeat(auto-fill, minmax(${+v.value*5}px, 1fr))`})),p=Pt?h(()=>{}):B();return J("hover",p),r.runWithContext(()=>{ft({title:`${o.name} v${_}`,description:`${o.name} of Survival Chaos v${_}: race info, bonuses, upgrades, units and heroes`,ogDescription:`${o.name} of Survival Chaos v${_}: race info, bonuses, upgrades, units and heroes`}),pt({link:[{rel:"preload",as:"image",href:i}]})}),(c,m)=>{const g=It,C=rs;return x(),T("div",null,[s(g,{class:"mb-2"}),s(C,{"obj-finder":y,"race-name":t(b)},{default:n(()=>[f("div",{class:"race-container",style:q(t(d))},[s(wt,{race:t(o),style:{"flex-basis":"300px"}},null,8,["race"]),s(xs,{race:t(o),icons:t(i),"icon-props":t(a)},null,8,["race","icons","icon-props"]),s(_s,{race:t(o),icons:t(i),"icon-props":t(a)},null,8,["race","icons","icon-props"]),s(gs,{race:t(o),icons:t(i),"icon-props":t(a)},null,8,["race","icons","icon-props"]),s(hs,{race:t(o),icons:t(i),"icon-props":t(a)},null,8,["race","icons","icon-props"])],4)]),_:1},8,["race-name"])])}}}),en=Q(ks,[["__scopeId","data-v-aea57093"]]);export{en as default};
