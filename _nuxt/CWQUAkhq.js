import{_ as Be}from"./CmnV71i2.js";import{u as U,_ as he,a as re}from"./gpDFjCRR.js";import{q as Z,s as Y,S as I,e as s,al as xe,am as Fe,c as k,an as Oe,a6 as be,T as W,a1 as Ae,a3 as Ge,R as D,a5 as ze,ao as We,d as T,I as B,g as V,o as b,ap as ye,b as a,F as H,j as A,u as n,a as C,f as _,L as M,i as N,t as P,_ as G,B as L,E as ee,r as q,ah as $,J as te,aq as qe,ar as Ke,D as ke,m as we,w as Ce,as as Ze,h as z,at as Je,au as Qe,av as Xe,aw as Pe,ax as Ye,K as ce,ay as et,ak as tt}from"./CzSvWD8a.js";import{u as Ve}from"./BTkoDs1E.js";import{b as st,c as nt,V as at,a as le}from"./B3bNms_p.js";import{a as $e,m as Se,b as ot,c as lt,V as J}from"./BoPBwFie.js";import{a as se,_ as R}from"./BvVi2DxR.js";import{u as de}from"./CdKjbfsw.js";import{a as E,V as ge}from"./Dqpfo8Ln.js";import{V as it}from"./DUOQo26g.js";import{a as ne,g as ue,R as rt,j as Te,n as ct,o as Ie,V as De,p as dt,q as ut,r as mt,b as je,d as pt,e as ft,u as vt,s as _t}from"./DPJCGSfx.js";import{u as bt,m as yt,_ as Me,V as Re}from"./BaOPot0Y.js";import{h as He,_ as F,a as me}from"./eMpAV28t.js";import{u as gt}from"./D3pl2OWV.js";import{V as ht}from"./BZjXTMti.js";import{_ as Q}from"./CX7G244D.js";import{I as xt,D as kt}from"./DYmvtetA.js";import"./o2rTPMl7.js";/* empty css        */const K=Symbol.for("vuetify:v-expansion-panel"),Ee=Y({...ue(),...yt()},"VExpansionPanelText"),S=Z()({name:"VExpansionPanelText",props:Ee(),setup(e,o){let{slots:d}=o;const c=I(K);if(!c)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:m,onAfterLeave:t}=bt(e,c.isSelected);return ne(()=>s(it,{onAfterLeave:t},{default:()=>{var l;return[xe(s("div",{class:["v-expansion-panel-text",e.class],style:e.style},[d.default&&m.value&&s("div",{class:"v-expansion-panel-text__wrapper"},[(l=d.default)==null?void 0:l.call(d)])]),[[Fe,c.isSelected.value]])]}})),{}}}),Le=Y({color:String,expandIcon:{type:be,default:"$expand"},collapseIcon:{type:be,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...ue(),...dt()},"VExpansionPanelTitle"),ie=Z()({name:"VExpansionPanelTitle",directives:{Ripple:rt},props:Le(),setup(e,o){let{slots:d}=o;const c=I(K);if(!c)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:m,backgroundColorStyles:t}=Te(e,"color"),{dimensionStyles:l}=ct(e),u=k(()=>({collapseIcon:e.collapseIcon,disabled:c.disabled.value,expanded:c.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),y=k(()=>c.isSelected.value?e.collapseIcon:e.expandIcon);return ne(()=>{var x;return xe(s("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":c.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},m.value,e.class],style:[t.value,l.value,e.style],type:"button",tabindex:c.disabled.value?-1:void 0,disabled:c.disabled.value,"aria-expanded":c.isSelected.value,onClick:e.readonly?void 0:c.toggle},[s("span",{class:"v-expansion-panel-title__overlay"},null),(x=d.default)==null?void 0:x.call(d,u.value),!e.hideActions&&s(Ie,{defaults:{VIcon:{icon:y.value}}},{default:()=>{var f;return[s("span",{class:"v-expansion-panel-title__icon"},[((f=d.actions)==null?void 0:f.call(d,u.value))??s(De,null,null)])]}})]),[[Oe("ripple"),e.ripple]])}),{}}}),Ne=Y({title:String,text:String,bgColor:String,...ft(),...Se(),...pt(),...je(),...Le(),...Ee()},"VExpansionPanel"),j=Z()({name:"VExpansionPanel",props:Ne(),emits:{"group:selected":e=>!0},setup(e,o){let{slots:d}=o;const c=$e(e,K),{backgroundColorClasses:m,backgroundColorStyles:t}=Te(e,"bgColor"),{elevationClasses:l}=ut(e),{roundedClasses:u}=mt(e),y=k(()=>(c==null?void 0:c.disabled.value)||e.disabled),x=k(()=>c.group.items.value.reduce((i,p,w)=>(c.group.selected.value.includes(p.id)&&i.push(w),i),[])),f=k(()=>{const i=c.group.items.value.findIndex(p=>p.id===c.id);return!c.isSelected.value&&x.value.some(p=>p-i===1)}),r=k(()=>{const i=c.group.items.value.findIndex(p=>p.id===c.id);return!c.isSelected.value&&x.value.some(p=>p-i===-1)});return W(K,c),ne(()=>{const i=!!(d.text||e.text),p=!!(d.title||e.title),w=ie.filterProps(e),h=S.filterProps(e);return s(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":c.isSelected.value,"v-expansion-panel--before-active":f.value,"v-expansion-panel--after-active":r.value,"v-expansion-panel--disabled":y.value},u.value,m.value,e.class],style:[t.value,e.style]},{default:()=>[s("div",{class:["v-expansion-panel__shadow",...l.value]},null),s(Ie,{defaults:{VExpansionPanelTitle:{...w},VExpansionPanelText:{...h}}},{default:()=>{var v;return[p&&s(ie,{key:"title"},{default:()=>[d.title?d.title():e.title]}),i&&s(S,{key:"text"},{default:()=>[d.text?d.text():e.text]}),(v=d.default)==null?void 0:v.call(d)]}})]})}),{groupItem:c}}}),wt=["default","accordion","inset","popout"],Ct=Y({flat:Boolean,...lt(),...We(Ne(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...ze(),...ue(),...je(),variant:{type:String,default:"default",validator:e=>wt.includes(e)}},"VExpansionPanels"),pe=Z()({name:"VExpansionPanels",props:Ct(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:d}=o;const{next:c,prev:m}=ot(e,K),{themeClasses:t}=Ae(e),l=k(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Ge({VExpansionPanel:{bgColor:D(e,"bgColor"),collapseIcon:D(e,"collapseIcon"),color:D(e,"color"),eager:D(e,"eager"),elevation:D(e,"elevation"),expandIcon:D(e,"expandIcon"),focusable:D(e,"focusable"),hideActions:D(e,"hideActions"),readonly:D(e,"readonly"),ripple:D(e,"ripple"),rounded:D(e,"rounded"),static:D(e,"static")}}),ne(()=>s(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},t.value,l.value,e.class],style:e.style},{default:()=>{var u;return[(u=d.default)==null?void 0:u.call(d,{prev:m,next:c})]}})),{next:c,prev:m}}}),Pt=Z()({name:"VSlideGroupItem",props:Se(),emits:{"group:selected":e=>!0},setup(e,o){let{slots:d}=o;const c=$e(e,st);return()=>{var m;return(m=d.default)==null?void 0:m.call(d,{isSelected:c.isSelected.value,select:c.select,toggle:c.toggle,selectedClass:c.selectedClass.value})}}}),Vt=["innerHTML"],$t=T({__name:"RaceSelectRibbon",async setup(e){let o,d;const c=Ve("iconSize"),{raceData:m,iconProps:t,iconsSrc:l}=([o,d]=B(()=>U("races")),o=await o,d(),o),u=k(()=>Object.values(m).flat());return(y,x)=>{const f=Be,r=he;return b(),V("div",null,[s(nt,{"model-value":(y._.provides[ye]||y.$route).params.race,"center-active":"","show-arrows":""},{default:a(()=>[(b(!0),V(H,null,A(n(u),i=>(b(),C(Pt,{value:i.key,key:i.key},{default:a(({isSelected:p})=>[_("div",{class:M(["race-wrapper",{selected:p}])},[s(r,{coords:n(t)(i.id),src:n(l),description:"",width:n(c)},{tooltip:a(()=>[_("div",{innerHTML:i.name},null,8,Vt)]),default:a(()=>[s(f,{to:{name:"RaceIndex",params:{...(y._.provides[ye]||y.$route).params,race:i.key}}},{default:a(()=>[N(P(i.name),1)]),_:2},1032,["to"])]),_:2},1032,["coords","src","width"])],2)]),_:2},1032,["value"]))),128))]),_:1},8,["model-value"])])}}}),St=G($t,[["__scopeId","data-v-f1152851"]]),Tt={key:0,class:"d-flex row-warp align-center my-1"},It={class:"ml-2 mt-n1"},Dt={class:"ml-2 mt-n1"},jt=["innerHTML"],Mt={class:"text-white bg-red mx-2 rounded-lg"},Rt={class:"text-white bg-blue mx-2 rounded-lg"},Ht={class:"d-flex align-center"},Et={class:"ml-2 mt-n1"},Lt={class:"d-flex align-center"},Nt={class:"ml-2 mt-n1"},Ut={class:"upgrades-wrapper"},Bt=T({__name:"DetailsUnit",props:{item:{}},async setup(e){let o,d;const c=L(["characteristics","upgrades","items"]),[m,{gold:t,bounty:l,range:u,attackSpeed:y}]=de(),x=I("raceName"),{iconProps:f,iconsSrc:r}=([o,d]=B(()=>U(x)),o=await o,d(),o),i=I("objFinder"),p=k(()=>!isNaN(Number(e.item.hpReg))),w=k(()=>!isNaN(Number(e.item.mpReg))),h=k(()=>{var v;return(v=e.item.upgrades)==null?void 0:v.map(g=>i("upgrade",g)).filter(ee)});return(v,g)=>{var _e;const X=he,ve=se,Ue=R;return b(),V(H,null,[q(v.$slots,"fullname",{},void 0,!0),(_e=v.item.tags)!=null&&_e.length?(b(),V("div",Tt,[g[1]||(g[1]=_("div",{class:"text-subtitle-2"},"Tags:",-1)),(b(!0),V(H,null,A(v.item.tags,O=>(b(),C(at,{class:"ma-1 mr-0",density:"compact",size:"small"},{default:a(()=>[N(P(O),1)]),_:2},1024))),256))])):$("",!0),s(ge,{class:"my-1"},{default:a(()=>[s(E,{cols:"6",class:"d-flex align-center py-0"},{default:a(()=>[s(X,{src:n(m),coords:n(t),width:"32",description:"Cost"},null,8,["src","coords"]),_("span",It,P(v.item.cost),1)]),_:1}),s(E,{cols:"6",class:"d-flex align-center py-0"},{default:a(()=>[s(X,{src:n(m),coords:n(l),width:"32",description:"Kill bounty"},null,8,["src","coords"]),_("span",Dt,P(v.item.bounty),1)]),_:1})]),_:1}),s(pe,{elevation:"0",static:"",tile:"",multiple:"",modelValue:n(c),"onUpdate:modelValue":g[0]||(g[0]=O=>te(c)?c.value=O:null)},{default:a(()=>{var O;return[v.item.description?(b(),C(j,{key:0,title:"Description",value:"description"},{default:a(()=>[s(S,null,{default:a(()=>[_("div",{class:"text-body-2",innerHTML:v.item.description},null,8,jt)]),_:1})]),_:1})):$("",!0),q(v.$slots,"heroItems",{},void 0,!0),s(j,{title:"Characteristics",value:"characteristics"},{default:a(()=>[s(S,null,{default:a(()=>[s(ge,{class:"my-1"},{default:a(()=>[s(E,{cols:"6",class:"text-center pt-0"},{default:a(()=>[_("div",Mt,[_("b",null,P(v.item.hp),1),n(p)?(b(),V(H,{key:0},[N(" +"+P(v.item.hpReg)+"/sec",1)],64)):$("",!0)])]),_:1}),s(E,{cols:"6",class:"text-center pt-0"},{default:a(()=>[_("div",Rt,[_("b",null,P(v.item.mp),1),n(w)?(b(),V(H,{key:0},[N(" +"+P(v.item.mpReg)+"/sec",1)],64)):$("",!0)])]),_:1}),s(E,{cols:"6",class:"py-0"},{default:a(()=>[s(ve,{type:v.item.atkType,value:v.item.atk},null,8,["type","value"]),_("div",Ht,[s(X,{src:n(m),coords:n(u),width:"32",description:"Attack range"},null,8,["src","coords"]),_("span",Et,P(v.item.atkRange)+P(v.item.weaponType==="normal"?" (melee)":""),1)]),_("div",Lt,[s(X,{src:n(m),coords:n(y),width:"32",description:"Attack speed"},null,8,["src","coords"]),_("span",Nt,P(v.item.atkSpeed),1)])]),_:1}),s(E,{cols:"6",class:"py-0"},{default:a(()=>[s(ve,{type:v.item.defType,value:v.item.def,"is-defend":""},null,8,["type","value"])]),_:1}),q(v.$slots,"attributes",{},void 0,!0)]),_:3})]),_:3})]),_:3}),(O=n(h))!=null&&O.length?(b(),C(j,{key:1,title:"Upgrades used",value:"upgrades"},{default:a(()=>[s(S,null,{default:a(()=>[_("div",Ut,[(b(!0),V(H,null,A(n(h),oe=>(b(),C(Ue,{item:oe,src:n(r),coords:n(f)(oe.id,oe.iconsCount)},null,8,["item","src","coords"]))),256))])]),_:1})]),_:1})):$("",!0)]}),_:3},8,["modelValue"])],64)}}}),ae=G(Bt,[["__scopeId","data-v-f314cd24"]]),Ft=["innerHTML"],Ot={class:"d-flex justify-center"},At=T({__name:"DetailsHero",props:{item:{}},async setup(e){let o,d;const c=I("raceName"),{iconProps:m,iconsSrc:t}=([o,d]=B(()=>U(c)),o=await o,d(),o),[l,{str:u,int:y,agi:x}]=de(),f=k(()=>{if(!e.item.items)return[];const r=e.item.items.map(({level:p})=>p);if(!(r!=null&&r.length))return[];const i=r.filter(qe).sort((p,w)=>p-w).reduce((p,w,h)=>(p[w]=He[h],p),{});return e.item.items.map(p=>({...p,hotkey:i[p.level]}))});return(r,i)=>{const p=re,w=R,h=F,v=ae;return b(),C(v,{item:r.item},{fullname:a(()=>[_("div",{innerHTML:r.item.fullName,class:"text-center text-subtitle-1"},null,8,Ft)]),attributes:a(()=>[s(E,{cols:"4",class:"text-center pb-0"},{default:a(()=>[s(p,{width:"32",src:n(l),coords:n(u),padding:[0,8,8,0]},null,8,["src","coords"]),_("div",{class:M({"text-yellow":r.item.stat==="str","font-bold":r.item.stat==="str"})},P(r.item.str)+"+"+P(r.item.strLvl),3)]),_:1}),s(E,{cols:"4",class:"text-center pb-0"},{default:a(()=>[s(p,{width:"32",src:n(l),coords:n(x),padding:[0,8,8,0]},null,8,["src","coords"]),_("div",{class:M({"text-yellow":r.item.stat==="agi","font-bold":r.item.stat==="agi"})},P(r.item.agi)+"+"+P(r.item.agiLvl),3)]),_:1}),s(E,{cols:"4",class:"text-center pb-0"},{default:a(()=>[s(p,{width:"32",src:n(l),coords:n(y),padding:[0,8,8,0]},null,8,["src","coords"]),_("div",{class:M({"text-yellow":r.item.stat==="int","font-bold":r.item.stat==="int"})},P(r.item.int)+"+"+P(r.item.intLvl),3)]),_:1})]),heroItems:a(()=>[n(f).length?(b(),C(j,{key:0,title:"Hero items",value:"items"},{default:a(()=>[s(S,null,{default:a(()=>[_("div",Ot,[s(h,{items:n(f),size:.75},{default:a(({item:g})=>[s(w,{src:n(t),coords:n(m)(g.id),item:g},null,8,["src","coords","item"])]),_:1},8,["items"])])]),_:1})]),_:1})):$("",!0)]),_:1},8,["item"])}}}),Gt=G(At,[["__scopeId","data-v-dc1de915"]]),zt=["innerHTML"],Wt={class:"d-flex justify-center"},qt={class:"d-flex justify-center"},Kt=T({__name:"DetailsUpgrade",props:{item:{}},async setup(e){let o,d;const c=L(["spells","summons","affects"]),m=I("raceName"),{raceData:t,iconProps:l,iconsSrc:u}=([o,d]=B(()=>U(m)),o=await o,d(),o),y=k(()=>{var r;return((r=e.item.spells)==null?void 0:r.map(i=>i.summonUnit).flat().filter(ee).filter(Ke))??[]}),x=k(()=>e.item.spells),f=k(()=>{const r=Object.values(t.units).filter(({upgrades:p})=>p==null?void 0:p.includes(e.item.id)),i=t.bonuses.map(({units:p})=>p??[]).flat().filter(({upgrades:p})=>p==null?void 0:p.includes(e.item.id)).map(p=>{var h;const w=((h=t.bonuses.find(({units:v})=>v==null?void 0:v.some(({id:g})=>g===p.id)))==null?void 0:h.id)??"";return{...p,id:w}});return[...r,...i]});return(r,i)=>{const p=R,w=F,h=ae;return b(),C(pe,{elevation:"0",static:"",tile:"",multiple:"",modelValue:n(c),"onUpdate:modelValue":i[0]||(i[0]=v=>te(c)?c.value=v:null)},{default:a(()=>{var v;return[r.item.description?(b(),C(j,{key:0,title:"Description",value:"description"},{default:a(()=>[s(S,null,{default:a(()=>[_("div",{class:"text-body-2",innerHTML:r.item.description},null,8,zt)]),_:1})]),_:1})):$("",!0),(v=n(x))!=null&&v.length?(b(),C(j,{key:1,title:"Spells",value:"spells"},{default:a(()=>[s(S,null,{default:a(()=>[_("div",Wt,[s(w,{items:n(x),"disable-details":"","skip-hotkey":""},{default:a(({item:g})=>[s(p,{item:g,src:n(u),coords:n(l)(g.id,g.iconsCount)},null,8,["item","src","coords"])]),_:1},8,["items"])])]),_:1})]),_:1})):$("",!0),(b(!0),V(H,null,A(n(y),g=>(b(),C(j,{title:`Summon: ${g.name}`,value:`summon-${g.id}`},{default:a(()=>[s(S,null,{default:a(()=>[s(h,{item:g},null,8,["item"])]),_:2},1024)]),_:2},1032,["title","value"]))),256)),n(f).length?(b(),C(j,{key:2,title:"Affects",value:"affects"},{default:a(()=>[s(S,null,{default:a(()=>[_("div",qt,[s(w,{items:n(f),"disable-details":"","skip-hotkey":""},{default:a(({item:g})=>[s(p,{item:g,src:n(u),coords:n(l)(g.id,g.iconsCount)},null,8,["item","src","coords"])]),_:1},8,["items"])])]),_:1})]),_:1})):$("",!0)]}),_:1},8,["modelValue"])}}}),Zt=T({__name:"DetailsSpell",props:{item:{}},setup(e){return(o,d)=>(b(),V("div"))}}),Jt={class:"cost"},Qt=T({__name:"CombineCost",props:{items:{},count:{}},setup(e){const[o,{gold:d}]=de(),c=k(()=>ke(e.items).reduce((m,{cost:t})=>{var l;return m+((l=t??[])==null?void 0:l.slice(0,e.count).reduce((u,y)=>u+(y??0),0))},0));return(m,t)=>{const l=re,u=Me;return b(),C(u,null,{default:a(()=>[s(Re,{location:"top"},{activator:a(({props:y})=>[_("div",we({class:"d-flex align-center"},y),[s(l,{src:n(o),coords:n(d),width:"16"},null,8,["src","coords"]),_("span",Jt,P(n(c)),1)],16)]),default:a(()=>[q(m.$slots,"default",{},()=>[t[0]||(t[0]=N("Total cost"))],!0)]),_:3})]),_:3})}}}),fe=G(Qt,[["__scopeId","data-v-1bade672"]]),Xt=["innerHTML"],Yt={class:"d-flex justify-center"},es={class:"d-flex justify-center"},ts=T({__name:"DetailsBonus",props:{item:{}},async setup(e){let o,d;const c=I("objFinder"),m=I("raceName"),{iconProps:t,iconsSrc:l}=([o,d]=B(()=>U(m)),o=await o,d(),o),u=L(["grid","opens"]);Ce(()=>e.item,r=>{var i;u.value=["grid"].concat(((i=r.units)==null?void 0:i.map(({id:p})=>`unit-${p}`))??[])});const y=k(()=>{var r;return(((r=e.item.spells)==null?void 0:r.length)??0)>1?!0:[e.item.units,e.item.upgrades].some(i=>!!(i!=null&&i.length))}),x=k(()=>[...(e.item.spells??[]).filter(({name:r})=>!!r),...e.item.upgrades??[]]),f=k(()=>e.item.relatedID.map(r=>c("upgrade",r)).filter(ee));return(r,i)=>{const p=fe,w=R,h=F,v=ae;return b(),C(pe,{elevation:"0",static:"",tile:"",multiple:"",modelValue:n(u),"onUpdate:modelValue":i[0]||(i[0]=g=>te(u)?u.value=g:null)},{default:a(()=>[r.item.description?(b(),C(j,{key:0,title:"Description",value:"description"},{default:a(()=>[s(S,null,{default:a(()=>[_("div",{class:"text-body-2",innerHTML:r.item.description},null,8,Xt)]),_:1})]),_:1})):$("",!0),n(y)&&n(x).length?(b(),C(j,{key:1,value:"grid"},{default:a(()=>[s(ie,{width:"100%",class:"d-flex"},{default:a(()=>[i[2]||(i[2]=_("span",{class:"mr-auto"},"Bonus spells/upgrades",-1)),s(p,{items:r.item.upgrades??[]},{default:a(()=>i[1]||(i[1]=[N(" Total cost ")])),_:1},8,["items"])]),_:1}),s(S,null,{default:a(()=>[_("div",Yt,[n(y)&&n(x).length?(b(),C(h,{key:0,items:n(x),"disable-details":"","show-empty":""},{default:a(({item:g})=>[s(w,{src:n(l),coords:n(t)(g.id,g.iconsCount),item:g},null,8,["src","coords","item"])]),_:1},8,["items"])):$("",!0)])]),_:1})]),_:1})):$("",!0),(b(!0),V(H,null,A(r.item.units,g=>(b(),C(j,{title:`Unit: ${g.name}`,value:`unit-${g.id}`},{default:a(()=>[s(S,null,{default:a(()=>[s(v,{item:g},null,8,["item"])]),_:2},1024)]),_:2},1032,["title","value"]))),256)),n(f).length?(b(),C(j,{key:2,title:"Unlocked upgrades",value:"opens"},{default:a(()=>[s(S,null,{default:a(()=>[_("div",es,[s(h,{items:n(f),"disable-details":"","skip-hotkey":""},{default:a(({item:g})=>[s(w,{src:n(l),coords:n(t)(g.id,g.iconsCount),item:g},null,8,["src","coords","item"])]),_:1},8,["items"])])]),_:1})]),_:1})):$("",!0)]),_:1},8,["modelValue"])}}}),ss=({item:e})=>{const o=ke(e);if(o){if(Ze(o))return z(ae,{item:o});if(Je(o))return z(Gt,{item:o});if(Qe(o))return z(Kt,{item:o});if(Xe(o))return z(Zt,{item:o});if(Pe(o))return z(ts,{item:o})}},ns={key:0,class:"d-flex align-center justify-space-between panel-header pb-2 elevation-1 mb-2"},as=["innerHTML"],os={class:"panel-details"},ls=T({__name:"DetailsProvider",props:{objFinder:{type:Function},raceName:{}},async setup(e){let o,d;const{iconProps:c,iconsSrc:m}=([o,d]=B(()=>U(e.raceName)),o=await o,d(),o),t=L(null),l=gt(),u=k({get:()=>!!t.value,set:f=>{f||(t.value=null)}});Ye(()=>{l.value&&["bonus","spell","unit","hero","upgrade"].forEach(f=>{var i;if(!l.value||((i=t.value)==null?void 0:i.id)===l.value)return;const r=e.objFinder(f,l.value);r&&(t.value=r)})}),Ce(()=>t.value,f=>l.value=f==null?void 0:f.id);const y=f=>{t.value=f},x=()=>{var f;navigator.clipboard.writeText(((f=t.value)==null?void 0:f.id)||"")};return W("detailsSet",y),W("objFinder",e.objFinder),W("raceName",e.raceName),(f,r)=>{const i=re,p=ss,w=Me;return b(),V(H,null,[s(w,null,{default:a(()=>[s(ht,{modelValue:n(u),"onUpdate:modelValue":r[1]||(r[1]=h=>te(u)?u.value=h:null),location:"left",temporary:"","disable-resize-watcher":"",elevation:"4",class:"pa-2",width:"400","disable-route-watcher":""},{default:a(()=>[n(t)?(b(),V("div",ns,[s(Re,{color:"transparent"},{activator:a(({props:h})=>[s(i,we({src:n(m),coords:n(c)(n(t).id),width:"32"},h,{onClick:x}),null,16,["src","coords"])]),default:a(()=>[N(" ID: "+P(n(t).id),1)]),_:1}),_("span",{innerHTML:n(t).name,class:"text-h6 mx-2"},null,8,as),s(J,{density:"comfortable",icon:"",flat:"",onClick:r[0]||(r[0]=h=>y(null))},{default:a(()=>[s(De,{icon:"$close"})]),_:1})])):$("",!0),_("div",os,[s(p,{item:n(t)},null,8,["item"])])]),_:1},8,["modelValue"])]),_:1}),q(f.$slots,"default",{},void 0,!0)],64)}}}),is=G(ls,[["__scopeId","data-v-e1fba027"]]),rs=["innerHTML"],cs=["innerHTML"],ds=T({__name:"RaceDescription",props:{race:{}},setup(e){const o=k(()=>e.race.description.replace(new RegExp(String.raw`^\s*?<span[^>]*?>.*?${e.race.name}.*?<\/span>`,"si"),"").replace(/\s+?(?:<br\s?\/?>)*/,"")),d=k(()=>(e.race.description.match(new RegExp(String.raw`#[a-zA-Z0-9]{6,8}(?=[^<]*?(?:${e.race.name}))`))??["white"])[0]);return(c,m)=>{const t=Q;return b(),C(t,{title:"",id:"details",style:{"grid-row":"span 3"}},{title:a(()=>[_("h1",{class:"text-wrap text-h3",style:ce({color:n(d)}),innerHTML:c.race.name},null,12,rs)]),default:a(()=>[_("div",{innerHTML:n(o)},null,8,cs)]),_:1})}}}),us=T({__name:"RaceFortress",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const o=I("hover",L()),d=k(()=>{const t=[e.race.t1spell,e.race.t2spell];return e.race.ultimateId&&t.push({type:"spell",hotkey:"V",id:e.race.ultimateId,name:"Precision UW Icon",description:""}),t}),c=k(()=>e.race.magic.map((t,l)=>({...t,hotkey:He[l]})).concat(...Object.values(e.race.baseUpgrades))),m=t=>{const l=Object.values(e.race.units).filter(({upgrades:u})=>u==null?void 0:u.includes(t.id)).map(({id:u})=>u);o.value=[t.id,...l]};return(t,l)=>{const u=me,y=se,x=fe,f=F,r=Q;return b(),C(r,{title:"Fortress",class:"d-flex flex-column justify-start",style:{"grid-row":"span 2"},"full-height":!1,id:"fortress"},{title:a(()=>[s(u,{"hide-dot":"",item:t.race.buildings.fort},{default:a(()=>[s(J,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:a(()=>l[1]||(l[1]=[_("b",null,"Fortress",-1)])),_:1})]),_:1},8,["item"])]),prependHead:a(()=>[s(y,{key:"fort-attack",class:"ml-1",type:t.race.buildings.fort.atkType},null,8,["type"])]),appendHead:a(()=>[s(x,{key:"fort-cost",class:"mr-1",items:n(c)},null,8,["items"])]),default:a(()=>[s(f,{class:"mx-auto",items:t.race.auras},{default:a(({item:i})=>[s(n(R),{item:i,src:t.icons,coords:t.iconProps(i.id),class:M(["selectable-item",{depressed:n(o)&&!n(o).includes(i.id)}])},null,8,["item","src","coords","class"])]),_:1},8,["items"]),s(le,{class:"my-3 w-100"}),s(f,{class:"mx-auto",items:n(c)},{default:a(({item:i})=>[s(n(R),{item:i,src:t.icons,coords:!("level"in i)||(i.iconsCount??0)<=1?t.iconProps(i.id,i.iconsCount):t.iconProps(`${i.id}-${i.level}`),class:M(["selectable-item",{depressed:n(o)&&!n(o).includes(i.id)}]),onMouseenter:()=>m(i),onMouseout:l[0]||(l[0]=()=>o.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),s(le,{class:"my-3 w-100"}),s(f,{class:"mx-auto",items:n(d)},{default:a(({item:i})=>[s(n(R),{item:i,src:t.icons,coords:t.iconProps(i.id),class:M(["selectable-item",{depressed:n(o)&&!n(o).includes(i.id)}])},null,8,["item","src","coords","class"])]),_:1},8,["items"])]),_:1})}}}),ms=T({__name:"RaceTowers",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const o=I("hover",L());k(()=>Object.fromEntries(e.race.towerUpgrades.map(m=>[m.id,m])));const d=k(()=>Object.values(e.race.bonuses).reduce((m,{id:t,relatedID:l})=>(l.forEach(u=>{m[u]=t}),m),{})),c=m=>{const t=Object.values(e.race.units).filter(({upgrades:l})=>l==null?void 0:l.includes(m.id)).map(({id:l})=>l);o.value=[m.id,d.value[m.id],...t]};return(m,t)=>{const l=me,u=se,y=fe,x=R,f=F,r=Q;return b(),C(r,{title:"Towers","full-height":!1,class:"d-flex flex-column",style:{"grid-row":"span 2"},id:"upgrades"},{title:a(()=>[s(l,{"hide-dot":"",item:m.race.buildings.tower},{default:a(()=>[s(J,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:a(()=>t[1]||(t[1]=[_("b",null,"Towers",-1)])),_:1})]),_:1},8,["item"])]),prependHead:a(()=>[s(u,{key:"tower-attack",class:"ml-1",type:m.race.buildings.tower.atkType},null,8,["type"])]),appendHead:a(()=>[s(y,{key:"tower-cost",items:m.race.towerUpgrades,count:3},{default:a(()=>t[2]||(t[2]=[N(" Total cost (Lv3) ")])),_:1},8,["items"])]),default:a(()=>[s(f,{class:"mx-auto",items:m.race.towerUpgrades,restrictedSlots:["Q","W"]},{default:a(({item:i})=>[s(x,{item:i,src:m.icons,coords:m.iconProps(i.id,i.iconsCount),class:M(["selectable-item",{depressed:n(o)&&!n(o).includes(i.id)}]),onMouseenter:()=>c(i),onMouseout:t[0]||(t[0]=()=>o.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"])]),_:1})}}}),ps={class:"d-flex flex-wrap"},fs=["innerHTML"],vs=T({__name:"RaceBonuses",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const o=I("hover",L()),d=new Intl.Collator("en").compare,c=k(()=>Object.values(e.race.bonusBuildings).sort(({name:t},{name:l})=>d(t,l))),m=t=>{if(!Pe(t)){o.value=[t.id,...e.race.bonuses.filter(({buildingId:u})=>u===t.id).map(({id:u})=>u)].filter(ee);return}const l=Object.values(e.race.units).filter(({hotkey:u})=>{var y;return(y=t.units)==null?void 0:y.some(x=>x.hotkey===u)}).map(({id:u})=>u);o.value=[t.id,t.buildingId,...t.relatedID,...l]};return(t,l)=>{const u=R,y=F,x=Q;return b(),C(x,{title:"Bonuses","full-height":!1,class:"d-flex flex-column align-center justify-start",style:ce({gridRow:`span ${2+Math.floor(n(c).length/4)}`}),id:"bonuses"},{default:a(()=>[s(y,{items:t.race.bonuses},{default:a(({item:f})=>[s(u,{item:f,src:t.icons,coords:t.iconProps(f.id),class:M(["selectable-item",{depressed:n(o)&&!n(o).includes(f.id)}]),onMouseenter:()=>m(f),onMouseout:l[0]||(l[0]=()=>o.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),l[2]||(l[2]=_("div",{class:"my-2 text-h6"},"Buildings",-1)),_("div",ps,[(b(!0),V(H,null,A(n(c),f=>(b(),C(J,{class:"my-1 mx-2 cursor-default",variant:"text",size:"x-small",active:n(o)&&n(o).includes(f.id),onMouseover:()=>m(f),onMouseout:l[1]||(l[1]=()=>o.value=void 0)},{default:a(()=>[_("span",{innerHTML:f.name},null,8,fs)]),_:2},1032,["active","onMouseover"]))),256))])]),_:1},8,["style"])}}}),_s=T({__name:"RaceBarracks",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const o=I("hover",L());I("objFinder");const d={melee:"A",range:"S",mage:"D",siege:"F",air:"E",catapult:"R"},c=k(()=>Object.entries(e.race.units).map(([t,l])=>({...l,hotkey:d[t]}))),m=t=>{o.value=[t.id,...t.upgrades??[]]};return(t,l)=>{const u=me,y=se,x=F,f=Q;return b(),C(f,{title:"Barracks","full-height":!1,class:"d-flex flex-column",style:{"grid-row":"span 2"},id:"units"},{title:a(()=>[s(u,{"hide-dot":"",item:t.race.buildings.barrack},{default:a(()=>[s(J,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:a(()=>l[1]||(l[1]=[_("b",null,"Barracks",-1)])),_:1})]),_:1},8,["item"])]),prependHead:a(()=>[s(y,{key:"barrack-attack",class:"ml-1",type:t.race.buildings.barrack.atkType},null,8,["type"])]),default:a(()=>[s(x,{class:"mx-auto",items:n(c)},{default:a(({item:r})=>[s(n(R),{item:r,src:t.icons,coords:t.iconProps(r.id),class:M(["selectable-item",{depressed:n(o)&&!n(o).includes(r.id)}]),onMouseenter:()=>m(r),onMouseout:l[0]||(l[0]=()=>o.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),s(le,{class:"my-3 w-100"}),s(x,{class:"mx-auto",items:t.race.heroes},{default:a(({item:r})=>[s(n(R),{item:r,src:t.icons,coords:t.iconProps(r.id),class:M(["selectable-item",{depressed:n(o)&&!n(o).includes(r.id)}])},null,8,["item","src","coords","class"])]),_:1},8,["items"])]),_:1})}}}),bs=T({__name:"racePage",async setup(e){let o,d;const c=et(),[m]=[tt().params.race].flat(),{raceData:t,iconProps:l,iconsSrc:u,version:y}=([o,d]=B(()=>U(m)),o=await o,d(),o),x=(p,w)=>{switch(p){case"upgrade":return Object.values(t.baseUpgrades).concat(t.magic).concat(t.towerUpgrades).find(h=>h.id===w);case"unit":return Object.values(t.units).find(h=>h.id===w);case"bonus":return Object.values(t.bonuses).find(h=>h.id===w);case"hero":return t.heroes.find(h=>h.id===w);case"spell":return[t.t1spell,t.t2spell].find(h=>h.id===w);default:return}},f=Ve("iconSize",kt),r=k(()=>({gridTemplateColumns:`repeat(auto-fill, minmax(${+f.value*5}px, 1fr))`})),i=xt?k(()=>{}):L();return W("hover",i),c.runWithContext(()=>{vt({title:`${t.name} v${y}`,description:`${t.name} of Survival Chaos v${y}: race info, bonuses, upgrades, units and heroes`,ogDescription:`${t.name} of Survival Chaos v${y}: race info, bonuses, upgrades, units and heroes`}),_t({link:[{rel:"preload",as:"image",href:u}]})}),(p,w)=>{const h=St,v=is;return b(),V("div",null,[s(h,{class:"mb-2"}),s(v,{"obj-finder":x,"race-name":n(m)},{default:a(()=>[_("div",{class:"race-container",style:ce(n(r))},[s(ds,{race:n(t),style:{"flex-basis":"300px"}},null,8,["race"]),s(us,{race:n(t),icons:n(u),"icon-props":n(l)},null,8,["race","icons","icon-props"]),s(ms,{race:n(t),icons:n(u),"icon-props":n(l)},null,8,["race","icons","icon-props"]),s(vs,{race:n(t),icons:n(u),"icon-props":n(l)},null,8,["race","icons","icon-props"]),s(_s,{race:n(t),icons:n(u),"icon-props":n(l)},null,8,["race","icons","icon-props"])],4)]),_:1},8,["race-name"])])}}}),Ls=G(bs,[["__scopeId","data-v-1c262027"]]);export{Ls as default};
