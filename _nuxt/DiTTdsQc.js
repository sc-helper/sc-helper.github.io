import{v as F,bb as V,K as g,bc as y,d as k,c as x,a as _,o as w,N as I,O as M,h as v,G as l,w as T,u as b,f as R,e as P,m as S,_ as B}from"./DZzeIQJE.js";import{_ as K,V as z}from"./DqtmxcHQ.js";import{_ as E}from"./C2kjJnfM.js";import{u as G}from"./DshezAg8.js";import{u as H}from"./CzaojlKM.js";import{V as L}from"./BeG6LiQI.js";const O=async(t,a,r)=>{const o=g[a][r];if(!o)throw y("unknown version");const e=await o();if(!(t in e.racesData))throw y("No race found");const s=await e.racesData[t](),n=(c,d)=>{if(!d||d===1){const[h,p,u,m]=s.icons[c]??[0,0,1,1];return{x:h,y:p,width:u,height:m}}return Array.from({length:d},(h,p)=>{const u=`${c}-${p+1}`,[m,$,C,D]=s.icons[u]??[0,0,1,1];return{x:m,y:$,width:C,height:D}})};return{raceData:s.data,raceIconsCoords:s.icons,iconProps:n,iconsSrc:e.racesIcons[t],version:e.version,versionType:e.versionType}},f=new Map,X=async(t,a,r)=>{const i=F().currentRoute.value,o=a??i.params.versionType??"og";let e=r??(i.params.version||"latest");if(e==="latest"&&(e=V[o]),!g[o])throw y("unknown version type");const n=`${t}-${o}-${e}`;if(f.has(n))return f.get(n);const c=await O(t,o,e);return f.set(n,c),c},A=["innerHTML"],N=k({__name:"WarTooltip",props:{description:{},descriptionClass:{},disabled:{type:Boolean},src:{},coords:{},padding:{}},setup(t){const a=G("tooltipsDisabled","false"),r=H(),i=x(()=>{const o=t.disabled||a.value==="true";return r.value?!o:o});return(o,e)=>{const s=K,n=E;return w(),_("div",I(M(o.$attrs)),[v(s,null,{default:T(()=>[v(L,{location:"bottom center",activator:"parent","max-width":"350","close-on-content-click":"",transition:{component:b(z)},disabled:b(i),class:"tooltip-opacity"},{default:T(()=>[l(o.$slots,"tooltip:body",{},()=>[l(o.$slots,"tooltip",{},void 0,!0),t.description?(w(),_("div",{key:0,class:P([t.descriptionClass,"war-tooltip"]),innerHTML:t.description},null,10,A)):R("",!0),l(o.$slots,"postfix",{},void 0,!0)],!0)]),_:3},8,["transition","disabled"])]),_:3}),v(n,S({src:t.src,coords:t.coords,padding:t.padding,width:"100%"},o.$attrs),null,16,["src","coords","padding"]),l(o.$slots,"default",{},void 0,!0)],16)}}}),Y=B(N,[["__scopeId","data-v-9e81cf30"]]);export{Y as _,X as u};
