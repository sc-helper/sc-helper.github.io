import{_ as Fe}from"./BoJVOcdo.js";import{u as B,_ as ue}from"./DggcssF_.js";import{M as ee,N as te,i as R,h as s,a6 as $e,a7 as Oe,g as f,n as z,e as S,c as k,a1 as I,aC as he,C as Y,aK as Ae,aN as Ge,aL as We,aJ as ze,d as j,an as F,a as T,o as x,aR as ke,w as n,F as N,b as G,u as t,q as w,l as H,p as $,_ as q,r as L,j as X,G as J,f as V,B as se,aS as qe,aT as Ke,t as Ce,m as de,D as Te,aU as Ve,E as K,aV as Ye,aW as Je,aX as Se,aY as Ie,aa as Qe,s as Xe,v as Ze}from"./BUKm8-4E.js";import{u as De}from"./DsLF3gj9.js";import{u as et,e as tt,f as st,g as nt,d as at,c as ot,V as W}from"./BWN4pFzy.js";import{V as lt}from"./DWKSbfHi.js";import{_ as ne}from"./B5DZ-XTS.js";import{a as ae}from"./BASWbDsR.js";import{_ as E}from"./C4mcxZvk.js";import{c as it}from"./BSo22cdN.js";import{t as ct}from"./B8uvTl0Q.js";import{u as me}from"./DzOakUqj.js";import{a as U,V as we}from"./bbwz5SIz.js";import{u as rt,b as ut,m as dt,_ as je,V as mt}from"./dumwyoNJ.js";import{b as oe,i as fe,R as Pe,h as Me,w as ft,d as Re,x as pt,V as He,g as vt,j as xt,r as Ee,f as _t,e as bt,u as yt,y as gt}from"./DLsK8idp.js";import{_ as O,a as pe}from"./CmpiC9wn.js";import{h as ve}from"./Dd2277SN.js";import{V as xe}from"./eEgoUiLz.js";import{u as ht}from"./B9LmmsqR.js";import{V as kt}from"./Br_4jHyv.js";import{a as _e,_ as wt}from"./CGDpQuGE.js";import{_ as le}from"./DNsfYM6U.js";import{I as Pt,D as $t}from"./DYmvtetA.js";import"./gbi4j1YZ.js";import"./CmLOo1Mi.js";import"./DbYZnSlv.js";/* empty css        */import"./C-DWf4vu.js";import"./VzvIMUZW.js";const Q=Symbol.for("vuetify:v-expansion-panel"),Ne=te({...fe(),...dt()},"VExpansionPanelText"),D=ee()({name:"VExpansionPanelText",props:Ne(),setup(e,l){let{slots:u}=l;const r=R(Q);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:b,onAfterLeave:o}=rt(e,r.isSelected);return oe(()=>s(ut,{onAfterLeave:o},{default:()=>{var a;return[$e(f("div",{class:S(["v-expansion-panel-text",e.class]),style:z(e.style)},[u.default&&b.value&&f("div",{class:"v-expansion-panel-text__wrapper"},[(a=u.default)==null?void 0:a.call(u)])]),[[Oe,r.isSelected.value]])]}})),{}}}),Ue=te({color:String,expandIcon:{type:he,default:"$expand"},collapseIcon:{type:he,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...fe(),...pt()},"VExpansionPanelTitle"),re=ee()({name:"VExpansionPanelTitle",directives:{vRipple:Pe},props:Ue(),setup(e,l){let{slots:u}=l;const r=R(Q);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:b,backgroundColorStyles:o}=Me(()=>e.color),{dimensionStyles:a}=ft(e),i=k(()=>({collapseIcon:e.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),_=I(()=>r.isSelected.value?e.collapseIcon:e.expandIcon);return oe(()=>{var y;return $e(f("button",{class:S(["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},b.value,e.class]),style:z([o.value,a.value,e.style]),type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:e.readonly?void 0:r.toggle},[f("span",{class:"v-expansion-panel-title__overlay"},null),(y=u.default)==null?void 0:y.call(u,i.value),!e.hideActions&&s(Re,{defaults:{VIcon:{icon:_.value}}},{default:()=>{var v;return[f("span",{class:"v-expansion-panel-title__icon"},[((v=u.actions)==null?void 0:v.call(u,i.value))??s(He,null,null)])]}})]),[[Pe,e.ripple]])}),{}}}),Le=te({title:String,text:String,bgColor:String,...bt(),...tt(),..._t(),...Ee(),...Ue(),...Ne()},"VExpansionPanel"),M=ee()({name:"VExpansionPanel",props:Le(),emits:{"group:selected":e=>!0},setup(e,l){let{slots:u}=l;const r=et(e,Q),{backgroundColorClasses:b,backgroundColorStyles:o}=Me(()=>e.bgColor),{elevationClasses:a}=vt(e),{roundedClasses:i}=xt(e),_=I(()=>(r==null?void 0:r.disabled.value)||e.disabled),y=k(()=>r.group.items.value.reduce((p,c,m)=>(r.group.selected.value.includes(c.id)&&p.push(m),p),[])),v=k(()=>{const p=r.group.items.value.findIndex(c=>c.id===r.id);return!r.isSelected.value&&y.value.some(c=>c-p===1)}),d=k(()=>{const p=r.group.items.value.findIndex(c=>c.id===r.id);return!r.isSelected.value&&y.value.some(c=>c-p===-1)});return Y(Q,r),oe(()=>{const p=!!(u.text||e.text),c=!!(u.title||e.title),m=re.filterProps(e),g=D.filterProps(e);return s(e.tag,{class:S(["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":v.value,"v-expansion-panel--after-active":d.value,"v-expansion-panel--disabled":_.value},i.value,b.value,e.class]),style:z([o.value,e.style])},{default:()=>[f("div",{class:S(["v-expansion-panel__shadow",...a.value])},null),s(Re,{defaults:{VExpansionPanelTitle:{...m},VExpansionPanelText:{...g}}},{default:()=>{var C;return[c&&s(re,{key:"title"},{default:()=>[u.title?u.title():e.title]}),p&&s(D,{key:"text"},{default:()=>[u.text?u.text():e.text]}),(C=u.default)==null?void 0:C.call(u)]}})]})}),{groupItem:r}}}),Ct=["default","accordion","inset","popout"],Tt=te({flat:Boolean,...nt(),...ze(Le(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...We(),...fe(),...Ee(),variant:{type:String,default:"default",validator:e=>Ct.includes(e)}},"VExpansionPanels"),be=ee()({name:"VExpansionPanels",props:Tt(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:u}=l;const{next:r,prev:b}=st(e,Q),{themeClasses:o}=Ae(e),a=I(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Ge({VExpansionPanel:{bgColor:I(()=>e.bgColor),collapseIcon:I(()=>e.collapseIcon),color:I(()=>e.color),eager:I(()=>e.eager),elevation:I(()=>e.elevation),expandIcon:I(()=>e.expandIcon),focusable:I(()=>e.focusable),hideActions:I(()=>e.hideActions),readonly:I(()=>e.readonly),ripple:I(()=>e.ripple),rounded:I(()=>e.rounded),static:I(()=>e.static)}}),oe(()=>s(e.tag,{class:S(["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},o.value,a.value,e.class]),style:z(e.style)},{default:()=>{var i;return[(i=u.default)==null?void 0:i.call(u,{prev:b,next:r})]}})),{next:r,prev:b}}}),Vt=["innerHTML"],St=j({__name:"RaceSelectRibbon",async setup(e){let l,u;const r=De("iconSize"),{raceData:b,iconProps:o,iconsSrc:a}=([l,u]=F(()=>B("races")),l=await l,u(),l),i=k(()=>Object.values(b).flat());return(_,y)=>{const v=Fe,d=ue;return x(),T("div",null,[s(at,{"model-value":(_._.provides[ke]||_.$route).params.race,"center-active":"","show-arrows":""},{default:n(()=>[(x(!0),T(N,null,G(t(i),p=>(x(),w(lt,{value:p.key,key:p.key},{default:n(({isSelected:c})=>[f("div",{class:S(["race-wrapper",{selected:c}])},[s(d,{coords:t(o)(p.id),src:t(a),description:"",width:t(r)},{tooltip:n(()=>[f("div",{innerHTML:p.name},null,8,Vt)]),default:n(()=>[s(v,{to:{name:"RaceIndex",params:{...(_._.provides[ke]||_.$route).params,race:p.key}}},{default:n(()=>[H($(p.name),1)]),_:2},1032,["to"])]),_:2},1032,["coords","src","width"])],2)]),_:2},1032,["value"]))),128))]),_:1},8,["model-value"])])}}}),It=q(St,[["__scopeId","data-v-f1152851"]]),Dt={key:0,class:"d-flex row-warp align-center my-1"},jt={class:"ml-2 mt-n1"},Mt={class:"ml-2 mt-n1"},Rt=["innerHTML"],Ht={class:"text-white bg-red mx-2 rounded-lg"},Et={class:"text-white bg-blue mx-2 rounded-lg"},Nt={class:"d-flex align-center"},Ut={class:"ml-2 mt-n1"},Lt={key:0,class:"d-flex align-center"},Bt={class:"ml-2 mt-n1"},Ft={class:"upgrades-wrapper"},Ot=j({__name:"DetailsUnit",props:{item:{}},async setup(e){let l,u;const r=L(["characteristics","upgrades","items"]),[b,{gold:o,bounty:a,range:i,attackSpeed:_}]=me(),y=R("raceName"),{iconProps:v,iconsSrc:d}=([l,u]=F(()=>B(y)),l=await l,u(),l),p=R("objFinder"),c=k(()=>!isNaN(Number(e.item.hpReg))),m=k(()=>!isNaN(Number(e.item.mpReg))),g=k(()=>{var h;return(h=e.item.upgrades)==null?void 0:h.map(P=>p("upgrade",P)).filter(X)}),C=k(()=>(e.item.tags??[]).map(h=>ct[h]??h).map(it));return(h,P)=>{const Z=ue,ge=ae,Be=E;return x(),T(N,null,[J(h.$slots,"fullname",{},void 0,!0),t(C).length?(x(),T("div",Dt,[P[1]||(P[1]=f("div",{class:"text-subtitle-2"},"Tags:",-1)),(x(!0),T(N,null,G(t(C),A=>(x(),w(ot,{class:"ma-1 mr-0",density:"compact",size:"small"},{default:n(()=>[H($(A),1)]),_:2},1024))),256))])):V("",!0),s(we,{class:"my-1"},{default:n(()=>[s(U,{cols:"6",class:"d-flex align-center py-0"},{default:n(()=>[s(Z,{src:t(b),coords:t(o),width:"32",description:"Cost"},null,8,["src","coords"]),f("span",jt,$(e.item.cost),1)]),_:1}),s(U,{cols:"6",class:"d-flex align-center py-0"},{default:n(()=>[s(Z,{src:t(b),coords:t(a),width:"32",description:"Kill bounty"},null,8,["src","coords"]),f("span",Mt,$(e.item.bounty),1)]),_:1})]),_:1}),s(be,{elevation:"0",static:"",tile:"",multiple:"",modelValue:t(r),"onUpdate:modelValue":P[0]||(P[0]=A=>se(r)?r.value=A:null)},{default:n(()=>{var A;return[e.item.description?(x(),w(M,{key:0,title:"Description",value:"description"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",{class:"text-body-2",innerHTML:e.item.description},null,8,Rt)]),_:1})]),_:1})):V("",!0),J(h.$slots,"heroItems",{},void 0,!0),s(M,{title:"Characteristics",value:"characteristics"},{default:n(()=>[s(D,null,{default:n(()=>[s(we,{class:"my-1"},{default:n(()=>[s(U,{cols:"6",class:"text-center pt-0"},{default:n(()=>[f("div",Ht,[f("b",null,$(e.item.hp),1),t(c)?(x(),T(N,{key:0},[H(" +"+$(e.item.hpReg)+"/sec",1)],64)):V("",!0)])]),_:1}),s(U,{cols:"6",class:"text-center pt-0"},{default:n(()=>[f("div",Et,[f("b",null,$(e.item.mp),1),t(m)?(x(),T(N,{key:0},[H(" +"+$(e.item.mpReg)+"/sec",1)],64)):V("",!0)])]),_:1}),s(U,{cols:"6",class:"py-0"},{default:n(()=>[s(ge,{type:e.item.atkType,value:e.item.atk},null,8,["type","value"]),f("div",Nt,[s(Z,{src:t(b),coords:t(i),width:"32",description:"Attack range"},null,8,["src","coords"]),f("span",Ut,$(e.item.atkRange)+$(e.item.weaponType==="normal"?" (melee)":""),1)]),e.item.atkSpeed?(x(),T("div",Lt,[s(Z,{src:t(b),coords:t(_),width:"32",description:"Attack speed"},null,8,["src","coords"]),f("span",Bt,$(e.item.atkSpeed.toFixed(2))+" BCD",1)])):V("",!0)]),_:1}),s(U,{cols:"6",class:"py-0"},{default:n(()=>[s(ge,{type:e.item.defType,value:e.item.def,"is-defend":""},null,8,["type","value"])]),_:1}),J(h.$slots,"attributes",{},void 0,!0)]),_:3})]),_:3})]),_:3}),(A=t(g))!=null&&A.length?(x(),w(M,{key:1,title:"Upgrades used",value:"upgrades"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",Ft,[(x(!0),T(N,null,G(t(g),ce=>(x(),w(Be,{item:ce,src:t(d),coords:t(v)(ce.id,ce.iconsCount)},null,8,["item","src","coords"]))),256))])]),_:1})]),_:1})):V("",!0)]}),_:3},8,["modelValue"])],64)}}}),ie=q(Ot,[["__scopeId","data-v-f919e714"]]),At=["innerHTML"],Gt={class:"d-flex justify-center"},Wt=j({__name:"DetailsHero",props:{item:{}},async setup(e){let l,u;const r=R("raceName"),{iconProps:b,iconsSrc:o}=([l,u]=F(()=>B(r)),l=await l,u(),l),[a,{str:i,int:_,agi:y}]=me(),v=k(()=>{if(!e.item.items)return[];const d=e.item.items.map(({level:c})=>c);if(!(d!=null&&d.length))return[];const p=d.filter(qe).sort((c,m)=>c-m).reduce((c,m,g)=>(c[m]=ve[g],c),{});return e.item.items.map(c=>({...c,hotkey:p[c.level]}))});return(d,p)=>{const c=ne,m=E,g=O,C=ie;return x(),w(C,{item:e.item},{fullname:n(()=>[f("div",{innerHTML:e.item.fullName,class:"text-center text-subtitle-1"},null,8,At)]),attributes:n(()=>[s(U,{cols:"4",class:"text-center pb-0"},{default:n(()=>[s(c,{width:"32",src:t(a),coords:t(i),padding:[0,8,8,0]},null,8,["src","coords"]),f("div",{class:S({"text-yellow":e.item.stat==="str","font-bold":e.item.stat==="str"})},$(e.item.str)+"+"+$(e.item.strLvl),3)]),_:1}),s(U,{cols:"4",class:"text-center pb-0"},{default:n(()=>[s(c,{width:"32",src:t(a),coords:t(y),padding:[0,8,8,0]},null,8,["src","coords"]),f("div",{class:S({"text-yellow":e.item.stat==="agi","font-bold":e.item.stat==="agi"})},$(e.item.agi)+"+"+$(e.item.agiLvl),3)]),_:1}),s(U,{cols:"4",class:"text-center pb-0"},{default:n(()=>[s(c,{width:"32",src:t(a),coords:t(_),padding:[0,8,8,0]},null,8,["src","coords"]),f("div",{class:S({"text-yellow":e.item.stat==="int","font-bold":e.item.stat==="int"})},$(e.item.int)+"+"+$(e.item.intLvl),3)]),_:1})]),heroItems:n(()=>[t(v).length?(x(),w(M,{key:0,title:"Hero items",value:"items"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",Gt,[s(g,{items:t(v),size:.75},{default:n(({item:h})=>[s(m,{src:t(o),coords:t(b)(h.id),item:h},null,8,["src","coords","item"])]),_:1},8,["items"])])]),_:1})]),_:1})):V("",!0)]),_:1},8,["item"])}}}),zt=q(Wt,[["__scopeId","data-v-dc1de915"]]),qt=["innerHTML"],Kt={class:"d-flex justify-center"},Yt={class:"d-flex justify-center"},Jt=j({__name:"DetailsUpgrade",props:{item:{}},async setup(e){let l,u;const r=L(["spells","summons","affects"]),b=R("raceName"),{raceData:o,iconProps:a,iconsSrc:i}=([l,u]=F(()=>B(b)),l=await l,u(),l),_=k(()=>{var d;return((d=e.item.spells)==null?void 0:d.map(p=>p.summonUnit).flat().filter(X).filter(Ke))??[]}),y=k(()=>e.item.spells),v=k(()=>{const d=Object.values(o.units).filter(({upgrades:c})=>c==null?void 0:c.includes(e.item.id)),p=o.bonuses.map(({units:c})=>c??[]).flat().filter(({upgrades:c})=>c==null?void 0:c.includes(e.item.id)).map(c=>{var g;const m=((g=o.bonuses.find(({units:C})=>C==null?void 0:C.some(({id:h})=>h===c.id)))==null?void 0:g.id)??"";return{...c,id:m}});return[...d,...p]});return(d,p)=>{const c=E,m=O,g=ie;return x(),w(be,{elevation:"0",static:"",tile:"",multiple:"",modelValue:t(r),"onUpdate:modelValue":p[0]||(p[0]=C=>se(r)?r.value=C:null)},{default:n(()=>{var C;return[e.item.description?(x(),w(M,{key:0,title:"Description",value:"description"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",{class:"text-body-2",innerHTML:e.item.description},null,8,qt)]),_:1})]),_:1})):V("",!0),(C=t(y))!=null&&C.length?(x(),w(M,{key:1,title:"Spells",value:"spells"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",Kt,[s(m,{items:t(y),"disable-details":"","skip-hotkey":""},{default:n(({item:h})=>[s(c,{item:h,src:t(i),coords:t(a)(h.id,h.iconsCount)},null,8,["item","src","coords"])]),_:1},8,["items"])])]),_:1})]),_:1})):V("",!0),(x(!0),T(N,null,G(t(_),h=>(x(),w(M,{title:`Summon: ${h.name}`,value:`summon-${h.id}`},{default:n(()=>[s(D,null,{default:n(()=>[s(g,{item:h},null,8,["item"])]),_:2},1024)]),_:2},1032,["title","value"]))),256)),t(v).length?(x(),w(M,{key:2,title:"Affects",value:"affects"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",Yt,[s(m,{items:t(v),"disable-details":"","skip-hotkey":""},{default:n(({item:h})=>[s(c,{item:h,src:t(i),coords:t(a)(h.id,h.iconsCount)},null,8,["item","src","coords"])]),_:1},8,["items"])])]),_:1})]),_:1})):V("",!0)]}),_:1},8,["modelValue"])}}}),Qt=j({__name:"DetailsSpell",props:{item:{}},setup(e){return(l,u)=>(x(),T("div"))}}),Xt={class:"cost"},Zt=j({__name:"CombineCost",props:{items:{},count:{}},setup(e){const[l,{gold:u}]=me(),r=k(()=>Ce(e.items).reduce((b,{cost:o})=>{var a;return b+((a=o??[])==null?void 0:a.slice(0,e.count).reduce((i,_)=>i+(_??0),0))},0));return(b,o)=>{const a=ne,i=je;return x(),w(i,null,{default:n(()=>[s(xe,{location:"top"},{activator:n(({props:_})=>[f("div",de({class:"d-flex align-center"},_),[s(a,{src:t(l),coords:t(u),width:"16"},null,8,["src","coords"]),f("span",Xt,$(t(r)),1)],16)]),default:n(()=>[J(b.$slots,"default",{},()=>[o[0]||(o[0]=H("Total cost",-1))],!0)]),_:3})]),_:3})}}}),ye=q(Zt,[["__scopeId","data-v-1bade672"]]),es=["innerHTML"],ts={class:"d-flex justify-center"},ss={class:"d-flex justify-center"},ns=j({__name:"DetailsBonus",props:{item:{}},async setup(e){let l,u;const r=R("objFinder"),b=R("raceName"),{iconProps:o,iconsSrc:a}=([l,u]=F(()=>B(b)),l=await l,u(),l),i=L(["grid","opens"]);Te(()=>e.item,d=>{var p;i.value=["grid"].concat(((p=d.units)==null?void 0:p.map(({id:c})=>`unit-${c}`))??[])});const _=k(()=>{var d;return(((d=e.item.spells)==null?void 0:d.length)??0)>1?!0:[e.item.units,e.item.upgrades].some(p=>!!(p!=null&&p.length))}),y=k(()=>[...(e.item.spells??[]).filter(({name:d})=>!!d),...e.item.upgrades??[]]),v=k(()=>e.item.relatedID.map(d=>r("upgrade",d)).filter(X));return(d,p)=>{const c=ye,m=E,g=O,C=ne,h=ie;return x(),w(be,{elevation:"0",static:"",tile:"",multiple:"",modelValue:t(i),"onUpdate:modelValue":p[0]||(p[0]=P=>se(i)?i.value=P:null)},{default:n(()=>[e.item.description?(x(),w(M,{key:0,title:"Description",value:"description"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",{class:"text-body-2",innerHTML:e.item.description},null,8,es)]),_:1})]),_:1})):V("",!0),t(_)&&t(y).length?(x(),w(M,{key:1,value:"grid"},{default:n(()=>[s(re,{width:"100%",class:"d-flex"},{default:n(()=>[p[2]||(p[2]=f("span",{class:"mr-auto"},"Bonus spells/upgrades",-1)),s(c,{items:e.item.upgrades??[]},{default:n(()=>[...p[1]||(p[1]=[H(" Total cost ",-1)])]),_:1},8,["items"])]),_:1}),s(D,null,{default:n(()=>[f("div",ts,[t(_)&&t(y).length?(x(),w(g,{key:0,items:t(y),"disable-details":"","show-empty":""},{default:n(({item:P})=>[s(m,{src:t(a),coords:t(o)(P.id,P.iconsCount),item:P},null,8,["src","coords","item"])]),_:1},8,["items"])):V("",!0)])]),_:1})]),_:1})):V("",!0),(x(!0),T(N,null,G(e.item.units,P=>(x(),w(M,{title:`Unit: ${P.name}`,value:`unit-${P.id}`},{title:n(()=>[s(C,{src:t(a),coords:t(o)(P.id),width:"32",class:"mr-2"},null,8,["src","coords"]),f("span",null,"Unit: "+$(P.name),1)]),default:n(()=>[s(D,null,{default:n(()=>[s(h,{item:P},null,8,["item"])]),_:2},1024)]),_:2},1032,["title","value"]))),256)),t(v).length?(x(),w(M,{key:2,title:"Unlocked upgrades",value:"opens"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",ss,[s(g,{items:t(v),"disable-details":"","skip-hotkey":""},{default:n(({item:P})=>[s(m,{src:t(a),coords:t(o)(P.id,P.iconsCount),item:P},null,8,["src","coords","item"])]),_:1},8,["items"])])]),_:1})]),_:1})):V("",!0)]),_:1},8,["modelValue"])}}}),as=({item:e})=>{const l=Ce(e);if(l){if(Ve(l))return K(ie,{item:l});if(Ye(l))return K(zt,{item:l});if(Je(l))return K(Jt,{item:l});if(Se(l))return K(Qt,{item:l});if(Ie(l))return K(ns,{item:l})}},os={key:0,class:"d-flex align-center justify-space-between panel-header pb-2 elevation-1 mb-2"},ls=["innerHTML"],is={class:"panel-details"},cs=j({__name:"DetailsProvider",props:{objFinder:{type:Function},raceName:{}},async setup(e){let l,u;const{iconProps:r,iconsSrc:b}=([l,u]=F(()=>B(e.raceName)),l=await l,u(),l),o=L(null),a=ht(),i=k({get:()=>!!o.value,set:v=>{v||(o.value=null)}});Qe(()=>{a.value&&["bonus","spell","unit","hero","upgrade"].forEach(v=>{var p;if(!a.value||((p=o.value)==null?void 0:p.id)===a.value)return;const d=e.objFinder(v,a.value);d&&(o.value=d)})}),Te(()=>o.value,v=>a.value=v==null?void 0:v.id);const _=v=>{o.value=v},y=()=>{var v;navigator.clipboard.writeText(((v=o.value)==null?void 0:v.id)||"")};return Y("detailsSet",_),Y("objFinder",e.objFinder),Y("raceName",e.raceName),(v,d)=>{const p=ne,c=as,m=je;return x(),T(N,null,[s(m,null,{default:n(()=>[s(kt,{modelValue:t(i),"onUpdate:modelValue":d[1]||(d[1]=g=>se(i)?i.value=g:null),location:"left",temporary:"","disable-resize-watcher":"",elevation:"4",class:"pa-2",width:"400","disable-route-watcher":""},{default:n(()=>[t(o)?(x(),T("div",os,[s(xe,{color:"transparent"},{activator:n(({props:g})=>[s(p,de({src:t(b),coords:t(r)(t(o).id),width:"32"},g,{onClick:y}),null,16,["src","coords"])]),default:n(()=>[H(" ID: "+$(t(o).id),1)]),_:1}),f("span",{innerHTML:t(o).name,class:"text-h6 mx-2"},null,8,ls),s(W,{density:"comfortable",icon:"",flat:"",onClick:d[0]||(d[0]=g=>_(null))},{default:n(()=>[s(He,{icon:"$close"})]),_:1})])):V("",!0),f("div",is,[s(c,{item:t(o)},null,8,["item"])])]),_:1},8,["modelValue"])]),_:1}),J(v.$slots,"default",{},void 0,!0)],64)}}}),rs=q(cs,[["__scopeId","data-v-e1fba027"]]),us={class:"text-h6"},ds=["innerHTML"],ms={key:0,class:"text-subtitle-1"},fs={class:"text-yellow"},ps={key:1,class:"text-subtitle-1"},vs={key:0,class:"text-green"},xs=j({__name:"RaceFortress",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=R("hover",L()),u=k(()=>[e.race.t1spell,e.race.t2spell,e.race.ultiData].filter(X)),r=k(()=>e.race.magic.map((o,a)=>({...o,hotkey:ve[a]})).concat(...Object.values(e.race.baseUpgrades))),b=o=>{const a=Object.values(e.race.units).filter(({upgrades:i})=>i==null?void 0:i.includes(o.id)).map(({id:i})=>i);l.value=[o.id,...a]};return(o,a)=>{const i=pe,_=ae,y=ye,v=_e,d=O,p=ue,c=le;return x(),w(c,{title:"Fortress",class:"d-flex flex-column justify-start","full-height":!1,id:"fortress"},{title:n(()=>[s(i,{"hide-dot":"",item:e.race.buildings.fort[1]},{default:n(()=>[s(W,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:n(()=>[...a[1]||(a[1]=[f("b",null,"Fortress",-1)])]),_:1})]),_:1},8,["item"])]),prependHead:n(()=>[s(_,{key:"fort-attack",class:"ml-1",type:e.race.buildings.fort[1].atkType},null,8,["type"])]),appendHead:n(()=>[s(y,{key:"fort-cost",class:"mr-1",items:t(r)},null,8,["items"])]),default:n(()=>[s(v,{class:"mb-2 mt-n6"},{default:n(()=>[...a[2]||(a[2]=[f("span",{class:"mx-2 text-caption text-grey"},"Auras",-1)])]),_:1}),s(d,{class:"mx-auto",items:e.race.auras},{default:n(({item:m})=>[s(t(E),{item:m,src:e.icons,coords:e.iconProps(m.id),class:S(["selectable-item",{depressed:t(l)&&!t(l).includes(m.id)}])},null,8,["item","src","coords","class"])]),_:1},8,["items"]),s(v,{class:"mb-1"},{default:n(()=>[...a[3]||(a[3]=[f("span",{class:"mx-2 text-caption text-grey"},"Upgrades",-1)])]),_:1}),s(d,{class:"mx-auto",items:t(r)},{default:n(({item:m})=>[s(t(E),{item:m,src:e.icons,coords:!("level"in m)||(m.iconsCount??0)<=1?e.iconProps(m.id,m.iconsCount):e.iconProps(`${m.id}-${m.level}`),class:S(["selectable-item",{depressed:t(l)&&!t(l).includes(m.id)}]),onMouseenter:()=>b(m),onMouseout:a[0]||(a[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),s(v,{class:"mb-1"},{default:n(()=>[...a[4]||(a[4]=[f("span",{class:"mx-2 text-caption text-grey"},"Skills",-1)])]),_:1}),s(d,{class:"mx-auto",items:t(u)},{default:n(({item:m})=>[("isSpellObject"in o?o.isSpellObject:t(Se))(m)?(x(),w(t(E),{key:0,item:m,src:e.icons,coords:e.iconProps(m.id),class:S(["selectable-item",{depressed:t(l)&&!t(l).includes(m.id)}])},null,8,["item","src","coords","class"])):(x(),w(p,{key:1,src:e.icons,coords:e.iconProps(m.id)},{tooltip:n(()=>[f("div",us,[a[5]||(a[5]=H(" Precision UW: ",-1)),f("span",{innerHTML:m.name.replace(/\[.+\]/g,"")},null,8,ds)]),a[8]||(a[8]=f("br",null,null,-1)),"damageTime"in m?(x(),T("div",ms,[a[6]||(a[6]=H(" Time to full damage: ",-1)),f("span",fs,$(m.damageTime==0?"Instant":m.damageTime+"s"),1)])):V("",!0),"stealInterrupt"in m?(x(),T("div",ps,[a[7]||(a[7]=H(" Interrupts mana steal: ",-1)),f("span",{class:S(m.stealInterrupt?"text-green":"text-red")},$(m.stealInterrupt?"Yes":"No"),3),m.fakeStealInterrupt?(x(),T("span",vs," (+ Decoy UW) ")):V("",!0)])):V("",!0)]),_:2},1032,["src","coords"]))]),_:1},8,["items"])]),_:1})}}}),_s=j({__name:"RaceTowers",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=R("hover",L()),u=k(()=>[...(e.race.buildings.tower.skills??[]).map((o,a)=>({...o,hotkey:o.hotkey||ve[a]})),...e.race.towerUpgrades]),r=k(()=>Object.values(e.race.bonuses).reduce((o,{id:a,relatedID:i})=>(i.forEach(_=>{o[_]=a}),o),{})),b=o=>{const a=Object.values(e.race.units).filter(({upgrades:i})=>i==null?void 0:i.includes(o.id)).map(({id:i})=>i);l.value=[o.id,r.value[o.id],...a]};return(o,a)=>{const i=pe,_=ae,y=ye,v=E,d=O,p=le;return x(),w(p,{title:"Towers","full-height":!1,class:"d-flex flex-column",id:"upgrades"},{title:n(()=>[s(i,{"hide-dot":"",item:e.race.buildings.tower},{default:n(()=>[s(W,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:n(()=>[...a[1]||(a[1]=[f("b",null,"Towers",-1)])]),_:1})]),_:1},8,["item"])]),prependHead:n(()=>[s(_,{key:"tower-attack",class:"ml-1",type:e.race.buildings.tower.atkType},null,8,["type"])]),appendHead:n(()=>[s(y,{key:"tower-cost",items:e.race.towerUpgrades,count:3},{default:n(()=>[...a[2]||(a[2]=[H(" Total cost (Lv3) ",-1)])]),_:1},8,["items"])]),default:n(()=>[s(d,{class:"mx-auto",items:t(u),"restricted-slots":["Q","W"]},{default:n(({item:c})=>[s(v,{item:c,src:e.icons,coords:e.iconProps(c.id,c.iconsCount),class:S(["selectable-item",{depressed:t(l)&&!t(l).includes(c.id)}]),onMouseenter:()=>b(c),onMouseout:a[0]||(a[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"])]),_:1})}}}),bs={class:"d-flex flex-wrap"},ys=["innerHTML"],gs=j({__name:"RaceBonuses",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=R("hover",L()),u=new Intl.Collator("en").compare,r=k(()=>Object.values(e.race.bonusBuildings).sort(({name:o},{name:a})=>u(o,a))),b=o=>{if(!Ie(o)){l.value=[o.id,...e.race.bonuses.filter(({buildingId:i})=>i===o.id).map(({id:i})=>i)].filter(X);return}const a=Object.values(e.race.units).filter(({hotkey:i})=>{var _;return(_=o.units)==null?void 0:_.some(y=>y.hotkey===i)}).map(({id:i})=>i);l.value=[o.id,o.buildingId,...o.relatedID,...a]};return(o,a)=>{const i=E,_=O,y=_e,v=le;return x(),T("div",{style:z({gridRow:`span ${1+Math.floor(t(r).length/5)}`})},[s(v,{title:"Bonuses","full-height":!1,class:"d-flex flex-column align-center justify-start",id:"bonuses"},{title:n(()=>[s(xe,{"open-on-click":"","open-on-hover":!1,offset:[-4,0],"close-on-back":"",location:"top",transition:{component:t(mt)}},{activator:n(({props:d})=>[s(W,de({size:"large",class:"mx-auto",variant:"text",color:"yellow"},d),{default:n(()=>[...a[2]||(a[2]=[f("b",null,"Bonuses",-1)])]),_:1},16)]),default:n(()=>[a[3]||(a[3]=f("span",null,"There is no easter eggs",-1))]),_:1},8,["transition"])]),default:n(()=>[s(_,{items:e.race.bonuses},{default:n(({item:d})=>[s(i,{item:d,src:e.icons,coords:e.iconProps(d.id),class:S(["selectable-item",{depressed:t(l)&&!t(l).includes(d.id)}]),onMouseenter:()=>b(d),onMouseout:a[0]||(a[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),s(y,{class:"my-1"},{default:n(()=>[...a[4]||(a[4]=[f("span",{class:"mx-2 text-caption text-grey text-no-wrap"},"Bonus buildings",-1)])]),_:1}),f("div",bs,[(x(!0),T(N,null,G(t(r),d=>(x(),w(W,{class:"my-1 mx-2 cursor-default",variant:"text",size:"x-small",active:t(l)&&t(l).includes(d.id),onMouseover:()=>b(d),onMouseout:a[1]||(a[1]=()=>l.value=void 0)},{default:n(()=>[f("span",{innerHTML:d.name},null,8,ys)]),_:2},1032,["active","onMouseover"]))),256))])]),_:1})],4)}}}),hs=j({__name:"RaceBarracks",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=R("hover",L()),u={melee:"A",range:"S",mage:"D",siege:"F",air:"E",catapult:"R"},r=k(()=>Object.entries(e.race.units).map(([a,i])=>({...i,hotkey:u[a]}))),b=k(()=>{var i;return[...((i=e.race.buildings.barrack.find(_=>{var y;return(y=_.skills)==null?void 0:y.length}))==null?void 0:i.skills)??[],...r.value]}),o=a=>{Ve(a)&&(l.value=[a.id,...a.upgrades??[]])};return(a,i)=>{const _=pe,y=ae,v=_e,d=O,p=le;return x(),w(p,{title:"Barracks","full-height":!1,class:"d-flex flex-column",id:"units"},{title:n(()=>[s(_,{"hide-dot":"",item:e.race.buildings.barrack[0]},{default:n(()=>[s(W,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:n(()=>[...i[1]||(i[1]=[f("b",null,"Barracks",-1)])]),_:1})]),_:1},8,["item"])]),prependHead:n(()=>[s(y,{key:"barrack-attack",class:"ml-1",type:e.race.buildings.barrack[0].atkType},null,8,["type"])]),default:n(()=>[s(v,{class:"mb-2 mt-n6"},{default:n(()=>[...i[2]||(i[2]=[f("span",{class:"mx-2 text-caption text-grey"},"Units",-1)])]),_:1}),s(d,{class:"mx-auto",items:t(b)},{default:n(({item:c})=>[s(t(E),{item:c,src:e.icons,coords:e.iconProps(c.id),class:S(["selectable-item",{depressed:t(l)&&!t(l).includes(c.id)}]),onMouseenter:()=>o(c),onMouseout:i[0]||(i[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),s(v,{class:"mb-1"},{default:n(()=>[...i[3]||(i[3]=[f("span",{class:"mx-2 text-caption text-grey"},"Heroes",-1)])]),_:1}),s(d,{class:"mx-auto",items:e.race.heroes},{default:n(({item:c})=>[s(t(E),{item:c,src:e.icons,coords:e.iconProps(c.id),class:S(["selectable-item",{depressed:t(l)&&!t(l).includes(c.id)}])},null,8,["item","src","coords","class"])]),_:1},8,["items"])]),_:1})}}}),ks=j({__name:"racePage",async setup(e){let l,u;const r=Xe(),[b]=[Ze().currentRoute.value.params.race].flat(),{raceData:o,iconProps:a,iconsSrc:i,version:_}=([l,u]=F(()=>B(b)),l=await l,u(),l),y=(c,m)=>{switch(c){case"upgrade":return Object.values(o.baseUpgrades).concat(o.magic).concat(o.towerUpgrades).find(g=>g.id===m);case"unit":return Object.values(o.units).find(g=>g.id===m);case"bonus":return Object.values(o.bonuses).find(g=>g.id===m);case"hero":return o.heroes.find(g=>g.id===m);case"spell":return[o.t1spell,o.t2spell].find(g=>g.id===m);default:return}},v=De("iconSize",$t),d=k(()=>({gridTemplateColumns:`repeat(auto-fill, minmax(${+v.value*5}px, 1fr))`})),p=Pt?k(()=>{}):L();return Y("hover",p),r.runWithContext(()=>{yt({title:`${o.name} v${_}`,description:`${o.name} of Survival Chaos v${_}: race info, bonuses, upgrades, units and heroes`,ogDescription:`${o.name} of Survival Chaos v${_}: race info, bonuses, upgrades, units and heroes`}),gt({link:[{rel:"preload",as:"image",href:i}]})}),(c,m)=>{const g=It,C=rs;return x(),T("div",null,[s(g,{class:"mb-2"}),s(C,{"obj-finder":y,"race-name":t(b)},{default:n(()=>[f("div",{class:"race-container",style:z(t(d))},[s(wt,{race:t(o),style:{"flex-basis":"300px"}},null,8,["race"]),s(xs,{race:t(o),icons:t(i),"icon-props":t(a)},null,8,["race","icons","icon-props"]),s(_s,{race:t(o),icons:t(i),"icon-props":t(a)},null,8,["race","icons","icon-props"]),s(gs,{race:t(o),icons:t(i),"icon-props":t(a)},null,8,["race","icons","icon-props"]),s(hs,{race:t(o),icons:t(i),"icon-props":t(a)},null,8,["race","icons","icon-props"])],4)]),_:1},8,["race-name"])])}}}),Xs=q(ks,[["__scopeId","data-v-aea57093"]]);export{Xs as default};
