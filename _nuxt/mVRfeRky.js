import{_ as Oe}from"./c9EXJUDf.js";import{u as B,_ as re}from"./DapErl2o.js";import{g as Z,p as X,i as H,b as t,w as we,v as Ae,c as k,au as Ge,ai as xe,N as Q,ad as ze,af as We,t as D,ah as qe,av as Qe,e as I,a0 as F,h as S,j as _,aw as he,z as a,F as N,l as G,k as s,E as P,y as f,q as j,C as E,D as C,_ as W,r as L,A as J,Q as K,x as T,M as ee,ax as Ke,ay as Ye,f as Pe,m as ce,O as Ce,az as $e,P as q,aA as Ze,aB as Je,aC as Se,aD as Te,aE as Xe,n as Ve,G as et,at as tt}from"./D1feHHcF.js";import{u as Ie}from"./C-2oMf61.js";import{b as st,c as nt,a as ot}from"./lIcaW1rK.js";import{c as De,d as je,e as at,f as lt,V as z}from"./eEeKBqKR.js";import{_ as te}from"./CvcVDQaW.js";import{a as se}from"./B2DCsGsT.js";import{_ as R}from"./CosFQIsO.js";import{u as ue}from"./C-cfIFGg.js";import{a as U,V as ke}from"./CZUZ89U7.js";import{a as it,V as rt}from"./DtM5k-N8.js";import{u as ne,i as de,R as ct,l as Me,p as ut,q as He,V as Ee,r as dt,s as mt,t as pt,d as Re,f as ft,g as vt,b as _t,v as bt}from"./CBSuk4i-.js";import{u as yt,m as gt,_ as Ne,V as me}from"./B8RdhCjj.js";import{_ as O,a as pe}from"./Cr0RaUQG.js";import{h as fe}from"./Dd2277SN.js";import{u as xt}from"./CEMksyiT.js";import{V as ht}from"./DDy3-XaG.js";import{a as ve,_ as kt}from"./DjJ7f7us.js";import{_ as oe}from"./DhsGtKOI.js";import{I as wt,D as Pt}from"./DYmvtetA.js";import"./D3OEymSz.js";import"./DbYZnSlv.js";/* empty css        */import"./CwG6wi8q.js";const Y=Symbol.for("vuetify:v-expansion-panel"),Ue=X({...de(),...gt()},"VExpansionPanelText"),V=Z()({name:"VExpansionPanelText",props:Ue(),setup(e,l){let{slots:d}=l;const u=H(Y);if(!u)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:y,onAfterLeave:n}=yt(e,u.isSelected);return ne(()=>t(it,{onAfterLeave:n},{default:()=>{var o;return[we(t("div",{class:["v-expansion-panel-text",e.class],style:e.style},[d.default&&y.value&&t("div",{class:"v-expansion-panel-text__wrapper"},[(o=d.default)==null?void 0:o.call(d)])]),[[Ae,u.isSelected.value]])]}})),{}}}),Le=X({color:String,expandIcon:{type:xe,default:"$expand"},collapseIcon:{type:xe,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...de(),...dt()},"VExpansionPanelTitle"),ie=Z()({name:"VExpansionPanelTitle",directives:{Ripple:ct},props:Le(),setup(e,l){let{slots:d}=l;const u=H(Y);if(!u)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:y,backgroundColorStyles:n}=Me(e,"color"),{dimensionStyles:o}=ut(e),i=k(()=>({collapseIcon:e.collapseIcon,disabled:u.disabled.value,expanded:u.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),b=k(()=>u.isSelected.value?e.collapseIcon:e.expandIcon);return ne(()=>{var x;return we(t("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":u.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},y.value,e.class],style:[n.value,o.value,e.style],type:"button",tabindex:u.disabled.value?-1:void 0,disabled:u.disabled.value,"aria-expanded":u.isSelected.value,onClick:e.readonly?void 0:u.toggle},[t("span",{class:"v-expansion-panel-title__overlay"},null),(x=d.default)==null?void 0:x.call(d,i.value),!e.hideActions&&t(He,{defaults:{VIcon:{icon:b.value}}},{default:()=>{var v;return[t("span",{class:"v-expansion-panel-title__icon"},[((v=d.actions)==null?void 0:v.call(d,i.value))??t(Ee,null,null)])]}})]),[[Ge("ripple"),e.ripple]])}),{}}}),Be=X({title:String,text:String,bgColor:String,...vt(),...je(),...ft(),...Re(),...Le(),...Ue()},"VExpansionPanel"),M=Z()({name:"VExpansionPanel",props:Be(),emits:{"group:selected":e=>!0},setup(e,l){let{slots:d}=l;const u=De(e,Y),{backgroundColorClasses:y,backgroundColorStyles:n}=Me(e,"bgColor"),{elevationClasses:o}=mt(e),{roundedClasses:i}=pt(e),b=k(()=>(u==null?void 0:u.disabled.value)||e.disabled),x=k(()=>u.group.items.value.reduce((p,c,m)=>(u.group.selected.value.includes(c.id)&&p.push(m),p),[])),v=k(()=>{const p=u.group.items.value.findIndex(c=>c.id===u.id);return!u.isSelected.value&&x.value.some(c=>c-p===1)}),r=k(()=>{const p=u.group.items.value.findIndex(c=>c.id===u.id);return!u.isSelected.value&&x.value.some(c=>c-p===-1)});return Q(Y,u),ne(()=>{const p=!!(d.text||e.text),c=!!(d.title||e.title),m=ie.filterProps(e),h=V.filterProps(e);return t(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":u.isSelected.value,"v-expansion-panel--before-active":v.value,"v-expansion-panel--after-active":r.value,"v-expansion-panel--disabled":b.value},i.value,y.value,e.class],style:[n.value,e.style]},{default:()=>[t("div",{class:["v-expansion-panel__shadow",...o.value]},null),t(He,{defaults:{VExpansionPanelTitle:{...m},VExpansionPanelText:{...h}}},{default:()=>{var g;return[c&&t(ie,{key:"title"},{default:()=>[d.title?d.title():e.title]}),p&&t(V,{key:"text"},{default:()=>[d.text?d.text():e.text]}),(g=d.default)==null?void 0:g.call(d)]}})]})}),{groupItem:u}}}),Ct=["default","accordion","inset","popout"],$t=X({flat:Boolean,...lt(),...Qe(Be(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...qe(),...de(),...Re(),variant:{type:String,default:"default",validator:e=>Ct.includes(e)}},"VExpansionPanels"),_e=Z()({name:"VExpansionPanels",props:$t(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:d}=l;const{next:u,prev:y}=at(e,Y),{themeClasses:n}=ze(e),o=k(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return We({VExpansionPanel:{bgColor:D(e,"bgColor"),collapseIcon:D(e,"collapseIcon"),color:D(e,"color"),eager:D(e,"eager"),elevation:D(e,"elevation"),expandIcon:D(e,"expandIcon"),focusable:D(e,"focusable"),hideActions:D(e,"hideActions"),readonly:D(e,"readonly"),ripple:D(e,"ripple"),rounded:D(e,"rounded"),static:D(e,"static")}}),ne(()=>t(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},n.value,o.value,e.class],style:e.style},{default:()=>{var i;return[(i=d.default)==null?void 0:i.call(d,{prev:y,next:u})]}})),{next:u,prev:y}}}),St=Z()({name:"VSlideGroupItem",props:je(),emits:{"group:selected":e=>!0},setup(e,l){let{slots:d}=l;const u=De(e,st);return()=>{var y;return(y=d.default)==null?void 0:y.call(d,{isSelected:u.isSelected.value,select:u.select,toggle:u.toggle,selectedClass:u.selectedClass.value})}}}),Tt=["innerHTML"],Vt=I({__name:"RaceSelectRibbon",async setup(e){let l,d;const u=Ie("iconSize"),{raceData:y,iconProps:n,iconsSrc:o}=([l,d]=F(()=>B("races")),l=await l,d(),l),i=k(()=>Object.values(y).flat());return(b,x)=>{const v=Oe,r=re;return _(),S("div",null,[t(nt,{"model-value":(b._.provides[he]||b.$route).params.race,"center-active":"","show-arrows":""},{default:a(()=>[(_(!0),S(N,null,G(s(i),p=>(_(),P(St,{value:p.key,key:p.key},{default:a(({isSelected:c})=>[f("div",{class:j(["race-wrapper",{selected:c}])},[t(r,{coords:s(n)(p.id),src:s(o),description:"",width:s(u)},{tooltip:a(()=>[f("div",{innerHTML:p.name},null,8,Tt)]),default:a(()=>[t(v,{to:{name:"RaceIndex",params:{...(b._.provides[he]||b.$route).params,race:p.key}}},{default:a(()=>[E(C(p.name),1)]),_:2},1032,["to"])]),_:2},1032,["coords","src","width"])],2)]),_:2},1032,["value"]))),128))]),_:1},8,["model-value"])])}}}),It=W(Vt,[["__scopeId","data-v-f1152851"]]),Dt={key:0,class:"d-flex row-warp align-center my-1"},jt={class:"ml-2 mt-n1"},Mt={class:"ml-2 mt-n1"},Ht=["innerHTML"],Et={class:"text-white bg-red mx-2 rounded-lg"},Rt={class:"text-white bg-blue mx-2 rounded-lg"},Nt={class:"d-flex align-center"},Ut={class:"ml-2 mt-n1"},Lt={key:0,class:"d-flex align-center"},Bt={class:"ml-2 mt-n1"},Ft={class:"upgrades-wrapper"},Ot=I({__name:"DetailsUnit",props:{item:{}},async setup(e){let l,d;const u=L(["characteristics","upgrades","items"]),[y,{gold:n,bounty:o,range:i,attackSpeed:b}]=ue(),x=H("raceName"),{iconProps:v,iconsSrc:r}=([l,d]=F(()=>B(x)),l=await l,d(),l),p=H("objFinder"),c=k(()=>!isNaN(Number(e.item.hpReg))),m=k(()=>!isNaN(Number(e.item.mpReg))),h=k(()=>{var g;return(g=e.item.upgrades)==null?void 0:g.map(w=>p("upgrade",w)).filter(J)});return(g,w)=>{var ge;const $=re,ye=se,Fe=R;return _(),S(N,null,[K(g.$slots,"fullname",{},void 0,!0),(ge=g.item.tags)!=null&&ge.length?(_(),S("div",Dt,[w[1]||(w[1]=f("div",{class:"text-subtitle-2"},"Tags:",-1)),(_(!0),S(N,null,G(g.item.tags,A=>(_(),P(ot,{class:"ma-1 mr-0",density:"compact",size:"small"},{default:a(()=>[E(C(A),1)]),_:2},1024))),256))])):T("",!0),t(ke,{class:"my-1"},{default:a(()=>[t(U,{cols:"6",class:"d-flex align-center py-0"},{default:a(()=>[t($,{src:s(y),coords:s(n),width:"32",description:"Cost"},null,8,["src","coords"]),f("span",jt,C(g.item.cost),1)]),_:1}),t(U,{cols:"6",class:"d-flex align-center py-0"},{default:a(()=>[t($,{src:s(y),coords:s(o),width:"32",description:"Kill bounty"},null,8,["src","coords"]),f("span",Mt,C(g.item.bounty),1)]),_:1})]),_:1}),t(_e,{elevation:"0",static:"",tile:"",multiple:"",modelValue:s(u),"onUpdate:modelValue":w[0]||(w[0]=A=>ee(u)?u.value=A:null)},{default:a(()=>{var A;return[g.item.description?(_(),P(M,{key:0,title:"Description",value:"description"},{default:a(()=>[t(V,null,{default:a(()=>[f("div",{class:"text-body-2",innerHTML:g.item.description},null,8,Ht)]),_:1})]),_:1})):T("",!0),K(g.$slots,"heroItems",{},void 0,!0),t(M,{title:"Characteristics",value:"characteristics"},{default:a(()=>[t(V,null,{default:a(()=>[t(ke,{class:"my-1"},{default:a(()=>[t(U,{cols:"6",class:"text-center pt-0"},{default:a(()=>[f("div",Et,[f("b",null,C(g.item.hp),1),s(c)?(_(),S(N,{key:0},[E(" +"+C(g.item.hpReg)+"/sec",1)],64)):T("",!0)])]),_:1}),t(U,{cols:"6",class:"text-center pt-0"},{default:a(()=>[f("div",Rt,[f("b",null,C(g.item.mp),1),s(m)?(_(),S(N,{key:0},[E(" +"+C(g.item.mpReg)+"/sec",1)],64)):T("",!0)])]),_:1}),t(U,{cols:"6",class:"py-0"},{default:a(()=>[t(ye,{type:g.item.atkType,value:g.item.atk},null,8,["type","value"]),f("div",Nt,[t($,{src:s(y),coords:s(i),width:"32",description:"Attack range"},null,8,["src","coords"]),f("span",Ut,C(g.item.atkRange)+C(g.item.weaponType==="normal"?" (melee)":""),1)]),g.item.atkSpeed?(_(),S("div",Lt,[t($,{src:s(y),coords:s(b),width:"32",description:"Attack speed"},null,8,["src","coords"]),f("span",Bt,C(g.item.atkSpeed.toFixed(2))+" BCD",1)])):T("",!0)]),_:1}),t(U,{cols:"6",class:"py-0"},{default:a(()=>[t(ye,{type:g.item.defType,value:g.item.def,"is-defend":""},null,8,["type","value"])]),_:1}),K(g.$slots,"attributes",{},void 0,!0)]),_:3})]),_:3})]),_:3}),(A=s(h))!=null&&A.length?(_(),P(M,{key:1,title:"Upgrades used",value:"upgrades"},{default:a(()=>[t(V,null,{default:a(()=>[f("div",Ft,[(_(!0),S(N,null,G(s(h),le=>(_(),P(Fe,{item:le,src:s(r),coords:s(v)(le.id,le.iconsCount)},null,8,["item","src","coords"]))),256))])]),_:1})]),_:1})):T("",!0)]}),_:3},8,["modelValue"])],64)}}}),ae=W(Ot,[["__scopeId","data-v-27036373"]]),At=["innerHTML"],Gt={class:"d-flex justify-center"},zt=I({__name:"DetailsHero",props:{item:{}},async setup(e){let l,d;const u=H("raceName"),{iconProps:y,iconsSrc:n}=([l,d]=F(()=>B(u)),l=await l,d(),l),[o,{str:i,int:b,agi:x}]=ue(),v=k(()=>{if(!e.item.items)return[];const r=e.item.items.map(({level:c})=>c);if(!(r!=null&&r.length))return[];const p=r.filter(Ke).sort((c,m)=>c-m).reduce((c,m,h)=>(c[m]=fe[h],c),{});return e.item.items.map(c=>({...c,hotkey:p[c.level]}))});return(r,p)=>{const c=te,m=R,h=O,g=ae;return _(),P(g,{item:r.item},{fullname:a(()=>[f("div",{innerHTML:r.item.fullName,class:"text-center text-subtitle-1"},null,8,At)]),attributes:a(()=>[t(U,{cols:"4",class:"text-center pb-0"},{default:a(()=>[t(c,{width:"32",src:s(o),coords:s(i),padding:[0,8,8,0]},null,8,["src","coords"]),f("div",{class:j({"text-yellow":r.item.stat==="str","font-bold":r.item.stat==="str"})},C(r.item.str)+"+"+C(r.item.strLvl),3)]),_:1}),t(U,{cols:"4",class:"text-center pb-0"},{default:a(()=>[t(c,{width:"32",src:s(o),coords:s(x),padding:[0,8,8,0]},null,8,["src","coords"]),f("div",{class:j({"text-yellow":r.item.stat==="agi","font-bold":r.item.stat==="agi"})},C(r.item.agi)+"+"+C(r.item.agiLvl),3)]),_:1}),t(U,{cols:"4",class:"text-center pb-0"},{default:a(()=>[t(c,{width:"32",src:s(o),coords:s(b),padding:[0,8,8,0]},null,8,["src","coords"]),f("div",{class:j({"text-yellow":r.item.stat==="int","font-bold":r.item.stat==="int"})},C(r.item.int)+"+"+C(r.item.intLvl),3)]),_:1})]),heroItems:a(()=>[s(v).length?(_(),P(M,{key:0,title:"Hero items",value:"items"},{default:a(()=>[t(V,null,{default:a(()=>[f("div",Gt,[t(h,{items:s(v),size:.75},{default:a(({item:w})=>[t(m,{src:s(n),coords:s(y)(w.id),item:w},null,8,["src","coords","item"])]),_:1},8,["items"])])]),_:1})]),_:1})):T("",!0)]),_:1},8,["item"])}}}),Wt=W(zt,[["__scopeId","data-v-dc1de915"]]),qt=["innerHTML"],Qt={class:"d-flex justify-center"},Kt={class:"d-flex justify-center"},Yt=I({__name:"DetailsUpgrade",props:{item:{}},async setup(e){let l,d;const u=L(["spells","summons","affects"]),y=H("raceName"),{raceData:n,iconProps:o,iconsSrc:i}=([l,d]=F(()=>B(y)),l=await l,d(),l),b=k(()=>{var r;return((r=e.item.spells)==null?void 0:r.map(p=>p.summonUnit).flat().filter(J).filter(Ye))??[]}),x=k(()=>e.item.spells),v=k(()=>{const r=Object.values(n.units).filter(({upgrades:c})=>c==null?void 0:c.includes(e.item.id)),p=n.bonuses.map(({units:c})=>c??[]).flat().filter(({upgrades:c})=>c==null?void 0:c.includes(e.item.id)).map(c=>{var h;const m=((h=n.bonuses.find(({units:g})=>g==null?void 0:g.some(({id:w})=>w===c.id)))==null?void 0:h.id)??"";return{...c,id:m}});return[...r,...p]});return(r,p)=>{const c=R,m=O,h=ae;return _(),P(_e,{elevation:"0",static:"",tile:"",multiple:"",modelValue:s(u),"onUpdate:modelValue":p[0]||(p[0]=g=>ee(u)?u.value=g:null)},{default:a(()=>{var g;return[r.item.description?(_(),P(M,{key:0,title:"Description",value:"description"},{default:a(()=>[t(V,null,{default:a(()=>[f("div",{class:"text-body-2",innerHTML:r.item.description},null,8,qt)]),_:1})]),_:1})):T("",!0),(g=s(x))!=null&&g.length?(_(),P(M,{key:1,title:"Spells",value:"spells"},{default:a(()=>[t(V,null,{default:a(()=>[f("div",Qt,[t(m,{items:s(x),"disable-details":"","skip-hotkey":""},{default:a(({item:w})=>[t(c,{item:w,src:s(i),coords:s(o)(w.id,w.iconsCount)},null,8,["item","src","coords"])]),_:1},8,["items"])])]),_:1})]),_:1})):T("",!0),(_(!0),S(N,null,G(s(b),w=>(_(),P(M,{title:`Summon: ${w.name}`,value:`summon-${w.id}`},{default:a(()=>[t(V,null,{default:a(()=>[t(h,{item:w},null,8,["item"])]),_:2},1024)]),_:2},1032,["title","value"]))),256)),s(v).length?(_(),P(M,{key:2,title:"Affects",value:"affects"},{default:a(()=>[t(V,null,{default:a(()=>[f("div",Kt,[t(m,{items:s(v),"disable-details":"","skip-hotkey":""},{default:a(({item:w})=>[t(c,{item:w,src:s(i),coords:s(o)(w.id,w.iconsCount)},null,8,["item","src","coords"])]),_:1},8,["items"])])]),_:1})]),_:1})):T("",!0)]}),_:1},8,["modelValue"])}}}),Zt=I({__name:"DetailsSpell",props:{item:{}},setup(e){return(l,d)=>(_(),S("div"))}}),Jt={class:"cost"},Xt=I({__name:"CombineCost",props:{items:{},count:{}},setup(e){const[l,{gold:d}]=ue(),u=k(()=>Pe(e.items).reduce((y,{cost:n})=>{var o;return y+((o=n??[])==null?void 0:o.slice(0,e.count).reduce((i,b)=>i+(b??0),0))},0));return(y,n)=>{const o=te,i=Ne;return _(),P(i,null,{default:a(()=>[t(me,{location:"top"},{activator:a(({props:b})=>[f("div",ce({class:"d-flex align-center"},b),[t(o,{src:s(l),coords:s(d),width:"16"},null,8,["src","coords"]),f("span",Jt,C(s(u)),1)],16)]),default:a(()=>[K(y.$slots,"default",{},()=>[n[0]||(n[0]=E("Total cost"))],!0)]),_:3})]),_:3})}}}),be=W(Xt,[["__scopeId","data-v-1bade672"]]),es=["innerHTML"],ts={class:"d-flex justify-center"},ss={class:"d-flex justify-center"},ns=I({__name:"DetailsBonus",props:{item:{}},async setup(e){let l,d;const u=H("objFinder"),y=H("raceName"),{iconProps:n,iconsSrc:o}=([l,d]=F(()=>B(y)),l=await l,d(),l),i=L(["grid","opens"]);Ce(()=>e.item,r=>{var p;i.value=["grid"].concat(((p=r.units)==null?void 0:p.map(({id:c})=>`unit-${c}`))??[])});const b=k(()=>{var r;return(((r=e.item.spells)==null?void 0:r.length)??0)>1?!0:[e.item.units,e.item.upgrades].some(p=>!!(p!=null&&p.length))}),x=k(()=>[...(e.item.spells??[]).filter(({name:r})=>!!r),...e.item.upgrades??[]]),v=k(()=>e.item.relatedID.map(r=>u("upgrade",r)).filter(J));return(r,p)=>{const c=be,m=R,h=O,g=te,w=ae;return _(),P(_e,{elevation:"0",static:"",tile:"",multiple:"",modelValue:s(i),"onUpdate:modelValue":p[0]||(p[0]=$=>ee(i)?i.value=$:null)},{default:a(()=>[r.item.description?(_(),P(M,{key:0,title:"Description",value:"description"},{default:a(()=>[t(V,null,{default:a(()=>[f("div",{class:"text-body-2",innerHTML:r.item.description},null,8,es)]),_:1})]),_:1})):T("",!0),s(b)&&s(x).length?(_(),P(M,{key:1,value:"grid"},{default:a(()=>[t(ie,{width:"100%",class:"d-flex"},{default:a(()=>[p[2]||(p[2]=f("span",{class:"mr-auto"},"Bonus spells/upgrades",-1)),t(c,{items:r.item.upgrades??[]},{default:a(()=>p[1]||(p[1]=[E(" Total cost ")])),_:1},8,["items"])]),_:1}),t(V,null,{default:a(()=>[f("div",ts,[s(b)&&s(x).length?(_(),P(h,{key:0,items:s(x),"disable-details":"","show-empty":""},{default:a(({item:$})=>[t(m,{src:s(o),coords:s(n)($.id,$.iconsCount),item:$},null,8,["src","coords","item"])]),_:1},8,["items"])):T("",!0)])]),_:1})]),_:1})):T("",!0),(_(!0),S(N,null,G(r.item.units,$=>(_(),P(M,{title:`Unit: ${$.name}`,value:`unit-${$.id}`},{title:a(()=>[t(g,{src:s(o),coords:s(n)($.id),width:"32",class:"mr-2"},null,8,["src","coords"]),f("span",null,"Unit: "+C($.name),1)]),default:a(()=>[t(V,null,{default:a(()=>[t(w,{item:$},null,8,["item"])]),_:2},1024)]),_:2},1032,["title","value"]))),256)),s(v).length?(_(),P(M,{key:2,title:"Unlocked upgrades",value:"opens"},{default:a(()=>[t(V,null,{default:a(()=>[f("div",ss,[t(h,{items:s(v),"disable-details":"","skip-hotkey":""},{default:a(({item:$})=>[t(m,{src:s(o),coords:s(n)($.id,$.iconsCount),item:$},null,8,["src","coords","item"])]),_:1},8,["items"])])]),_:1})]),_:1})):T("",!0)]),_:1},8,["modelValue"])}}}),os=({item:e})=>{const l=Pe(e);if(l){if($e(l))return q(ae,{item:l});if(Ze(l))return q(Wt,{item:l});if(Je(l))return q(Yt,{item:l});if(Se(l))return q(Zt,{item:l});if(Te(l))return q(ns,{item:l})}},as={key:0,class:"d-flex align-center justify-space-between panel-header pb-2 elevation-1 mb-2"},ls=["innerHTML"],is={class:"panel-details"},rs=I({__name:"DetailsProvider",props:{objFinder:{type:Function},raceName:{}},async setup(e){let l,d;const{iconProps:u,iconsSrc:y}=([l,d]=F(()=>B(e.raceName)),l=await l,d(),l),n=L(null),o=xt(),i=k({get:()=>!!n.value,set:v=>{v||(n.value=null)}});Xe(()=>{o.value&&["bonus","spell","unit","hero","upgrade"].forEach(v=>{var p;if(!o.value||((p=n.value)==null?void 0:p.id)===o.value)return;const r=e.objFinder(v,o.value);r&&(n.value=r)})}),Ce(()=>n.value,v=>o.value=v==null?void 0:v.id);const b=v=>{n.value=v},x=()=>{var v;navigator.clipboard.writeText(((v=n.value)==null?void 0:v.id)||"")};return Q("detailsSet",b),Q("objFinder",e.objFinder),Q("raceName",e.raceName),(v,r)=>{const p=te,c=os,m=Ne;return _(),S(N,null,[t(m,null,{default:a(()=>[t(ht,{modelValue:s(i),"onUpdate:modelValue":r[1]||(r[1]=h=>ee(i)?i.value=h:null),location:"left",temporary:"","disable-resize-watcher":"",elevation:"4",class:"pa-2",width:"400","disable-route-watcher":""},{default:a(()=>[s(n)?(_(),S("div",as,[t(me,{color:"transparent"},{activator:a(({props:h})=>[t(p,ce({src:s(y),coords:s(u)(s(n).id),width:"32"},h,{onClick:x}),null,16,["src","coords"])]),default:a(()=>[E(" ID: "+C(s(n).id),1)]),_:1}),f("span",{innerHTML:s(n).name,class:"text-h6 mx-2"},null,8,ls),t(z,{density:"comfortable",icon:"",flat:"",onClick:r[0]||(r[0]=h=>b(null))},{default:a(()=>[t(Ee,{icon:"$close"})]),_:1})])):T("",!0),f("div",is,[t(c,{item:s(n)},null,8,["item"])])]),_:1},8,["modelValue"])]),_:1}),K(v.$slots,"default",{},void 0,!0)],64)}}}),cs=W(rs,[["__scopeId","data-v-e1fba027"]]),us={class:"text-h6"},ds=["innerHTML"],ms={key:0,class:"text-subtitle-1"},ps={class:"text-yellow"},fs={key:1,class:"text-subtitle-1"},vs={key:0,class:"text-green"},_s=I({__name:"RaceFortress",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=H("hover",L()),d=k(()=>[e.race.t1spell,e.race.t2spell,e.race.ultiData].filter(J)),u=k(()=>e.race.magic.map((n,o)=>({...n,hotkey:fe[o]})).concat(...Object.values(e.race.baseUpgrades))),y=n=>{const o=Object.values(e.race.units).filter(({upgrades:i})=>i==null?void 0:i.includes(n.id)).map(({id:i})=>i);l.value=[n.id,...o]};return(n,o)=>{const i=pe,b=se,x=be,v=ve,r=O,p=re,c=oe;return _(),P(c,{title:"Fortress",class:"d-flex flex-column justify-start","full-height":!1,id:"fortress"},{title:a(()=>[t(i,{"hide-dot":"",item:n.race.buildings.fort[1]},{default:a(()=>[t(z,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:a(()=>o[1]||(o[1]=[f("b",null,"Fortress",-1)])),_:1})]),_:1},8,["item"])]),prependHead:a(()=>[t(b,{key:"fort-attack",class:"ml-1",type:n.race.buildings.fort[1].atkType},null,8,["type"])]),appendHead:a(()=>[t(x,{key:"fort-cost",class:"mr-1",items:s(u)},null,8,["items"])]),default:a(()=>[t(v,{class:"mb-2 mt-n6"},{default:a(()=>o[2]||(o[2]=[f("span",{class:"mx-2 text-caption text-grey"},"Auras",-1)])),_:1}),t(r,{class:"mx-auto",items:n.race.auras},{default:a(({item:m})=>[t(s(R),{item:m,src:n.icons,coords:n.iconProps(m.id),class:j(["selectable-item",{depressed:s(l)&&!s(l).includes(m.id)}])},null,8,["item","src","coords","class"])]),_:1},8,["items"]),t(v,{class:"mb-1"},{default:a(()=>o[3]||(o[3]=[f("span",{class:"mx-2 text-caption text-grey"},"Upgrades",-1)])),_:1}),t(r,{class:"mx-auto",items:s(u)},{default:a(({item:m})=>[t(s(R),{item:m,src:n.icons,coords:!("level"in m)||(m.iconsCount??0)<=1?n.iconProps(m.id,m.iconsCount):n.iconProps(`${m.id}-${m.level}`),class:j(["selectable-item",{depressed:s(l)&&!s(l).includes(m.id)}]),onMouseenter:()=>y(m),onMouseout:o[0]||(o[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),t(v,{class:"mb-1"},{default:a(()=>o[4]||(o[4]=[f("span",{class:"mx-2 text-caption text-grey"},"Skills",-1)])),_:1}),t(r,{class:"mx-auto",items:s(d)},{default:a(({item:m})=>[("isSpellObject"in n?n.isSpellObject:s(Se))(m)?(_(),P(s(R),{key:0,item:m,src:n.icons,coords:n.iconProps(m.id),class:j(["selectable-item",{depressed:s(l)&&!s(l).includes(m.id)}])},null,8,["item","src","coords","class"])):(_(),P(p,{key:1,src:n.icons,coords:n.iconProps(m.id)},{tooltip:a(()=>[f("div",us,[o[5]||(o[5]=E(" Precision UW: ")),f("span",{innerHTML:m.name.replace(/\[.+\]/g,"")},null,8,ds)]),o[8]||(o[8]=f("br",null,null,-1)),"damageTime"in m?(_(),S("div",ms,[o[6]||(o[6]=E(" Time to full damage: ")),f("span",ps,C(m.damageTime==0?"Instant":m.damageTime+"s"),1)])):T("",!0),"stealInterrupt"in m?(_(),S("div",fs,[o[7]||(o[7]=E(" Interrupts mana steal: ")),f("span",{class:j(m.stealInterrupt?"text-green":"text-red")},C(m.stealInterrupt?"Yes":"No"),3),m.fakeStealInterrupt?(_(),S("span",vs," (+ Decoy UW) ")):T("",!0)])):T("",!0)]),_:2},1032,["src","coords"]))]),_:1},8,["items"])]),_:1})}}}),bs=I({__name:"RaceTowers",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=H("hover",L()),d=k(()=>[...(e.race.buildings.tower.skills??[]).map((n,o)=>({...n,hotkey:n.hotkey||fe[o]})),...e.race.towerUpgrades]),u=k(()=>Object.values(e.race.bonuses).reduce((n,{id:o,relatedID:i})=>(i.forEach(b=>{n[b]=o}),n),{})),y=n=>{const o=Object.values(e.race.units).filter(({upgrades:i})=>i==null?void 0:i.includes(n.id)).map(({id:i})=>i);l.value=[n.id,u.value[n.id],...o]};return(n,o)=>{const i=pe,b=se,x=be,v=R,r=O,p=oe;return _(),P(p,{title:"Towers","full-height":!1,class:"d-flex flex-column",id:"upgrades"},{title:a(()=>[t(i,{"hide-dot":"",item:n.race.buildings.tower},{default:a(()=>[t(z,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:a(()=>o[1]||(o[1]=[f("b",null,"Towers",-1)])),_:1})]),_:1},8,["item"])]),prependHead:a(()=>[t(b,{key:"tower-attack",class:"ml-1",type:n.race.buildings.tower.atkType},null,8,["type"])]),appendHead:a(()=>[t(x,{key:"tower-cost",items:n.race.towerUpgrades,count:3},{default:a(()=>o[2]||(o[2]=[E(" Total cost (Lv3) ")])),_:1},8,["items"])]),default:a(()=>[t(r,{class:"mx-auto",items:s(d),"restricted-slots":["Q","W"]},{default:a(({item:c})=>[t(v,{item:c,src:n.icons,coords:n.iconProps(c.id,c.iconsCount),class:j(["selectable-item",{depressed:s(l)&&!s(l).includes(c.id)}]),onMouseenter:()=>y(c),onMouseout:o[0]||(o[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"])]),_:1})}}}),ys={class:"d-flex flex-wrap"},gs=["innerHTML"],xs=I({__name:"RaceBonuses",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=H("hover",L()),d=new Intl.Collator("en").compare,u=k(()=>Object.values(e.race.bonusBuildings).sort(({name:n},{name:o})=>d(n,o))),y=n=>{if(!Te(n)){l.value=[n.id,...e.race.bonuses.filter(({buildingId:i})=>i===n.id).map(({id:i})=>i)].filter(J);return}const o=Object.values(e.race.units).filter(({hotkey:i})=>{var b;return(b=n.units)==null?void 0:b.some(x=>x.hotkey===i)}).map(({id:i})=>i);l.value=[n.id,n.buildingId,...n.relatedID,...o]};return(n,o)=>{const i=R,b=O,x=ve,v=oe;return _(),S("div",{style:Ve({gridRow:`span ${1+Math.floor(s(u).length/5)}`})},[t(v,{title:"Bonuses","full-height":!1,class:"d-flex flex-column align-center justify-start",id:"bonuses"},{title:a(()=>[t(me,{"open-on-click":"","open-on-hover":!1,offset:[-4,0],"close-on-back":"",location:"top",transition:{component:s(rt)}},{activator:a(({props:r})=>[t(z,ce({size:"large",class:"mx-auto",variant:"text",color:"yellow"},r),{default:a(()=>o[2]||(o[2]=[f("b",null,"Bonuses",-1)])),_:2},1040)]),default:a(()=>[o[3]||(o[3]=f("span",null,"There is no easter eggs",-1))]),_:1},8,["transition"])]),default:a(()=>[t(b,{items:n.race.bonuses},{default:a(({item:r})=>[t(i,{item:r,src:n.icons,coords:n.iconProps(r.id),class:j(["selectable-item",{depressed:s(l)&&!s(l).includes(r.id)}]),onMouseenter:()=>y(r),onMouseout:o[0]||(o[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),t(x,{class:"my-1"},{default:a(()=>o[4]||(o[4]=[f("span",{class:"mx-2 text-caption text-grey text-no-wrap"},"Bonus buildings",-1)])),_:1}),f("div",ys,[(_(!0),S(N,null,G(s(u),r=>(_(),P(z,{class:"my-1 mx-2 cursor-default",variant:"text",size:"x-small",active:s(l)&&s(l).includes(r.id),onMouseover:()=>y(r),onMouseout:o[1]||(o[1]=()=>l.value=void 0)},{default:a(()=>[f("span",{innerHTML:r.name},null,8,gs)]),_:2},1032,["active","onMouseover"]))),256))])]),_:1})],4)}}}),hs=I({__name:"RaceBarracks",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=H("hover",L()),d={melee:"A",range:"S",mage:"D",siege:"F",air:"E",catapult:"R"},u=k(()=>Object.entries(e.race.units).map(([o,i])=>({...i,hotkey:d[o]}))),y=k(()=>{var i;return[...((i=e.race.buildings.barrack.find(b=>{var x;return(x=b.skills)==null?void 0:x.length}))==null?void 0:i.skills)??[],...u.value]}),n=o=>{$e(o)&&(l.value=[o.id,...o.upgrades??[]])};return(o,i)=>{const b=pe,x=se,v=ve,r=O,p=oe;return _(),P(p,{title:"Barracks","full-height":!1,class:"d-flex flex-column",id:"units"},{title:a(()=>[t(b,{"hide-dot":"",item:o.race.buildings.barrack[0]},{default:a(()=>[t(z,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:a(()=>i[1]||(i[1]=[f("b",null,"Barracks",-1)])),_:1})]),_:1},8,["item"])]),prependHead:a(()=>[t(x,{key:"barrack-attack",class:"ml-1",type:o.race.buildings.barrack[0].atkType},null,8,["type"])]),default:a(()=>[t(v,{class:"mb-2 mt-n6"},{default:a(()=>i[2]||(i[2]=[f("span",{class:"mx-2 text-caption text-grey"},"Units",-1)])),_:1}),t(r,{class:"mx-auto",items:s(y)},{default:a(({item:c})=>[t(s(R),{item:c,src:o.icons,coords:o.iconProps(c.id),class:j(["selectable-item",{depressed:s(l)&&!s(l).includes(c.id)}]),onMouseenter:()=>n(c),onMouseout:i[0]||(i[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),t(v,{class:"mb-1"},{default:a(()=>i[3]||(i[3]=[f("span",{class:"mx-2 text-caption text-grey"},"Heroes",-1)])),_:1}),t(r,{class:"mx-auto",items:o.race.heroes},{default:a(({item:c})=>[t(s(R),{item:c,src:o.icons,coords:o.iconProps(c.id),class:j(["selectable-item",{depressed:s(l)&&!s(l).includes(c.id)}])},null,8,["item","src","coords","class"])]),_:1},8,["items"])]),_:1})}}}),ks=I({__name:"racePage",async setup(e){let l,d;const u=et(),[y]=[tt().params.race].flat(),{raceData:n,iconProps:o,iconsSrc:i,version:b}=([l,d]=F(()=>B(y)),l=await l,d(),l),x=(c,m)=>{switch(c){case"upgrade":return Object.values(n.baseUpgrades).concat(n.magic).concat(n.towerUpgrades).find(h=>h.id===m);case"unit":return Object.values(n.units).find(h=>h.id===m);case"bonus":return Object.values(n.bonuses).find(h=>h.id===m);case"hero":return n.heroes.find(h=>h.id===m);case"spell":return[n.t1spell,n.t2spell].find(h=>h.id===m);default:return}},v=Ie("iconSize",Pt),r=k(()=>({gridTemplateColumns:`repeat(auto-fill, minmax(${+v.value*5}px, 1fr))`})),p=wt?k(()=>{}):L();return Q("hover",p),u.runWithContext(()=>{_t({title:`${n.name} v${b}`,description:`${n.name} of Survival Chaos v${b}: race info, bonuses, upgrades, units and heroes`,ogDescription:`${n.name} of Survival Chaos v${b}: race info, bonuses, upgrades, units and heroes`}),bt({link:[{rel:"preload",as:"image",href:i}]})}),(c,m)=>{const h=It,g=cs;return _(),S("div",null,[t(h,{class:"mb-2"}),t(g,{"obj-finder":x,"race-name":s(y)},{default:a(()=>[f("div",{class:"race-container",style:Ve(s(r))},[t(kt,{race:s(n),style:{"flex-basis":"300px"}},null,8,["race"]),t(_s,{race:s(n),icons:s(i),"icon-props":s(o)},null,8,["race","icons","icon-props"]),t(bs,{race:s(n),icons:s(i),"icon-props":s(o)},null,8,["race","icons","icon-props"]),t(xs,{race:s(n),icons:s(i),"icon-props":s(o)},null,8,["race","icons","icon-props"]),t(hs,{race:s(n),icons:s(i),"icon-props":s(o)},null,8,["race","icons","icon-props"])],4)]),_:1},8,["race-name"])])}}}),Qs=W(ks,[["__scopeId","data-v-7ec59a90"]]);export{Qs as default};
