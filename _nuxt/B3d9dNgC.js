/* empty css        */import{y as q,r as G,e as J,h as K,V as Q,L as X}from"./DD2x-z_y.js";import{a as Y}from"./DMKteXuo.js";import{a as Z,V as C,f as S,g as ee,m as ae}from"./CILVA7lc.js";import{b as te}from"./Sdb-FYai.js";import{f as se}from"./BEqXSnTe.js";import{W as le,O as oe,a2 as b,r as p,bf as ne,R as P,an as ie,ao as re,h as s,m as _,g as n,n as A,e as R,F as ce,ae as ue,c as F,ah as de,a3 as fe}from"./CWhwJZo3.js";import{u as me}from"./BiLItlEx.js";const be=q("v-spacer","div","VSpacer"),ve=oe({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...ae(),...ee()},"VSwitch"),pe=le()({name:"VSwitch",inheritAttrs:!1,props:ve(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,f){let{attrs:i,slots:a}=f;const r=b(e,"indeterminate"),l=b(e,"modelValue"),{loaderClasses:I}=G(e),{isFocused:M,focus:x,blur:B}=Z(e),k=p(),g=p(),w=ne&&window.matchMedia("(forced-colors: active)").matches,D=P(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),T=ie(),z=P(()=>e.id||`switch-${T}`);function L(){r.value&&(r.value=!1)}function U(c){var u,d;c.stopPropagation(),c.preventDefault(),(d=(u=k.value)==null?void 0:u.input)==null||d.click()}return J(()=>{const[c,u]=re(i),d=C.filterProps(e),N=S.filterProps(e);return s(C,_({ref:g,class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":r.value},I.value,e.class]},c,d,{modelValue:l.value,"onUpdate:modelValue":m=>l.value=m,id:z.value,focused:M.value,style:e.style}),{...a,default:m=>{let{id:E,messagesId:O,isDisabled:$,isReadonly:H,isValid:y}=m;const v={model:l,isValid:y};return s(S,_({ref:k},N,{modelValue:l.value,"onUpdate:modelValue":[o=>l.value=o,L],id:E.value,"aria-describedby":O.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:$.value,readonly:H.value,onFocus:x,onBlur:B},u),{...a,default:o=>{let{backgroundColorClasses:h,backgroundColorStyles:t}=o;return n("div",{class:R(["v-switch__track",w?void 0:h.value]),style:A(t.value),onClick:U},[a["track-true"]&&n("div",{key:"prepend",class:"v-switch__track-true"},[a["track-true"](v)]),a["track-false"]&&n("div",{key:"append",class:"v-switch__track-false"},[a["track-false"](v)])])},input:o=>{let{inputNode:h,icon:t,backgroundColorClasses:W,backgroundColorStyles:j}=o;return n(ce,null,[h,n("div",{class:R(["v-switch__thumb",{"v-switch__thumb--filled":t||e.loading},e.inset||w?void 0:W.value]),style:A(e.inset?void 0:j.value)},[a.thumb?s(K,{defaults:{VIcon:{icon:t,size:"x-small"}}},{default:()=>[a.thumb({...v,icon:t})]}):s(Y,null,{default:()=>[e.loading?s(X,{name:"v-switch",active:!0,color:y.value===!1?void 0:D.value},{default:V=>a.loader?a.loader(V):s(te,{active:V.isActive,color:V.color,indeterminate:!0,size:"16",width:"2"},null)}):t&&s(Q,{key:String(t),icon:t,size:"x-small"},null)]})])])}})}})}),se({},g)}}),Pe=async()=>{const e=ue("statisticMetaCache",()=>({data:null,ts:0})),f=30*60*1e3,i=Date.now();if(e.value.data&&i-e.value.ts<f)return F(()=>e.value.data);const{data:a}=await me("statisticMeta",()=>$fetch("/analytic/meta",{baseURL:de().public.backendUrl}),{server:!1});return fe(()=>{a.value&&(e.value={data:a.value,ts:i})}),F(()=>e.value.data)};export{pe as V,be as a,Pe as u};
