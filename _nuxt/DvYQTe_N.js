import{_ as Ne}from"./DVRH9Lvy.js";import{u as N,_ as be,a as ie}from"./CHI-z2bu.js";import{g as K,p as Y,K as j,b as s,ag as ge,ah as Be,c as k,ai as Oe,Z as ve,L as W,U as Ae,W as Fe,J as I,Y as Ge,aj as ze,j as T,k as B,l as V,q as _,ak as _e,x as o,F as R,B as F,y as t,a9 as C,v as g,C as M,a5 as U,D as P,_ as G,d as L,i as X,al as q,ab as $,z as ee,am as We,an as qe,t as he,m as xe,w as ke,ao as Ze,ac as z,ap as Ke,aq as Je,ar as Qe,as as we,at as Ye,A as ce,af as Xe}from"./DNsqdH4M.js";import{u as Ce}from"./BUJ1d8zp.js";import{b as et,c as tt,V as st,a as oe}from"./7exTEg9z.js";import{a as Pe,m as Ve,b as nt,c as at,V as $e}from"./B9Ibkypy.js";import{a as te,_ as H}from"./BqUFjXuN.js";import{u as re}from"./CA5LY9mX.js";import{a as E,V as ye}from"./1TTjzLHP.js";import{V as ot,I as lt,D as it}from"./BrLReEj5.js";import{u as se,g as de,R as ct,j as Se,n as rt,o as Te,V as Ie,p as dt,q as ut,r as mt,b as De,d as pt,e as ft,a as vt,s as _t}from"./C-4czdrC.js";import{u as yt,m as bt,_ as je,V as Me}from"./DrA2MDB-.js";import{h as He,_ as O}from"./CvRZ2YSF.js";import{u as gt}from"./Cv1nmQUG.js";import{V as ht}from"./C7Yn6RXs.js";import{_ as J}from"./d9WVHPM-.js";import"./o2rTPMl7.js";/* empty css        */const Z=Symbol.for("vuetify:v-expansion-panel"),Re=Y({...de(),...bt()},"VExpansionPanelText"),S=K()({name:"VExpansionPanelText",props:Re(),setup(e,a){let{slots:d}=a;const r=j(Z);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:c,onAfterLeave:n}=yt(e,r.isSelected);return se(()=>s(ot,{onAfterLeave:n},{default:()=>{var i;return[ge(s("div",{class:["v-expansion-panel-text",e.class],style:e.style},[d.default&&c.value&&s("div",{class:"v-expansion-panel-text__wrapper"},[(i=d.default)==null?void 0:i.call(d)])]),[[Be,r.isSelected.value]])]}})),{}}}),Ee=Y({color:String,expandIcon:{type:ve,default:"$expand"},collapseIcon:{type:ve,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...de(),...dt()},"VExpansionPanelTitle"),le=K()({name:"VExpansionPanelTitle",directives:{Ripple:ct},props:Ee(),setup(e,a){let{slots:d}=a;const r=j(Z);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:c,backgroundColorStyles:n}=Se(e,"color"),{dimensionStyles:i}=rt(e),u=k(()=>({collapseIcon:e.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),y=k(()=>r.isSelected.value?e.collapseIcon:e.expandIcon);return se(()=>{var h;return ge(s("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},c.value,e.class],style:[n.value,i.value,e.style],type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:e.readonly?void 0:r.toggle},[s("span",{class:"v-expansion-panel-title__overlay"},null),(h=d.default)==null?void 0:h.call(d,u.value),!e.hideActions&&s(Te,{defaults:{VIcon:{icon:y.value}}},{default:()=>{var m;return[s("span",{class:"v-expansion-panel-title__icon"},[((m=d.actions)==null?void 0:m.call(d,u.value))??s(Ie,null,null)])]}})]),[[Oe("ripple"),e.ripple]])}),{}}}),Le=Y({title:String,text:String,bgColor:String,...ft(),...Ve(),...pt(),...De(),...Ee(),...Re()},"VExpansionPanel"),D=K()({name:"VExpansionPanel",props:Le(),emits:{"group:selected":e=>!0},setup(e,a){let{slots:d}=a;const r=Pe(e,Z),{backgroundColorClasses:c,backgroundColorStyles:n}=Se(e,"bgColor"),{elevationClasses:i}=ut(e),{roundedClasses:u}=mt(e),y=k(()=>(r==null?void 0:r.disabled.value)||e.disabled),h=k(()=>r.group.items.value.reduce((f,p,w)=>(r.group.selected.value.includes(p.id)&&f.push(w),f),[])),m=k(()=>{const f=r.group.items.value.findIndex(p=>p.id===r.id);return!r.isSelected.value&&h.value.some(p=>p-f===1)}),l=k(()=>{const f=r.group.items.value.findIndex(p=>p.id===r.id);return!r.isSelected.value&&h.value.some(p=>p-f===-1)});return W(Z,r),se(()=>{const f=!!(d.text||e.text),p=!!(d.title||e.title),w=le.filterProps(e),x=S.filterProps(e);return s(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":m.value,"v-expansion-panel--after-active":l.value,"v-expansion-panel--disabled":y.value},u.value,c.value,e.class],style:[n.value,e.style]},{default:()=>[s("div",{class:["v-expansion-panel__shadow",...i.value]},null),s(Te,{defaults:{VExpansionPanelTitle:{...w},VExpansionPanelText:{...x}}},{default:()=>{var v;return[p&&s(le,{key:"title"},{default:()=>[d.title?d.title():e.title]}),f&&s(S,{key:"text"},{default:()=>[d.text?d.text():e.text]}),(v=d.default)==null?void 0:v.call(d)]}})]})}),{groupItem:r}}}),xt=["default","accordion","inset","popout"],kt=Y({flat:Boolean,...at(),...ze(Le(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Ge(),...de(),...De(),variant:{type:String,default:"default",validator:e=>xt.includes(e)}},"VExpansionPanels"),ue=K()({name:"VExpansionPanels",props:kt(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:d}=a;const{next:r,prev:c}=nt(e,Z),{themeClasses:n}=Ae(e),i=k(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Fe({VExpansionPanel:{bgColor:I(e,"bgColor"),collapseIcon:I(e,"collapseIcon"),color:I(e,"color"),eager:I(e,"eager"),elevation:I(e,"elevation"),expandIcon:I(e,"expandIcon"),focusable:I(e,"focusable"),hideActions:I(e,"hideActions"),readonly:I(e,"readonly"),ripple:I(e,"ripple"),rounded:I(e,"rounded"),static:I(e,"static")}}),se(()=>s(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},n.value,i.value,e.class],style:e.style},{default:()=>{var u;return[(u=d.default)==null?void 0:u.call(d,{prev:c,next:r})]}})),{next:r,prev:c}}}),wt=K()({name:"VSlideGroupItem",props:Ve(),emits:{"group:selected":e=>!0},setup(e,a){let{slots:d}=a;const r=Pe(e,et);return()=>{var c;return(c=d.default)==null?void 0:c.call(d,{isSelected:r.isSelected.value,select:r.select,toggle:r.toggle,selectedClass:r.selectedClass.value})}}}),Ct=["innerHTML"],Pt=T({__name:"RaceSelectRibbon",async setup(e){let a,d;const r=Ce("iconSize"),{raceData:c,iconProps:n,iconsSrc:i}=([a,d]=B(()=>N("races")),a=await a,d(),a),u=k(()=>Object.values(c).flat());return(y,h)=>{const m=Ne,l=be;return _(),V("div",null,[s(tt,{"model-value":(y._.provides[_e]||y.$route).params.race,"center-active":"","show-arrows":""},{default:o(()=>[(_(!0),V(R,null,F(t(u),f=>(_(),C(wt,{value:f.key,key:f.key},{default:o(({isSelected:p})=>[g("div",{class:M(["race-wrapper",{selected:p}])},[s(l,{coords:t(n)(f.id),src:t(i),description:"",width:t(r)},{tooltip:o(()=>[g("div",{innerHTML:f.name},null,8,Ct)]),default:o(()=>[s(m,{to:{name:"RaceIndex",params:{...(y._.provides[_e]||y.$route).params,race:f.key}}},{default:o(()=>[U(P(f.name),1)]),_:2},1032,["to"])]),_:2},1032,["coords","src","width"])],2)]),_:2},1032,["value"]))),128))]),_:1},8,["model-value"])])}}}),Vt=G(Pt,[["__scopeId","data-v-f1152851"]]),$t={key:0,class:"d-flex row-warp align-center my-1"},St={class:"ml-2 mt-n1"},Tt={class:"ml-2 mt-n1"},It=["innerHTML"],Dt={class:"text-white bg-red mx-2 rounded-lg"},jt={class:"text-white bg-blue mx-2 rounded-lg"},Mt={class:"d-flex align-center"},Ht={class:"ml-2 mt-n1"},Rt={class:"d-flex align-center"},Et={class:"ml-2 mt-n1"},Lt={class:"upgrades-wrapper"},Ut=T({__name:"DetailsUnit",props:{item:{}},async setup(e){let a,d;const r=L(["characteristics","upgrades","items"]),[c,{gold:n,bounty:i,range:u,attackSpeed:y}]=re(),h=j("raceName"),{iconProps:m,iconsSrc:l}=([a,d]=B(()=>N(h)),a=await a,d(),a),f=j("objFinder"),p=k(()=>!isNaN(Number(e.item.hpReg))),w=k(()=>!isNaN(Number(e.item.mpReg))),x=k(()=>{var v;return(v=e.item.upgrades)==null?void 0:v.map(b=>f("upgrade",b)).filter(X)});return(v,b)=>{var fe;const Q=be,pe=te,Ue=H;return _(),V(R,null,[q(v.$slots,"fullname",{},void 0,!0),(fe=v.item.tags)!=null&&fe.length?(_(),V("div",$t,[b[1]||(b[1]=g("div",{class:"text-subtitle-2"},"Tags:",-1)),(_(!0),V(R,null,F(v.item.tags,A=>(_(),C(st,{class:"ma-1 mr-0",density:"compact",size:"small"},{default:o(()=>[U(P(A),1)]),_:2},1024))),256))])):$("",!0),s(ye,{class:"my-1"},{default:o(()=>[s(E,{cols:"6",class:"d-flex align-center py-0"},{default:o(()=>[s(Q,{src:t(c),coords:t(n),width:"32",description:"Cost"},null,8,["src","coords"]),g("span",St,P(v.item.cost),1)]),_:1}),s(E,{cols:"6",class:"d-flex align-center py-0"},{default:o(()=>[s(Q,{src:t(c),coords:t(i),width:"32",description:"Kill bounty"},null,8,["src","coords"]),g("span",Tt,P(v.item.bounty),1)]),_:1})]),_:1}),s(ue,{elevation:"0",static:"",tile:"",multiple:"",modelValue:t(r),"onUpdate:modelValue":b[0]||(b[0]=A=>ee(r)?r.value=A:null)},{default:o(()=>{var A;return[v.item.description?(_(),C(D,{key:0,title:"Description",value:"description"},{default:o(()=>[s(S,null,{default:o(()=>[g("div",{class:"text-body-2",innerHTML:v.item.description},null,8,It)]),_:1})]),_:1})):$("",!0),q(v.$slots,"heroItems",{},void 0,!0),s(D,{title:"Characteristics",value:"characteristics"},{default:o(()=>[s(S,null,{default:o(()=>[s(ye,{class:"my-1"},{default:o(()=>[s(E,{cols:"6",class:"text-center pt-0"},{default:o(()=>[g("div",Dt,[g("b",null,P(v.item.hp),1),t(p)?(_(),V(R,{key:0},[U(" +"+P(v.item.hpReg)+"/sec",1)],64)):$("",!0)])]),_:1}),s(E,{cols:"6",class:"text-center pt-0"},{default:o(()=>[g("div",jt,[g("b",null,P(v.item.mp),1),t(w)?(_(),V(R,{key:0},[U(" +"+P(v.item.mpReg)+"/sec",1)],64)):$("",!0)])]),_:1}),s(E,{cols:"6",class:"py-0"},{default:o(()=>[s(pe,{type:v.item.atkType,value:v.item.atk},null,8,["type","value"]),g("div",Mt,[s(Q,{src:t(c),coords:t(u),width:"32",description:"Attack range"},null,8,["src","coords"]),g("span",Ht,P(v.item.atkRange)+P(v.item.weaponType==="normal"?" (melee)":""),1)]),g("div",Rt,[s(Q,{src:t(c),coords:t(y),width:"32",description:"Attack speed"},null,8,["src","coords"]),g("span",Et,P(v.item.atkSpeed),1)])]),_:1}),s(E,{cols:"6",class:"py-0"},{default:o(()=>[s(pe,{type:v.item.defType,value:v.item.def,"is-defend":""},null,8,["type","value"])]),_:1}),q(v.$slots,"attributes",{},void 0,!0)]),_:3})]),_:3})]),_:3}),(A=t(x))!=null&&A.length?(_(),C(D,{key:1,title:"Upgrades used",value:"upgrades"},{default:o(()=>[s(S,null,{default:o(()=>[g("div",Lt,[(_(!0),V(R,null,F(t(x),ae=>(_(),C(Ue,{item:ae,src:t(l),coords:t(m)(ae.id,ae.iconsCount)},null,8,["item","src","coords"]))),256))])]),_:1})]),_:1})):$("",!0)]}),_:3},8,["modelValue"])],64)}}}),ne=G(Ut,[["__scopeId","data-v-f314cd24"]]),Nt=["innerHTML"],Bt={class:"d-flex justify-center"},Ot=T({__name:"DetailsHero",props:{item:{}},async setup(e){let a,d;const r=j("raceName"),{iconProps:c,iconsSrc:n}=([a,d]=B(()=>N(r)),a=await a,d(),a),[i,{str:u,int:y,agi:h}]=re(),m=k(()=>{if(!e.item.items)return[];const l=e.item.items.map(({level:p})=>p);if(!(l!=null&&l.length))return[];const f=l.filter(We).sort((p,w)=>p-w).reduce((p,w,x)=>(p[w]=He[x],p),{});return e.item.items.map(p=>({...p,hotkey:f[p.level]}))});return(l,f)=>{const p=ie,w=H,x=O,v=ne;return _(),C(v,{item:l.item},{fullname:o(()=>[g("div",{innerHTML:l.item.fullName,class:"text-center text-subtitle-1"},null,8,Nt)]),attributes:o(()=>[s(E,{cols:"4",class:"text-center pb-0"},{default:o(()=>[s(p,{width:"32",src:t(i),coords:t(u),padding:[0,8,8,0]},null,8,["src","coords"]),g("div",{class:M({"text-yellow":l.item.stat==="str","font-bold":l.item.stat==="str"})},P(l.item.str)+"+"+P(l.item.strLvl),3)]),_:1}),s(E,{cols:"4",class:"text-center pb-0"},{default:o(()=>[s(p,{width:"32",src:t(i),coords:t(h),padding:[0,8,8,0]},null,8,["src","coords"]),g("div",{class:M({"text-yellow":l.item.stat==="agi","font-bold":l.item.stat==="agi"})},P(l.item.agi)+"+"+P(l.item.agiLvl),3)]),_:1}),s(E,{cols:"4",class:"text-center pb-0"},{default:o(()=>[s(p,{width:"32",src:t(i),coords:t(y),padding:[0,8,8,0]},null,8,["src","coords"]),g("div",{class:M({"text-yellow":l.item.stat==="int","font-bold":l.item.stat==="int"})},P(l.item.int)+"+"+P(l.item.intLvl),3)]),_:1})]),heroItems:o(()=>[t(m).length?(_(),C(D,{key:0,title:"Hero items",value:"items"},{default:o(()=>[s(S,null,{default:o(()=>[g("div",Bt,[s(x,{items:t(m),size:.75},{default:o(({item:b})=>[s(w,{src:t(n),coords:t(c)(b.id),item:b},null,8,["src","coords","item"])]),_:1},8,["items"])])]),_:1})]),_:1})):$("",!0)]),_:1},8,["item"])}}}),At=G(Ot,[["__scopeId","data-v-dc1de915"]]),Ft=["innerHTML"],Gt={class:"d-flex justify-center"},zt={class:"d-flex justify-center"},Wt=T({__name:"DetailsUpgrade",props:{item:{}},async setup(e){let a,d;const r=L(["spells","summons","affects"]),c=j("raceName"),{raceData:n,iconProps:i,iconsSrc:u}=([a,d]=B(()=>N(c)),a=await a,d(),a),y=k(()=>{var l;return((l=e.item.spells)==null?void 0:l.map(f=>f.summonUnit).flat().filter(X).filter(qe))??[]}),h=k(()=>e.item.spells),m=k(()=>{const l=Object.values(n.units).filter(({upgrades:p})=>p==null?void 0:p.includes(e.item.id)),f=n.bonuses.map(({units:p})=>p??[]).flat().filter(({upgrades:p})=>p==null?void 0:p.includes(e.item.id)).map(p=>{var x;const w=((x=n.bonuses.find(({units:v})=>v==null?void 0:v.some(({id:b})=>b===p.id)))==null?void 0:x.id)??"";return{...p,id:w}});return[...l,...f]});return(l,f)=>{const p=H,w=O,x=ne;return _(),C(ue,{elevation:"0",static:"",tile:"",multiple:"",modelValue:t(r),"onUpdate:modelValue":f[0]||(f[0]=v=>ee(r)?r.value=v:null)},{default:o(()=>{var v;return[l.item.description?(_(),C(D,{key:0,title:"Description",value:"description"},{default:o(()=>[s(S,null,{default:o(()=>[g("div",{class:"text-body-2",innerHTML:l.item.description},null,8,Ft)]),_:1})]),_:1})):$("",!0),(v=t(h))!=null&&v.length?(_(),C(D,{key:1,title:"Spells",value:"spells"},{default:o(()=>[s(S,null,{default:o(()=>[g("div",Gt,[s(w,{items:t(h),"disable-details":"","skip-hotkey":""},{default:o(({item:b})=>[s(p,{item:b,src:t(u),coords:t(i)(b.id,b.iconsCount)},null,8,["item","src","coords"])]),_:1},8,["items"])])]),_:1})]),_:1})):$("",!0),(_(!0),V(R,null,F(t(y),b=>(_(),C(D,{title:`Summon: ${b.name}`,value:`summon-${b.id}`},{default:o(()=>[s(S,null,{default:o(()=>[s(x,{item:b},null,8,["item"])]),_:2},1024)]),_:2},1032,["title","value"]))),256)),t(m).length?(_(),C(D,{key:2,title:"Affects",value:"affects"},{default:o(()=>[s(S,null,{default:o(()=>[g("div",zt,[s(w,{items:t(m),"disable-details":"","skip-hotkey":""},{default:o(({item:b})=>[s(p,{item:b,src:t(u),coords:t(i)(b.id,b.iconsCount)},null,8,["item","src","coords"])]),_:1},8,["items"])])]),_:1})]),_:1})):$("",!0)]}),_:1},8,["modelValue"])}}}),qt=T({__name:"DetailsSpell",props:{item:{}},setup(e){return(a,d)=>(_(),V("div"))}}),Zt={class:"cost"},Kt=T({__name:"CombineCost",props:{items:{},count:{}},setup(e){const[a,{gold:d}]=re(),r=k(()=>he(e.items).reduce((c,{cost:n})=>{var i;return c+((i=n??[])==null?void 0:i.slice(0,e.count).reduce((u,y)=>u+(y??0),0))},0));return(c,n)=>{const i=ie,u=je;return _(),C(u,null,{default:o(()=>[s(Me,{location:"top"},{activator:o(({props:y})=>[g("div",xe({class:"d-flex align-center"},y),[s(i,{src:t(a),coords:t(d),width:"16"},null,8,["src","coords"]),g("span",Zt,P(t(r)),1)],16)]),default:o(()=>[q(c.$slots,"default",{},()=>[n[0]||(n[0]=U("Total cost"))],!0)]),_:3})]),_:3})}}}),me=G(Kt,[["__scopeId","data-v-1bade672"]]),Jt=["innerHTML"],Qt={class:"d-flex justify-center"},Yt={class:"d-flex justify-center"},Xt=T({__name:"DetailsBonus",props:{item:{}},async setup(e){let a,d;const r=j("objFinder"),c=j("raceName"),{iconProps:n,iconsSrc:i}=([a,d]=B(()=>N(c)),a=await a,d(),a),u=L(["grid","opens"]);ke(()=>e.item,l=>{var f;u.value=["grid"].concat(((f=l.units)==null?void 0:f.map(({id:p})=>`unit-${p}`))??[])});const y=k(()=>{var l;return(((l=e.item.spells)==null?void 0:l.length)??0)>1?!0:[e.item.units,e.item.upgrades].some(f=>!!(f!=null&&f.length))}),h=k(()=>[...(e.item.spells??[]).filter(({name:l})=>!!l),...e.item.upgrades??[]]),m=k(()=>e.item.relatedID.map(l=>r("upgrade",l)).filter(X));return(l,f)=>{const p=me,w=H,x=O,v=ne;return _(),C(ue,{elevation:"0",static:"",tile:"",multiple:"",modelValue:t(u),"onUpdate:modelValue":f[0]||(f[0]=b=>ee(u)?u.value=b:null)},{default:o(()=>[l.item.description?(_(),C(D,{key:0,title:"Description",value:"description"},{default:o(()=>[s(S,null,{default:o(()=>[g("div",{class:"text-body-2",innerHTML:l.item.description},null,8,Jt)]),_:1})]),_:1})):$("",!0),t(y)&&t(h).length?(_(),C(D,{key:1,value:"grid"},{default:o(()=>[s(le,{width:"100%",class:"d-flex"},{default:o(()=>[f[2]||(f[2]=g("span",{class:"mr-auto"},"Bonus spells/upgrades",-1)),s(p,{items:l.item.upgrades??[]},{default:o(()=>f[1]||(f[1]=[U(" Total cost ")])),_:1},8,["items"])]),_:1}),s(S,null,{default:o(()=>[g("div",Qt,[t(y)&&t(h).length?(_(),C(x,{key:0,items:t(h),"disable-details":"","show-empty":""},{default:o(({item:b})=>[s(w,{src:t(i),coords:t(n)(b.id,b.iconsCount),item:b},null,8,["src","coords","item"])]),_:1},8,["items"])):$("",!0)])]),_:1})]),_:1})):$("",!0),(_(!0),V(R,null,F(l.item.units,b=>(_(),C(D,{title:`Unit: ${b.name}`,value:`unit-${b.id}`},{default:o(()=>[s(S,null,{default:o(()=>[s(v,{item:b},null,8,["item"])]),_:2},1024)]),_:2},1032,["title","value"]))),256)),t(m).length?(_(),C(D,{key:2,title:"Unlocked upgrades",value:"opens"},{default:o(()=>[s(S,null,{default:o(()=>[g("div",Yt,[s(x,{items:t(m),"disable-details":"","skip-hotkey":""},{default:o(({item:b})=>[s(w,{src:t(i),coords:t(n)(b.id,b.iconsCount),item:b},null,8,["src","coords","item"])]),_:1},8,["items"])])]),_:1})]),_:1})):$("",!0)]),_:1},8,["modelValue"])}}}),es=({item:e})=>{const a=he(e);if(a){if(Ze(a))return z(ne,{item:a});if(Ke(a))return z(At,{item:a});if(Je(a))return z(Wt,{item:a});if(Qe(a))return z(qt,{item:a});if(we(a))return z(Xt,{item:a})}},ts={key:0,class:"d-flex align-center justify-space-between panel-header pb-2 elevation-1 mb-2"},ss=["innerHTML"],ns={class:"panel-details"},as=T({__name:"DetailsProvider",props:{objFinder:{type:Function},raceName:{}},async setup(e){let a,d;const{iconProps:r,iconsSrc:c}=([a,d]=B(()=>N(e.raceName)),a=await a,d(),a),n=L(null),i=gt(),u=k({get:()=>!!n.value,set:m=>{m||(n.value=null)}});Ye(()=>{i.value&&["bonus","spell","unit","hero","upgrade"].forEach(m=>{var f;if(!i.value||((f=n.value)==null?void 0:f.id)===i.value)return;const l=e.objFinder(m,i.value);l&&(n.value=l)})}),ke(()=>n.value,m=>i.value=m==null?void 0:m.id);const y=m=>{n.value=m},h=()=>{var m;navigator.clipboard.writeText(((m=n.value)==null?void 0:m.id)||"")};return W("detailsSet",y),W("objFinder",e.objFinder),W("raceName",e.raceName),(m,l)=>{const f=ie,p=es,w=je;return _(),V(R,null,[s(w,null,{default:o(()=>[s(ht,{modelValue:t(u),"onUpdate:modelValue":l[1]||(l[1]=x=>ee(u)?u.value=x:null),location:"left",temporary:"","disable-resize-watcher":"",elevation:"4",class:"pa-2",width:"400","disable-route-watcher":""},{default:o(()=>[t(n)?(_(),V("div",ts,[s(Me,{color:"transparent"},{activator:o(({props:x})=>[s(f,xe({src:t(c),coords:t(r)(t(n).id),width:"32"},x,{onClick:h}),null,16,["src","coords"])]),default:o(()=>[U(" ID: "+P(t(n).id),1)]),_:1}),g("span",{innerHTML:t(n).name,class:"text-h6 mx-2"},null,8,ss),s($e,{density:"comfortable",icon:"",flat:"",onClick:l[0]||(l[0]=x=>y(null))},{default:o(()=>[s(Ie,{icon:"$close"})]),_:1})])):$("",!0),g("div",ns,[s(p,{item:t(n)},null,8,["item"])])]),_:1},8,["modelValue"])]),_:1}),q(m.$slots,"default",{},void 0,!0)],64)}}}),os=G(as,[["__scopeId","data-v-e1fba027"]]),ls=["innerHTML"],is=["innerHTML"],cs=T({__name:"RaceDescription",props:{race:{}},setup(e){const a=k(()=>e.race.description.replace(new RegExp(String.raw`^\s*?<span[^>]*?>.*?${e.race.name}.*?<\/span>`,"si"),"").replace(/\s+?(?:<br\s?\/?>)*/,"")),d=k(()=>(e.race.description.match(new RegExp(String.raw`#[a-zA-Z0-9]{6,8}(?=[^<]*?(?:${e.race.name}))`))??["white"])[0]);return(r,c)=>{const n=J;return _(),C(n,{title:"",id:"details",style:{"grid-row":"span 3"}},{title:o(()=>[g("h1",{class:"text-wrap text-h3",style:ce({color:t(d)}),innerHTML:r.race.name},null,12,ls)]),default:o(()=>[g("div",{innerHTML:t(a)},null,8,is)]),_:1})}}}),rs=T({__name:"RaceFortress",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const a=j("hover",L()),d=k(()=>{const n=[e.race.t1spell,e.race.t2spell];return e.race.ultimateId&&n.push({type:"spell",hotkey:"V",id:e.race.ultimateId,name:"Precision UW Icon",description:""}),n}),r=k(()=>e.race.magic.map((n,i)=>({...n,hotkey:He[i]})).concat(...Object.values(e.race.baseUpgrades))),c=n=>{const i=Object.values(e.race.units).filter(({upgrades:u})=>u==null?void 0:u.includes(n.id)).map(({id:u})=>u);a.value=[n.id,...i]};return(n,i)=>{const u=te,y=me,h=O,m=J;return _(),C(m,{title:"Fortress",class:"d-flex flex-column justify-start",style:{"grid-row":"span 2"},"full-height":!1,id:"fortress"},{prependHead:o(()=>[s(u,{key:"fort-attack",class:"ml-1",type:n.race.buildings.fort.atkType},null,8,["type"])]),appendHead:o(()=>[s(y,{key:"fort-cost",class:"mr-1",items:t(r)},null,8,["items"])]),default:o(()=>[s(h,{class:"mx-auto",items:n.race.auras},{default:o(({item:l})=>[s(t(H),{item:l,src:n.icons,coords:n.iconProps(l.id),class:M(["selectable-item",{depressed:t(a)&&!t(a).includes(l.id)}])},null,8,["item","src","coords","class"])]),_:1},8,["items"]),s(oe,{class:"my-3 w-100"}),s(h,{class:"mx-auto",items:t(r)},{default:o(({item:l})=>[s(t(H),{item:l,src:n.icons,coords:!("level"in l)||(l.iconsCount??0)<=1?n.iconProps(l.id,l.iconsCount):n.iconProps(`${l.id}-${l.level}`),class:M(["selectable-item",{depressed:t(a)&&!t(a).includes(l.id)}]),onMouseenter:()=>c(l),onMouseout:i[0]||(i[0]=()=>a.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),s(oe,{class:"my-3 w-100"}),s(h,{class:"mx-auto",items:t(d)},{default:o(({item:l})=>[s(t(H),{item:l,src:n.icons,coords:n.iconProps(l.id),class:M(["selectable-item",{depressed:t(a)&&!t(a).includes(l.id)}])},null,8,["item","src","coords","class"])]),_:1},8,["items"])]),_:1})}}}),ds=T({__name:"RaceTowers",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const a=j("hover",L());k(()=>Object.fromEntries(e.race.towerUpgrades.map(c=>[c.id,c])));const d=k(()=>Object.values(e.race.bonuses).reduce((c,{id:n,relatedID:i})=>(i.forEach(u=>{c[u]=n}),c),{})),r=c=>{const n=Object.values(e.race.units).filter(({upgrades:i})=>i==null?void 0:i.includes(c.id)).map(({id:i})=>i);a.value=[c.id,d.value[c.id],...n]};return(c,n)=>{const i=te,u=me,y=H,h=O,m=J;return _(),C(m,{title:"Towers","full-height":!1,class:"d-flex flex-column",style:{"grid-row":"span 2"},id:"upgrades"},{prependHead:o(()=>[s(i,{key:"tower-attack",class:"ml-1",type:c.race.buildings.tower.atkType},null,8,["type"])]),appendHead:o(()=>[s(u,{key:"tower-cost",items:c.race.towerUpgrades,count:3},{default:o(()=>n[1]||(n[1]=[U(" Total cost (Lv3) ")])),_:1},8,["items"])]),default:o(()=>[s(h,{class:"mx-auto",items:c.race.towerUpgrades,restrictedSlots:["Q","W"]},{default:o(({item:l})=>[s(y,{item:l,src:c.icons,coords:c.iconProps(l.id,l.iconsCount),class:M(["selectable-item",{depressed:t(a)&&!t(a).includes(l.id)}]),onMouseenter:()=>r(l),onMouseout:n[0]||(n[0]=()=>a.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"])]),_:1})}}}),us={class:"d-flex flex-wrap"},ms=["innerHTML"],ps=T({__name:"RaceBonuses",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const a=j("hover",L()),d=new Intl.Collator("en").compare,r=k(()=>Object.values(e.race.bonusBuildings).sort(({name:n},{name:i})=>d(n,i))),c=n=>{if(!we(n)){a.value=[n.id,...e.race.bonuses.filter(({buildingId:u})=>u===n.id).map(({id:u})=>u)].filter(X);return}const i=Object.values(e.race.units).filter(({hotkey:u})=>{var y;return(y=n.units)==null?void 0:y.some(h=>h.hotkey===u)}).map(({id:u})=>u);a.value=[n.id,n.buildingId,...n.relatedID,...i]};return(n,i)=>{const u=H,y=O,h=J;return _(),C(h,{title:"Bonuses","full-height":!1,class:"d-flex flex-column align-center justify-start",style:ce({gridRow:`span ${2+Math.floor(t(r).length/4)}`}),id:"bonuses"},{default:o(()=>[s(y,{items:n.race.bonuses},{default:o(({item:m})=>[s(u,{item:m,src:n.icons,coords:n.iconProps(m.id),class:M(["selectable-item",{depressed:t(a)&&!t(a).includes(m.id)}]),onMouseenter:()=>c(m),onMouseout:i[0]||(i[0]=()=>a.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),i[2]||(i[2]=g("div",{class:"my-2 text-h6"},"Buildings",-1)),g("div",us,[(_(!0),V(R,null,F(t(r),m=>(_(),C($e,{class:"my-1 mx-2 cursor-default",variant:"text",size:"x-small",active:t(a)&&t(a).includes(m.id),onMouseover:()=>c(m),onMouseout:i[1]||(i[1]=()=>a.value=void 0)},{default:o(()=>[g("span",{innerHTML:m.name},null,8,ms)]),_:2},1032,["active","onMouseover"]))),256))])]),_:1},8,["style"])}}}),fs=T({__name:"RaceBarracks",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const a=j("hover",L()),d={melee:"A",range:"S",mage:"D",siege:"F",air:"E",catapult:"R"},r=k(()=>Object.entries(e.race.units).map(([n,i])=>({...i,hotkey:d[n]}))),c=n=>{a.value=[n.id,...n.upgrades??[]]};return(n,i)=>{const u=te,y=O,h=J;return _(),C(h,{title:"Barracks","full-height":!1,class:"d-flex flex-column",style:{"grid-row":"span 2"},id:"units"},{prependHead:o(()=>[s(u,{key:"barrack-attack",class:"ml-1",type:n.race.buildings.barrack.atkType},null,8,["type"])]),default:o(()=>[s(y,{class:"mx-auto",items:t(r)},{default:o(({item:m})=>[s(t(H),{item:m,src:n.icons,coords:n.iconProps(m.id),class:M(["selectable-item",{depressed:t(a)&&!t(a).includes(m.id)}]),onMouseenter:()=>c(m),onMouseout:i[0]||(i[0]=()=>a.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),s(oe,{class:"my-3 w-100"}),s(y,{class:"mx-auto",items:n.race.heroes},{default:o(({item:m})=>[s(t(H),{item:m,src:n.icons,coords:n.iconProps(m.id),class:M(["selectable-item",{depressed:t(a)&&!t(a).includes(m.id)}])},null,8,["item","src","coords","class"])]),_:1},8,["items"])]),_:1})}}}),vs=T({__name:"[race]",async setup(e){let a,d;const[r]=[Xe().params.race].flat(),{raceData:c,iconProps:n,iconsSrc:i,version:u,versionType:y}=([a,d]=B(()=>N(r)),a=await a,d(),a),h=(p,w)=>{switch(p){case"upgrade":return Object.values(c.baseUpgrades).concat(c.magic).concat(c.towerUpgrades).find(x=>x.id===w);case"unit":return Object.values(c.units).find(x=>x.id===w);case"bonus":return Object.values(c.bonuses).find(x=>x.id===w);case"hero":return c.heroes.find(x=>x.id===w);case"spell":return[c.t1spell,c.t2spell].find(x=>x.id===w);default:return}},m=Ce("iconSize",it),l=k(()=>({gridTemplateColumns:`repeat(auto-fill, minmax(${+m.value*5}px, 1fr))`})),f=lt?k(()=>{}):L();return W("hover",f),vt({title:`${c.name} v${u}`,description:`${c.name} of Survival Chaos v${u}: race info, bonuses, upgrades, units and heroes`,ogDescription:`${c.name} of Survival Chaos v${u}: race info, bonuses, upgrades, units and heroes`}),_t({link:[{rel:"preload",as:"image",href:i}]}),(p,w)=>{const x=Vt,v=os;return _(),V("div",null,[s(x,{style:{"grid-column":"1 / -1"}}),s(v,{"obj-finder":h,"race-name":t(r)},{default:o(()=>[g("div",{class:"race-container",style:ce(t(l))},[s(cs,{race:t(c),style:{"flex-basis":"300px"}},null,8,["race"]),s(rs,{race:t(c),icons:t(i),"icon-props":t(n)},null,8,["race","icons","icon-props"]),s(ds,{race:t(c),icons:t(i),"icon-props":t(n)},null,8,["race","icons","icon-props"]),s(ps,{race:t(c),icons:t(i),"icon-props":t(n)},null,8,["race","icons","icon-props"]),s(fs,{race:t(c),icons:t(i),"icon-props":t(n)},null,8,["race","icons","icon-props"])],4)]),_:1},8,["race-name"])])}}}),Hs=G(vs,[["__scopeId","data-v-9e206925"]]);export{Hs as default};
