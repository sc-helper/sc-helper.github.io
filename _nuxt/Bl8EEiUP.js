import{_ as Fe}from"./Z0pdRKN3.js";import{u as L,_ as re}from"./BCuPekwb.js";import{U as Z,M as ee,i as R,h as s,X as $e,Y as Oe,g as f,n as z,e as V,c as h,P as I,aC as he,C as Y,ay as Ae,aA as Ge,aB as We,aJ as ze,d as j,af as F,a as T,o as x,aM as ke,w as n,F as U,b as G,u as t,q as w,l as H,p as $,_ as q,r as B,j as X,G as J,f as S,B as te,aN as qe,aO as Qe,t as Ce,m as ue,D as Te,aP as Se,E as Q,aQ as Ye,aR as Je,aS as Ve,aT as Ie,a2 as Ke,s as Xe,v as Ze}from"./CpASVsld.js";import{u as De}from"./DWs2N1-D.js";import{a as et,b as tt}from"./BLOOcTul.js";import{V as st}from"./BK4tcZki.js";import{_ as se}from"./CrAp81TQ.js";import{a as ne}from"./pnW8AVN1.js";import{_ as E}from"./BDYflCL4.js";import{u as de}from"./CVZVDv51.js";import{a as N,V as we}from"./DQcOQud2.js";import{b as nt,V as at}from"./7OWxteys.js";import{e as ae,f as me,R as Pe,d as je,v as ot,h as Me,w as lt,V as Re,b as it,g as ct,n as He,a as rt,m as ut,u as dt,x as mt}from"./QHzvd-pa.js";import{u as ft,m as pt,_ as Ee,V as fe}from"./CAS_QTLV.js";import{u as vt,c as xt,d as _t,e as bt,V as W}from"./QzTA3qlH.js";import{_ as O,a as pe}from"./DGwm90v2.js";import{h as ve}from"./Dd2277SN.js";import{u as yt}from"./DVULURKS.js";import{V as gt}from"./D6-ng4Lm.js";import{a as xe,_ as ht}from"./CS7WzA1Y.js";import{_ as oe}from"./DEfcG7w3.js";import{I as kt,D as wt}from"./DYmvtetA.js";import"./CRhFt9kF.js";import"./DbYZnSlv.js";/* empty css        */import"./CHrc76zG.js";import"./DWKbNNRz.js";const K=Symbol.for("vuetify:v-expansion-panel"),Ue=ee({...me(),...pt()},"VExpansionPanelText"),D=Z()({name:"VExpansionPanelText",props:Ue(),setup(e,l){let{slots:u}=l;const r=R(K);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:b,onAfterLeave:o}=ft(e,r.isSelected);return ae(()=>s(nt,{onAfterLeave:o},{default:()=>{var a;return[$e(f("div",{class:V(["v-expansion-panel-text",e.class]),style:z(e.style)},[u.default&&b.value&&f("div",{class:"v-expansion-panel-text__wrapper"},[(a=u.default)==null?void 0:a.call(u)])]),[[Oe,r.isSelected.value]])]}})),{}}}),Ne=ee({color:String,expandIcon:{type:he,default:"$expand"},collapseIcon:{type:he,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...me(),...lt()},"VExpansionPanelTitle"),ce=Z()({name:"VExpansionPanelTitle",directives:{vRipple:Pe},props:Ne(),setup(e,l){let{slots:u}=l;const r=R(K);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:b,backgroundColorStyles:o}=je(()=>e.color),{dimensionStyles:a}=ot(e),i=h(()=>({collapseIcon:e.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),_=I(()=>r.isSelected.value?e.collapseIcon:e.expandIcon);return ae(()=>{var y;return $e(f("button",{class:V(["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},b.value,e.class]),style:z([o.value,a.value,e.style]),type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:e.readonly?void 0:r.toggle},[f("span",{class:"v-expansion-panel-title__overlay"},null),(y=u.default)==null?void 0:y.call(u,i.value),!e.hideActions&&s(Me,{defaults:{VIcon:{icon:_.value}}},{default:()=>{var v;return[f("span",{class:"v-expansion-panel-title__icon"},[((v=u.actions)==null?void 0:v.call(u,i.value))??s(Re,null,null)])]}})]),[[Pe,e.ripple]])}),{}}}),Be=ee({title:String,text:String,bgColor:String,...ut(),...xt(),...rt(),...He(),...Ne(),...Ue()},"VExpansionPanel"),M=Z()({name:"VExpansionPanel",props:Be(),emits:{"group:selected":e=>!0},setup(e,l){let{slots:u}=l;const r=vt(e,K),{backgroundColorClasses:b,backgroundColorStyles:o}=je(()=>e.bgColor),{elevationClasses:a}=it(e),{roundedClasses:i}=ct(e),_=I(()=>(r==null?void 0:r.disabled.value)||e.disabled),y=h(()=>r.group.items.value.reduce((p,c,m)=>(r.group.selected.value.includes(c.id)&&p.push(m),p),[])),v=h(()=>{const p=r.group.items.value.findIndex(c=>c.id===r.id);return!r.isSelected.value&&y.value.some(c=>c-p===1)}),d=h(()=>{const p=r.group.items.value.findIndex(c=>c.id===r.id);return!r.isSelected.value&&y.value.some(c=>c-p===-1)});return Y(K,r),ae(()=>{const p=!!(u.text||e.text),c=!!(u.title||e.title),m=ce.filterProps(e),g=D.filterProps(e);return s(e.tag,{class:V(["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":v.value,"v-expansion-panel--after-active":d.value,"v-expansion-panel--disabled":_.value},i.value,b.value,e.class]),style:z([o.value,e.style])},{default:()=>[f("div",{class:V(["v-expansion-panel__shadow",...a.value])},null),s(Me,{defaults:{VExpansionPanelTitle:{...m},VExpansionPanelText:{...g}}},{default:()=>{var P;return[c&&s(ce,{key:"title"},{default:()=>[u.title?u.title():e.title]}),p&&s(D,{key:"text"},{default:()=>[u.text?u.text():e.text]}),(P=u.default)==null?void 0:P.call(u)]}})]})}),{groupItem:r}}}),Pt=["default","accordion","inset","popout"],$t=ee({flat:Boolean,...bt(),...ze(Be(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...We(),...me(),...He(),variant:{type:String,default:"default",validator:e=>Pt.includes(e)}},"VExpansionPanels"),_e=Z()({name:"VExpansionPanels",props:$t(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:u}=l;const{next:r,prev:b}=_t(e,K),{themeClasses:o}=Ae(e),a=I(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Ge({VExpansionPanel:{bgColor:I(()=>e.bgColor),collapseIcon:I(()=>e.collapseIcon),color:I(()=>e.color),eager:I(()=>e.eager),elevation:I(()=>e.elevation),expandIcon:I(()=>e.expandIcon),focusable:I(()=>e.focusable),hideActions:I(()=>e.hideActions),readonly:I(()=>e.readonly),ripple:I(()=>e.ripple),rounded:I(()=>e.rounded),static:I(()=>e.static)}}),ae(()=>s(e.tag,{class:V(["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},o.value,a.value,e.class]),style:z(e.style)},{default:()=>{var i;return[(i=u.default)==null?void 0:i.call(u,{prev:b,next:r})]}})),{next:r,prev:b}}}),Ct=["innerHTML"],Tt=j({__name:"RaceSelectRibbon",async setup(e){let l,u;const r=De("iconSize"),{raceData:b,iconProps:o,iconsSrc:a}=([l,u]=F(()=>L("races")),l=await l,u(),l),i=h(()=>Object.values(b).flat());return(_,y)=>{const v=Fe,d=re;return x(),T("div",null,[s(et,{"model-value":(_._.provides[ke]||_.$route).params.race,"center-active":"","show-arrows":""},{default:n(()=>[(x(!0),T(U,null,G(t(i),p=>(x(),w(st,{value:p.key,key:p.key},{default:n(({isSelected:c})=>[f("div",{class:V(["race-wrapper",{selected:c}])},[s(d,{coords:t(o)(p.id),src:t(a),description:"",width:t(r)},{tooltip:n(()=>[f("div",{innerHTML:p.name},null,8,Ct)]),default:n(()=>[s(v,{to:{name:"RaceIndex",params:{...(_._.provides[ke]||_.$route).params,race:p.key}}},{default:n(()=>[H($(p.name),1)]),_:2},1032,["to"])]),_:2},1032,["coords","src","width"])],2)]),_:2},1032,["value"]))),128))]),_:1},8,["model-value"])])}}}),St=q(Tt,[["__scopeId","data-v-f1152851"]]),Vt={key:0,class:"d-flex row-warp align-center my-1"},It={class:"ml-2 mt-n1"},Dt={class:"ml-2 mt-n1"},jt=["innerHTML"],Mt={class:"text-white bg-red mx-2 rounded-lg"},Rt={class:"text-white bg-blue mx-2 rounded-lg"},Ht={class:"d-flex align-center"},Et={class:"ml-2 mt-n1"},Ut={key:0,class:"d-flex align-center"},Nt={class:"ml-2 mt-n1"},Bt={class:"upgrades-wrapper"},Lt=j({__name:"DetailsUnit",props:{item:{}},async setup(e){let l,u;const r=B(["characteristics","upgrades","items"]),[b,{gold:o,bounty:a,range:i,attackSpeed:_}]=de(),y=R("raceName"),{iconProps:v,iconsSrc:d}=([l,u]=F(()=>L(y)),l=await l,u(),l),p=R("objFinder"),c=h(()=>!isNaN(Number(e.item.hpReg))),m=h(()=>!isNaN(Number(e.item.mpReg))),g=h(()=>{var P;return(P=e.item.upgrades)==null?void 0:P.map(k=>p("upgrade",k)).filter(X)});return(P,k)=>{var ge;const C=re,ye=ne,Le=E;return x(),T(U,null,[J(P.$slots,"fullname",{},void 0,!0),(ge=e.item.tags)!=null&&ge.length?(x(),T("div",Vt,[k[1]||(k[1]=f("div",{class:"text-subtitle-2"},"Tags:",-1)),(x(!0),T(U,null,G(e.item.tags,A=>(x(),w(tt,{class:"ma-1 mr-0",density:"compact",size:"small"},{default:n(()=>[H($(A),1)]),_:2},1024))),256))])):S("",!0),s(we,{class:"my-1"},{default:n(()=>[s(N,{cols:"6",class:"d-flex align-center py-0"},{default:n(()=>[s(C,{src:t(b),coords:t(o),width:"32",description:"Cost"},null,8,["src","coords"]),f("span",It,$(e.item.cost),1)]),_:1}),s(N,{cols:"6",class:"d-flex align-center py-0"},{default:n(()=>[s(C,{src:t(b),coords:t(a),width:"32",description:"Kill bounty"},null,8,["src","coords"]),f("span",Dt,$(e.item.bounty),1)]),_:1})]),_:1}),s(_e,{elevation:"0",static:"",tile:"",multiple:"",modelValue:t(r),"onUpdate:modelValue":k[0]||(k[0]=A=>te(r)?r.value=A:null)},{default:n(()=>{var A;return[e.item.description?(x(),w(M,{key:0,title:"Description",value:"description"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",{class:"text-body-2",innerHTML:e.item.description},null,8,jt)]),_:1})]),_:1})):S("",!0),J(P.$slots,"heroItems",{},void 0,!0),s(M,{title:"Characteristics",value:"characteristics"},{default:n(()=>[s(D,null,{default:n(()=>[s(we,{class:"my-1"},{default:n(()=>[s(N,{cols:"6",class:"text-center pt-0"},{default:n(()=>[f("div",Mt,[f("b",null,$(e.item.hp),1),t(c)?(x(),T(U,{key:0},[H(" +"+$(e.item.hpReg)+"/sec",1)],64)):S("",!0)])]),_:1}),s(N,{cols:"6",class:"text-center pt-0"},{default:n(()=>[f("div",Rt,[f("b",null,$(e.item.mp),1),t(m)?(x(),T(U,{key:0},[H(" +"+$(e.item.mpReg)+"/sec",1)],64)):S("",!0)])]),_:1}),s(N,{cols:"6",class:"py-0"},{default:n(()=>[s(ye,{type:e.item.atkType,value:e.item.atk},null,8,["type","value"]),f("div",Ht,[s(C,{src:t(b),coords:t(i),width:"32",description:"Attack range"},null,8,["src","coords"]),f("span",Et,$(e.item.atkRange)+$(e.item.weaponType==="normal"?" (melee)":""),1)]),e.item.atkSpeed?(x(),T("div",Ut,[s(C,{src:t(b),coords:t(_),width:"32",description:"Attack speed"},null,8,["src","coords"]),f("span",Nt,$(e.item.atkSpeed.toFixed(2))+" BCD",1)])):S("",!0)]),_:1}),s(N,{cols:"6",class:"py-0"},{default:n(()=>[s(ye,{type:e.item.defType,value:e.item.def,"is-defend":""},null,8,["type","value"])]),_:1}),J(P.$slots,"attributes",{},void 0,!0)]),_:3})]),_:3})]),_:3}),(A=t(g))!=null&&A.length?(x(),w(M,{key:1,title:"Upgrades used",value:"upgrades"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",Bt,[(x(!0),T(U,null,G(t(g),ie=>(x(),w(Le,{item:ie,src:t(d),coords:t(v)(ie.id,ie.iconsCount)},null,8,["item","src","coords"]))),256))])]),_:1})]),_:1})):S("",!0)]}),_:3},8,["modelValue"])],64)}}}),le=q(Lt,[["__scopeId","data-v-27036373"]]),Ft=["innerHTML"],Ot={class:"d-flex justify-center"},At=j({__name:"DetailsHero",props:{item:{}},async setup(e){let l,u;const r=R("raceName"),{iconProps:b,iconsSrc:o}=([l,u]=F(()=>L(r)),l=await l,u(),l),[a,{str:i,int:_,agi:y}]=de(),v=h(()=>{if(!e.item.items)return[];const d=e.item.items.map(({level:c})=>c);if(!(d!=null&&d.length))return[];const p=d.filter(qe).sort((c,m)=>c-m).reduce((c,m,g)=>(c[m]=ve[g],c),{});return e.item.items.map(c=>({...c,hotkey:p[c.level]}))});return(d,p)=>{const c=se,m=E,g=O,P=le;return x(),w(P,{item:e.item},{fullname:n(()=>[f("div",{innerHTML:e.item.fullName,class:"text-center text-subtitle-1"},null,8,Ft)]),attributes:n(()=>[s(N,{cols:"4",class:"text-center pb-0"},{default:n(()=>[s(c,{width:"32",src:t(a),coords:t(i),padding:[0,8,8,0]},null,8,["src","coords"]),f("div",{class:V({"text-yellow":e.item.stat==="str","font-bold":e.item.stat==="str"})},$(e.item.str)+"+"+$(e.item.strLvl),3)]),_:1}),s(N,{cols:"4",class:"text-center pb-0"},{default:n(()=>[s(c,{width:"32",src:t(a),coords:t(y),padding:[0,8,8,0]},null,8,["src","coords"]),f("div",{class:V({"text-yellow":e.item.stat==="agi","font-bold":e.item.stat==="agi"})},$(e.item.agi)+"+"+$(e.item.agiLvl),3)]),_:1}),s(N,{cols:"4",class:"text-center pb-0"},{default:n(()=>[s(c,{width:"32",src:t(a),coords:t(_),padding:[0,8,8,0]},null,8,["src","coords"]),f("div",{class:V({"text-yellow":e.item.stat==="int","font-bold":e.item.stat==="int"})},$(e.item.int)+"+"+$(e.item.intLvl),3)]),_:1})]),heroItems:n(()=>[t(v).length?(x(),w(M,{key:0,title:"Hero items",value:"items"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",Ot,[s(g,{items:t(v),size:.75},{default:n(({item:k})=>[s(m,{src:t(o),coords:t(b)(k.id),item:k},null,8,["src","coords","item"])]),_:1},8,["items"])])]),_:1})]),_:1})):S("",!0)]),_:1},8,["item"])}}}),Gt=q(At,[["__scopeId","data-v-dc1de915"]]),Wt=["innerHTML"],zt={class:"d-flex justify-center"},qt={class:"d-flex justify-center"},Qt=j({__name:"DetailsUpgrade",props:{item:{}},async setup(e){let l,u;const r=B(["spells","summons","affects"]),b=R("raceName"),{raceData:o,iconProps:a,iconsSrc:i}=([l,u]=F(()=>L(b)),l=await l,u(),l),_=h(()=>{var d;return((d=e.item.spells)==null?void 0:d.map(p=>p.summonUnit).flat().filter(X).filter(Qe))??[]}),y=h(()=>e.item.spells),v=h(()=>{const d=Object.values(o.units).filter(({upgrades:c})=>c==null?void 0:c.includes(e.item.id)),p=o.bonuses.map(({units:c})=>c??[]).flat().filter(({upgrades:c})=>c==null?void 0:c.includes(e.item.id)).map(c=>{var g;const m=((g=o.bonuses.find(({units:P})=>P==null?void 0:P.some(({id:k})=>k===c.id)))==null?void 0:g.id)??"";return{...c,id:m}});return[...d,...p]});return(d,p)=>{const c=E,m=O,g=le;return x(),w(_e,{elevation:"0",static:"",tile:"",multiple:"",modelValue:t(r),"onUpdate:modelValue":p[0]||(p[0]=P=>te(r)?r.value=P:null)},{default:n(()=>{var P;return[e.item.description?(x(),w(M,{key:0,title:"Description",value:"description"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",{class:"text-body-2",innerHTML:e.item.description},null,8,Wt)]),_:1})]),_:1})):S("",!0),(P=t(y))!=null&&P.length?(x(),w(M,{key:1,title:"Spells",value:"spells"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",zt,[s(m,{items:t(y),"disable-details":"","skip-hotkey":""},{default:n(({item:k})=>[s(c,{item:k,src:t(i),coords:t(a)(k.id,k.iconsCount)},null,8,["item","src","coords"])]),_:1},8,["items"])])]),_:1})]),_:1})):S("",!0),(x(!0),T(U,null,G(t(_),k=>(x(),w(M,{title:`Summon: ${k.name}`,value:`summon-${k.id}`},{default:n(()=>[s(D,null,{default:n(()=>[s(g,{item:k},null,8,["item"])]),_:2},1024)]),_:2},1032,["title","value"]))),256)),t(v).length?(x(),w(M,{key:2,title:"Affects",value:"affects"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",qt,[s(m,{items:t(v),"disable-details":"","skip-hotkey":""},{default:n(({item:k})=>[s(c,{item:k,src:t(i),coords:t(a)(k.id,k.iconsCount)},null,8,["item","src","coords"])]),_:1},8,["items"])])]),_:1})]),_:1})):S("",!0)]}),_:1},8,["modelValue"])}}}),Yt=j({__name:"DetailsSpell",props:{item:{}},setup(e){return(l,u)=>(x(),T("div"))}}),Jt={class:"cost"},Kt=j({__name:"CombineCost",props:{items:{},count:{}},setup(e){const[l,{gold:u}]=de(),r=h(()=>Ce(e.items).reduce((b,{cost:o})=>{var a;return b+((a=o??[])==null?void 0:a.slice(0,e.count).reduce((i,_)=>i+(_??0),0))},0));return(b,o)=>{const a=se,i=Ee;return x(),w(i,null,{default:n(()=>[s(fe,{location:"top"},{activator:n(({props:_})=>[f("div",ue({class:"d-flex align-center"},_),[s(a,{src:t(l),coords:t(u),width:"16"},null,8,["src","coords"]),f("span",Jt,$(t(r)),1)],16)]),default:n(()=>[J(b.$slots,"default",{},()=>[o[0]||(o[0]=H("Total cost",-1))],!0)]),_:3})]),_:3})}}}),be=q(Kt,[["__scopeId","data-v-1bade672"]]),Xt=["innerHTML"],Zt={class:"d-flex justify-center"},es={class:"d-flex justify-center"},ts=j({__name:"DetailsBonus",props:{item:{}},async setup(e){let l,u;const r=R("objFinder"),b=R("raceName"),{iconProps:o,iconsSrc:a}=([l,u]=F(()=>L(b)),l=await l,u(),l),i=B(["grid","opens"]);Te(()=>e.item,d=>{var p;i.value=["grid"].concat(((p=d.units)==null?void 0:p.map(({id:c})=>`unit-${c}`))??[])});const _=h(()=>{var d;return(((d=e.item.spells)==null?void 0:d.length)??0)>1?!0:[e.item.units,e.item.upgrades].some(p=>!!(p!=null&&p.length))}),y=h(()=>[...(e.item.spells??[]).filter(({name:d})=>!!d),...e.item.upgrades??[]]),v=h(()=>e.item.relatedID.map(d=>r("upgrade",d)).filter(X));return(d,p)=>{const c=be,m=E,g=O,P=se,k=le;return x(),w(_e,{elevation:"0",static:"",tile:"",multiple:"",modelValue:t(i),"onUpdate:modelValue":p[0]||(p[0]=C=>te(i)?i.value=C:null)},{default:n(()=>[e.item.description?(x(),w(M,{key:0,title:"Description",value:"description"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",{class:"text-body-2",innerHTML:e.item.description},null,8,Xt)]),_:1})]),_:1})):S("",!0),t(_)&&t(y).length?(x(),w(M,{key:1,value:"grid"},{default:n(()=>[s(ce,{width:"100%",class:"d-flex"},{default:n(()=>[p[2]||(p[2]=f("span",{class:"mr-auto"},"Bonus spells/upgrades",-1)),s(c,{items:e.item.upgrades??[]},{default:n(()=>[...p[1]||(p[1]=[H(" Total cost ",-1)])]),_:1},8,["items"])]),_:1}),s(D,null,{default:n(()=>[f("div",Zt,[t(_)&&t(y).length?(x(),w(g,{key:0,items:t(y),"disable-details":"","show-empty":""},{default:n(({item:C})=>[s(m,{src:t(a),coords:t(o)(C.id,C.iconsCount),item:C},null,8,["src","coords","item"])]),_:1},8,["items"])):S("",!0)])]),_:1})]),_:1})):S("",!0),(x(!0),T(U,null,G(e.item.units,C=>(x(),w(M,{title:`Unit: ${C.name}`,value:`unit-${C.id}`},{title:n(()=>[s(P,{src:t(a),coords:t(o)(C.id),width:"32",class:"mr-2"},null,8,["src","coords"]),f("span",null,"Unit: "+$(C.name),1)]),default:n(()=>[s(D,null,{default:n(()=>[s(k,{item:C},null,8,["item"])]),_:2},1024)]),_:2},1032,["title","value"]))),256)),t(v).length?(x(),w(M,{key:2,title:"Unlocked upgrades",value:"opens"},{default:n(()=>[s(D,null,{default:n(()=>[f("div",es,[s(g,{items:t(v),"disable-details":"","skip-hotkey":""},{default:n(({item:C})=>[s(m,{src:t(a),coords:t(o)(C.id,C.iconsCount),item:C},null,8,["src","coords","item"])]),_:1},8,["items"])])]),_:1})]),_:1})):S("",!0)]),_:1},8,["modelValue"])}}}),ss=({item:e})=>{const l=Ce(e);if(l){if(Se(l))return Q(le,{item:l});if(Ye(l))return Q(Gt,{item:l});if(Je(l))return Q(Qt,{item:l});if(Ve(l))return Q(Yt,{item:l});if(Ie(l))return Q(ts,{item:l})}},ns={key:0,class:"d-flex align-center justify-space-between panel-header pb-2 elevation-1 mb-2"},as=["innerHTML"],os={class:"panel-details"},ls=j({__name:"DetailsProvider",props:{objFinder:{type:Function},raceName:{}},async setup(e){let l,u;const{iconProps:r,iconsSrc:b}=([l,u]=F(()=>L(e.raceName)),l=await l,u(),l),o=B(null),a=yt(),i=h({get:()=>!!o.value,set:v=>{v||(o.value=null)}});Ke(()=>{a.value&&["bonus","spell","unit","hero","upgrade"].forEach(v=>{var p;if(!a.value||((p=o.value)==null?void 0:p.id)===a.value)return;const d=e.objFinder(v,a.value);d&&(o.value=d)})}),Te(()=>o.value,v=>a.value=v==null?void 0:v.id);const _=v=>{o.value=v},y=()=>{var v;navigator.clipboard.writeText(((v=o.value)==null?void 0:v.id)||"")};return Y("detailsSet",_),Y("objFinder",e.objFinder),Y("raceName",e.raceName),(v,d)=>{const p=se,c=ss,m=Ee;return x(),T(U,null,[s(m,null,{default:n(()=>[s(gt,{modelValue:t(i),"onUpdate:modelValue":d[1]||(d[1]=g=>te(i)?i.value=g:null),location:"left",temporary:"","disable-resize-watcher":"",elevation:"4",class:"pa-2",width:"400","disable-route-watcher":""},{default:n(()=>[t(o)?(x(),T("div",ns,[s(fe,{color:"transparent"},{activator:n(({props:g})=>[s(p,ue({src:t(b),coords:t(r)(t(o).id),width:"32"},g,{onClick:y}),null,16,["src","coords"])]),default:n(()=>[H(" ID: "+$(t(o).id),1)]),_:1}),f("span",{innerHTML:t(o).name,class:"text-h6 mx-2"},null,8,as),s(W,{density:"comfortable",icon:"",flat:"",onClick:d[0]||(d[0]=g=>_(null))},{default:n(()=>[s(Re,{icon:"$close"})]),_:1})])):S("",!0),f("div",os,[s(c,{item:t(o)},null,8,["item"])])]),_:1},8,["modelValue"])]),_:1}),J(v.$slots,"default",{},void 0,!0)],64)}}}),is=q(ls,[["__scopeId","data-v-e1fba027"]]),cs={class:"text-h6"},rs=["innerHTML"],us={key:0,class:"text-subtitle-1"},ds={class:"text-yellow"},ms={key:1,class:"text-subtitle-1"},fs={key:0,class:"text-green"},ps=j({__name:"RaceFortress",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=R("hover",B()),u=h(()=>[e.race.t1spell,e.race.t2spell,e.race.ultiData].filter(X)),r=h(()=>e.race.magic.map((o,a)=>({...o,hotkey:ve[a]})).concat(...Object.values(e.race.baseUpgrades))),b=o=>{const a=Object.values(e.race.units).filter(({upgrades:i})=>i==null?void 0:i.includes(o.id)).map(({id:i})=>i);l.value=[o.id,...a]};return(o,a)=>{const i=pe,_=ne,y=be,v=xe,d=O,p=re,c=oe;return x(),w(c,{title:"Fortress",class:"d-flex flex-column justify-start","full-height":!1,id:"fortress"},{title:n(()=>[s(i,{"hide-dot":"",item:e.race.buildings.fort[1]},{default:n(()=>[s(W,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:n(()=>[...a[1]||(a[1]=[f("b",null,"Fortress",-1)])]),_:1})]),_:1},8,["item"])]),prependHead:n(()=>[s(_,{key:"fort-attack",class:"ml-1",type:e.race.buildings.fort[1].atkType},null,8,["type"])]),appendHead:n(()=>[s(y,{key:"fort-cost",class:"mr-1",items:t(r)},null,8,["items"])]),default:n(()=>[s(v,{class:"mb-2 mt-n6"},{default:n(()=>[...a[2]||(a[2]=[f("span",{class:"mx-2 text-caption text-grey"},"Auras",-1)])]),_:1}),s(d,{class:"mx-auto",items:e.race.auras},{default:n(({item:m})=>[s(t(E),{item:m,src:e.icons,coords:e.iconProps(m.id),class:V(["selectable-item",{depressed:t(l)&&!t(l).includes(m.id)}])},null,8,["item","src","coords","class"])]),_:1},8,["items"]),s(v,{class:"mb-1"},{default:n(()=>[...a[3]||(a[3]=[f("span",{class:"mx-2 text-caption text-grey"},"Upgrades",-1)])]),_:1}),s(d,{class:"mx-auto",items:t(r)},{default:n(({item:m})=>[s(t(E),{item:m,src:e.icons,coords:!("level"in m)||(m.iconsCount??0)<=1?e.iconProps(m.id,m.iconsCount):e.iconProps(`${m.id}-${m.level}`),class:V(["selectable-item",{depressed:t(l)&&!t(l).includes(m.id)}]),onMouseenter:()=>b(m),onMouseout:a[0]||(a[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),s(v,{class:"mb-1"},{default:n(()=>[...a[4]||(a[4]=[f("span",{class:"mx-2 text-caption text-grey"},"Skills",-1)])]),_:1}),s(d,{class:"mx-auto",items:t(u)},{default:n(({item:m})=>[("isSpellObject"in o?o.isSpellObject:t(Ve))(m)?(x(),w(t(E),{key:0,item:m,src:e.icons,coords:e.iconProps(m.id),class:V(["selectable-item",{depressed:t(l)&&!t(l).includes(m.id)}])},null,8,["item","src","coords","class"])):(x(),w(p,{key:1,src:e.icons,coords:e.iconProps(m.id)},{tooltip:n(()=>[f("div",cs,[a[5]||(a[5]=H(" Precision UW: ",-1)),f("span",{innerHTML:m.name.replace(/\[.+\]/g,"")},null,8,rs)]),a[8]||(a[8]=f("br",null,null,-1)),"damageTime"in m?(x(),T("div",us,[a[6]||(a[6]=H(" Time to full damage: ",-1)),f("span",ds,$(m.damageTime==0?"Instant":m.damageTime+"s"),1)])):S("",!0),"stealInterrupt"in m?(x(),T("div",ms,[a[7]||(a[7]=H(" Interrupts mana steal: ",-1)),f("span",{class:V(m.stealInterrupt?"text-green":"text-red")},$(m.stealInterrupt?"Yes":"No"),3),m.fakeStealInterrupt?(x(),T("span",fs," (+ Decoy UW) ")):S("",!0)])):S("",!0)]),_:2},1032,["src","coords"]))]),_:1},8,["items"])]),_:1})}}}),vs=j({__name:"RaceTowers",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=R("hover",B()),u=h(()=>[...(e.race.buildings.tower.skills??[]).map((o,a)=>({...o,hotkey:o.hotkey||ve[a]})),...e.race.towerUpgrades]),r=h(()=>Object.values(e.race.bonuses).reduce((o,{id:a,relatedID:i})=>(i.forEach(_=>{o[_]=a}),o),{})),b=o=>{const a=Object.values(e.race.units).filter(({upgrades:i})=>i==null?void 0:i.includes(o.id)).map(({id:i})=>i);l.value=[o.id,r.value[o.id],...a]};return(o,a)=>{const i=pe,_=ne,y=be,v=E,d=O,p=oe;return x(),w(p,{title:"Towers","full-height":!1,class:"d-flex flex-column",id:"upgrades"},{title:n(()=>[s(i,{"hide-dot":"",item:e.race.buildings.tower},{default:n(()=>[s(W,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:n(()=>[...a[1]||(a[1]=[f("b",null,"Towers",-1)])]),_:1})]),_:1},8,["item"])]),prependHead:n(()=>[s(_,{key:"tower-attack",class:"ml-1",type:e.race.buildings.tower.atkType},null,8,["type"])]),appendHead:n(()=>[s(y,{key:"tower-cost",items:e.race.towerUpgrades,count:3},{default:n(()=>[...a[2]||(a[2]=[H(" Total cost (Lv3) ",-1)])]),_:1},8,["items"])]),default:n(()=>[s(d,{class:"mx-auto",items:t(u),"restricted-slots":["Q","W"]},{default:n(({item:c})=>[s(v,{item:c,src:e.icons,coords:e.iconProps(c.id,c.iconsCount),class:V(["selectable-item",{depressed:t(l)&&!t(l).includes(c.id)}]),onMouseenter:()=>b(c),onMouseout:a[0]||(a[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"])]),_:1})}}}),xs={class:"d-flex flex-wrap"},_s=["innerHTML"],bs=j({__name:"RaceBonuses",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=R("hover",B()),u=new Intl.Collator("en").compare,r=h(()=>Object.values(e.race.bonusBuildings).sort(({name:o},{name:a})=>u(o,a))),b=o=>{if(!Ie(o)){l.value=[o.id,...e.race.bonuses.filter(({buildingId:i})=>i===o.id).map(({id:i})=>i)].filter(X);return}const a=Object.values(e.race.units).filter(({hotkey:i})=>{var _;return(_=o.units)==null?void 0:_.some(y=>y.hotkey===i)}).map(({id:i})=>i);l.value=[o.id,o.buildingId,...o.relatedID,...a]};return(o,a)=>{const i=E,_=O,y=xe,v=oe;return x(),T("div",{style:z({gridRow:`span ${1+Math.floor(t(r).length/5)}`})},[s(v,{title:"Bonuses","full-height":!1,class:"d-flex flex-column align-center justify-start",id:"bonuses"},{title:n(()=>[s(fe,{"open-on-click":"","open-on-hover":!1,offset:[-4,0],"close-on-back":"",location:"top",transition:{component:t(at)}},{activator:n(({props:d})=>[s(W,ue({size:"large",class:"mx-auto",variant:"text",color:"yellow"},d),{default:n(()=>[...a[2]||(a[2]=[f("b",null,"Bonuses",-1)])]),_:1},16)]),default:n(()=>[a[3]||(a[3]=f("span",null,"There is no easter eggs",-1))]),_:1},8,["transition"])]),default:n(()=>[s(_,{items:e.race.bonuses},{default:n(({item:d})=>[s(i,{item:d,src:e.icons,coords:e.iconProps(d.id),class:V(["selectable-item",{depressed:t(l)&&!t(l).includes(d.id)}]),onMouseenter:()=>b(d),onMouseout:a[0]||(a[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),s(y,{class:"my-1"},{default:n(()=>[...a[4]||(a[4]=[f("span",{class:"mx-2 text-caption text-grey text-no-wrap"},"Bonus buildings",-1)])]),_:1}),f("div",xs,[(x(!0),T(U,null,G(t(r),d=>(x(),w(W,{class:"my-1 mx-2 cursor-default",variant:"text",size:"x-small",active:t(l)&&t(l).includes(d.id),onMouseover:()=>b(d),onMouseout:a[1]||(a[1]=()=>l.value=void 0)},{default:n(()=>[f("span",{innerHTML:d.name},null,8,_s)]),_:2},1032,["active","onMouseover"]))),256))])]),_:1})],4)}}}),ys=j({__name:"RaceBarracks",props:{race:{},icons:{},iconProps:{type:Function}},setup(e){const l=R("hover",B()),u={melee:"A",range:"S",mage:"D",siege:"F",air:"E",catapult:"R"},r=h(()=>Object.entries(e.race.units).map(([a,i])=>({...i,hotkey:u[a]}))),b=h(()=>{var i;return[...((i=e.race.buildings.barrack.find(_=>{var y;return(y=_.skills)==null?void 0:y.length}))==null?void 0:i.skills)??[],...r.value]}),o=a=>{Se(a)&&(l.value=[a.id,...a.upgrades??[]])};return(a,i)=>{const _=pe,y=ne,v=xe,d=O,p=oe;return x(),w(p,{title:"Barracks","full-height":!1,class:"d-flex flex-column",id:"units"},{title:n(()=>[s(_,{"hide-dot":"",item:e.race.buildings.barrack[0]},{default:n(()=>[s(W,{size:"large",class:"mx-auto",variant:"text",color:"yellow"},{default:n(()=>[...i[1]||(i[1]=[f("b",null,"Barracks",-1)])]),_:1})]),_:1},8,["item"])]),prependHead:n(()=>[s(y,{key:"barrack-attack",class:"ml-1",type:e.race.buildings.barrack[0].atkType},null,8,["type"])]),default:n(()=>[s(v,{class:"mb-2 mt-n6"},{default:n(()=>[...i[2]||(i[2]=[f("span",{class:"mx-2 text-caption text-grey"},"Units",-1)])]),_:1}),s(d,{class:"mx-auto",items:t(b)},{default:n(({item:c})=>[s(t(E),{item:c,src:e.icons,coords:e.iconProps(c.id),class:V(["selectable-item",{depressed:t(l)&&!t(l).includes(c.id)}]),onMouseenter:()=>o(c),onMouseout:i[0]||(i[0]=()=>l.value=void 0)},null,8,["item","src","coords","class","onMouseenter"])]),_:1},8,["items"]),s(v,{class:"mb-1"},{default:n(()=>[...i[3]||(i[3]=[f("span",{class:"mx-2 text-caption text-grey"},"Heroes",-1)])]),_:1}),s(d,{class:"mx-auto",items:e.race.heroes},{default:n(({item:c})=>[s(t(E),{item:c,src:e.icons,coords:e.iconProps(c.id),class:V(["selectable-item",{depressed:t(l)&&!t(l).includes(c.id)}])},null,8,["item","src","coords","class"])]),_:1},8,["items"])]),_:1})}}}),gs=j({__name:"racePage",async setup(e){let l,u;const r=Xe(),[b]=[Ze().currentRoute.value.params.race].flat(),{raceData:o,iconProps:a,iconsSrc:i,version:_}=([l,u]=F(()=>L(b)),l=await l,u(),l),y=(c,m)=>{switch(c){case"upgrade":return Object.values(o.baseUpgrades).concat(o.magic).concat(o.towerUpgrades).find(g=>g.id===m);case"unit":return Object.values(o.units).find(g=>g.id===m);case"bonus":return Object.values(o.bonuses).find(g=>g.id===m);case"hero":return o.heroes.find(g=>g.id===m);case"spell":return[o.t1spell,o.t2spell].find(g=>g.id===m);default:return}},v=De("iconSize",wt),d=h(()=>({gridTemplateColumns:`repeat(auto-fill, minmax(${+v.value*5}px, 1fr))`})),p=kt?h(()=>{}):B();return Y("hover",p),r.runWithContext(()=>{dt({title:`${o.name} v${_}`,description:`${o.name} of Survival Chaos v${_}: race info, bonuses, upgrades, units and heroes`,ogDescription:`${o.name} of Survival Chaos v${_}: race info, bonuses, upgrades, units and heroes`}),mt({link:[{rel:"preload",as:"image",href:i}]})}),(c,m)=>{const g=St,P=is;return x(),T("div",null,[s(g,{class:"mb-2"}),s(P,{"obj-finder":y,"race-name":t(b)},{default:n(()=>[f("div",{class:"race-container",style:z(t(d))},[s(ht,{race:t(o),style:{"flex-basis":"300px"}},null,8,["race"]),s(ps,{race:t(o),icons:t(i),"icon-props":t(a)},null,8,["race","icons","icon-props"]),s(vs,{race:t(o),icons:t(i),"icon-props":t(a)},null,8,["race","icons","icon-props"]),s(bs,{race:t(o),icons:t(i),"icon-props":t(a)},null,8,["race","icons","icon-props"]),s(ys,{race:t(o),icons:t(i),"icon-props":t(a)},null,8,["race","icons","icon-props"])],4)]),_:1},8,["race-name"])])}}}),Qs=q(gs,[["__scopeId","data-v-aea57093"]]);export{Qs as default};
